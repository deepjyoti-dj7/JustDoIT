# ‚ö†Ô∏è Exception Basics

## üìñ Overview

An **Exception** is an unwanted or unexpected event that occurs during the execution of a program and disrupts the normal flow of instructions. Java provides a robust exception handling mechanism to handle runtime errors.

**Key Concepts:**
- Exception is an object representing an error
- Separates error-handling code from regular code
- Propagates errors up the call stack
- Allows program to continue or terminate gracefully

---

## üéØ What is an Exception?

```
Exception = An event that disrupts normal program flow

Examples:
- Dividing by zero
- Accessing null reference
- Array index out of bounds
- File not found
- Network connection failure
```

---

## üíª Example 1: What Happens Without Exception Handling?

```java
public class WithoutExceptionHandling {
    public static void main(String[] args) {
        System.out.println("Program started");
        
        int a = 10;
        int b = 0;
        
        // This will crash the program
        int result = a / b;  // ArithmeticException
        
        // This line never executes
        System.out.println("Result: " + result);
        System.out.println("Program ended");
    }
}
```

**Output:**
```
Program started
Exception in thread "main" java.lang.ArithmeticException: / by zero
```

---

## üíª Example 2: Basic Exception Handling

```java
public class BasicExceptionHandling {
    public static void main(String[] args) {
        System.out.println("Program started");
        
        try {
            int a = 10;
            int b = 0;
            int result = a / b;  // Exception occurs here
            System.out.println("Result: " + result);
        } catch (ArithmeticException e) {
            System.out.println("Error: Cannot divide by zero!");
            System.out.println("Exception: " + e.getMessage());
        }
        
        // Program continues normally
        System.out.println("Program ended successfully");
    }
}
```

**Output:**
```
Program started
Error: Cannot divide by zero!
Exception: / by zero
Program ended successfully
```

---

## üíª Example 3: Multiple Exceptions

```java
public class MultipleExceptions {
    public static void main(String[] args) {
        System.out.println("=== Example 1: ArithmeticException ===");
        try {
            int result = 10 / 0;
        } catch (ArithmeticException e) {
            System.out.println("Caught: " + e.getClass().getSimpleName());
        }
        
        System.out.println("\n=== Example 2: NullPointerException ===");
        try {
            String str = null;
            System.out.println(str.length());
        } catch (NullPointerException e) {
            System.out.println("Caught: " + e.getClass().getSimpleName());
        }
        
        System.out.println("\n=== Example 3: ArrayIndexOutOfBoundsException ===");
        try {
            int[] arr = {1, 2, 3};
            System.out.println(arr[5]);
        } catch (ArrayIndexOutOfBoundsException e) {
            System.out.println("Caught: " + e.getClass().getSimpleName());
        }
        
        System.out.println("\n=== Example 4: NumberFormatException ===");
        try {
            int num = Integer.parseInt("abc");
        } catch (NumberFormatException e) {
            System.out.println("Caught: " + e.getClass().getSimpleName());
        }
        
        System.out.println("\nAll exceptions handled gracefully!");
    }
}
```

---

## üíª Example 4: Exception Object Methods

```java
public class ExceptionMethods {
    public static void main(String[] args) {
        try {
            int[] arr = new int[5];
            arr[10] = 50;
        } catch (ArrayIndexOutOfBoundsException e) {
            System.out.println("=== Exception Object Methods ===\n");
            
            // 1. getMessage() - returns exception message
            System.out.println("getMessage(): " + e.getMessage());
            
            // 2. toString() - returns exception class name and message
            System.out.println("\ntoString(): " + e.toString());
            
            // 3. printStackTrace() - prints complete stack trace
            System.out.println("\nprintStackTrace():");
            e.printStackTrace();
            
            // 4. getClass() - returns exception class
            System.out.println("\ngetClass(): " + e.getClass());
            
            // 5. getLocalizedMessage() - returns localized message
            System.out.println("\ngetLocalizedMessage(): " + e.getLocalizedMessage());
        }
    }
}
```

---

## üíª Example 5: Exception Propagation

```java
public class ExceptionPropagation {
    static void method1() {
        int result = 10 / 0;  // Exception occurs here
    }
    
    static void method2() {
        method1();  // Exception propagates to method2
    }
    
    static void method3() {
        method2();  // Exception propagates to method3
    }
    
    public static void main(String[] args) {
        System.out.println("Program started");
        
        try {
            method3();  // Exception propagates to main
        } catch (ArithmeticException e) {
            System.out.println("Exception caught in main!");
            System.out.println("Message: " + e.getMessage());
            
            System.out.println("\nStack Trace:");
            for (StackTraceElement element : e.getStackTrace()) {
                System.out.println("  at " + element);
            }
        }
        
        System.out.println("\nProgram ended");
    }
}
```

---

## üíª Example 6: Catching Multiple Exception Types

```java
public class CatchMultipleTypes {
    public static void main(String[] args) {
        // Example 1: Separate catch blocks
        System.out.println("=== Method 1: Separate Catch Blocks ===");
        try {
            String str = null;
            System.out.println(str.length());
        } catch (NullPointerException e) {
            System.out.println("Null pointer: " + e.getMessage());
        } catch (ArithmeticException e) {
            System.out.println("Arithmetic error: " + e.getMessage());
        } catch (ArrayIndexOutOfBoundsException e) {
            System.out.println("Array index error: " + e.getMessage());
        }
        
        // Example 2: Multi-catch (Java 7+)
        System.out.println("\n=== Method 2: Multi-Catch ===");
        try {
            int[] arr = {1, 2, 3};
            System.out.println(arr[5]);
        } catch (NullPointerException | ArrayIndexOutOfBoundsException e) {
            System.out.println("Caught: " + e.getClass().getSimpleName());
        }
        
        // Example 3: General catch block
        System.out.println("\n=== Method 3: General Catch ===");
        try {
            int num = Integer.parseInt("xyz");
        } catch (Exception e) {
            System.out.println("General exception: " + e.getClass().getSimpleName());
        }
    }
}
```

---

## üíª Example 7: Nested Try-Catch

```java
public class NestedTryCatch {
    public static void main(String[] args) {
        System.out.println("Outer try block started");
        
        try {
            System.out.println("Outer try: performing operations");
            
            int[] arr = {1, 2, 3, 4, 5};
            System.out.println("Array element: " + arr[2]);
            
            // Inner try-catch
            try {
                System.out.println("\nInner try: dividing numbers");
                int result = 10 / 0;
                System.out.println("Result: " + result);
            } catch (ArithmeticException e) {
                System.out.println("Inner catch: Arithmetic exception!");
            }
            
            System.out.println("\nBack to outer try");
            
            // This will cause exception in outer try
            System.out.println("Accessing index 10: " + arr[10]);
            
        } catch (ArrayIndexOutOfBoundsException e) {
            System.out.println("Outer catch: Array index exception!");
        }
        
        System.out.println("\nProgram continues...");
    }
}
```

---

## üíª Example 8: Exception in Method Call

```java
class Calculator {
    int divide(int a, int b) {
        return a / b;  // May throw ArithmeticException
    }
    
    int getArrayElement(int[] arr, int index) {
        return arr[index];  // May throw ArrayIndexOutOfBoundsException
    }
    
    int parseNumber(String str) {
        return Integer.parseInt(str);  // May throw NumberFormatException
    }
}

public class MethodException {
    public static void main(String[] args) {
        Calculator calc = new Calculator();
        
        // Test 1: Division
        try {
            System.out.println("10 / 2 = " + calc.divide(10, 2));
            System.out.println("10 / 0 = " + calc.divide(10, 0));
        } catch (ArithmeticException e) {
            System.out.println("Error in division: " + e.getMessage());
        }
        
        // Test 2: Array access
        try {
            int[] numbers = {10, 20, 30};
            System.out.println("\nElement at 1: " + calc.getArrayElement(numbers, 1));
            System.out.println("Element at 5: " + calc.getArrayElement(numbers, 5));
        } catch (ArrayIndexOutOfBoundsException e) {
            System.out.println("Error in array access: Index out of bounds");
        }
        
        // Test 3: Parsing
        try {
            System.out.println("\nParsing '123': " + calc.parseNumber("123"));
            System.out.println("Parsing 'abc': " + calc.parseNumber("abc"));
        } catch (NumberFormatException e) {
            System.out.println("Error in parsing: Invalid number format");
        }
    }
}
```

---

## üíª Example 9: Default Exception Handler

```java
public class DefaultExceptionHandler {
    public static void main(String[] args) {
        System.out.println("Program started");
        
        // No exception handling
        // Default exception handler will catch it
        int result = 10 / 0;
        
        // This line never executes
        System.out.println("Result: " + result);
        System.out.println("Program ended");
    }
}
```

**Output (Default Handler):**
```
Program started
Exception in thread "main" java.lang.ArithmeticException: / by zero
    at DefaultExceptionHandler.main(DefaultExceptionHandler.java:6)
```

---

## üíª Example 10: Real-World Example - User Input Validation

```java
import java.util.Scanner;

public class UserInputValidation {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        while (true) {
            try {
                System.out.print("Enter first number: ");
                int num1 = Integer.parseInt(scanner.nextLine());
                
                System.out.print("Enter second number: ");
                int num2 = Integer.parseInt(scanner.nextLine());
                
                System.out.print("Enter operation (+, -, *, /): ");
                String op = scanner.nextLine();
                
                int result = 0;
                boolean validOp = true;
                
                switch (op) {
                    case "+":
                        result = num1 + num2;
                        break;
                    case "-":
                        result = num1 - num2;
                        break;
                    case "*":
                        result = num1 * num2;
                        break;
                    case "/":
                        result = num1 / num2;
                        break;
                    default:
                        validOp = false;
                        System.out.println("Invalid operation!");
                }
                
                if (validOp) {
                    System.out.println("Result: " + result);
                }
                
                break;  // Exit loop on success
                
            } catch (NumberFormatException e) {
                System.out.println("Error: Please enter valid integers!\n");
            } catch (ArithmeticException e) {
                System.out.println("Error: Cannot divide by zero!\n");
            }
        }
        
        scanner.close();
        System.out.println("Program ended");
    }
}
```

---

## üìä Exception Handling Flow

```
Normal Flow (No Exception):
try block ‚Üí rest of program

Exception Flow:
try block ‚Üí exception occurs ‚Üí catch block ‚Üí rest of program

Without Exception Handling:
code ‚Üí exception ‚Üí program terminates
```

---

## üìä Benefits of Exception Handling

| Benefit | Description |
|---------|-------------|
| **Separation of concerns** | Error handling separate from business logic |
| **Error propagation** | Errors propagate up call stack |
| **Cleaner code** | No need for error codes |
| **Robustness** | Program doesn't crash unexpectedly |
| **Debugging** | Stack trace helps locate errors |
| **Recovery** | Program can recover from errors |

---

## üí° Best Practices

1. ‚úÖ **Always handle expected exceptions**
   ```java
   try {
       int num = Integer.parseInt(input);
   } catch (NumberFormatException e) {
       // Handle invalid input
   }
   ```

2. ‚úÖ **Don't catch all exceptions blindly**
   ```java
   // Bad
   try { } catch (Exception e) { }
   
   // Good
   try { } catch (SpecificException e) { }
   ```

3. ‚úÖ **Use specific exception types**
   ```java
   catch (FileNotFoundException e) { }  // Good
   catch (Exception e) { }               // Too general
   ```

4. ‚úÖ **Log exception details**
   ```java
   catch (Exception e) {
       System.err.println("Error: " + e.getMessage());
       e.printStackTrace();
   }
   ```

5. ‚úÖ **Don't suppress exceptions silently**
   ```java
   // Bad
   try { } catch (Exception e) { }
   
   // Good
   catch (Exception e) {
       // Log or handle appropriately
   }
   ```

---

## ‚ö†Ô∏è Common Pitfalls

```java
public class ExceptionPitfalls {
    void demonstrate() {
        // 1. Empty catch block - never do this!
        try {
            int result = 10 / 0;
        } catch (ArithmeticException e) {
            // Silent failure - BAD!
        }
        
        // 2. Catching Exception instead of specific type
        try {
            // code
        } catch (Exception e) {  // Too broad
            // Handle
        }
        
        // 3. Not handling checked exceptions
        // try {
        //     FileReader fr = new FileReader("file.txt");
        // }  // Compile error - must catch or declare
        
        // 4. Swallowing stack trace
        try {
            // code
        } catch (Exception e) {
            System.out.println("Error occurred");  // Lost details!
        }
    }
}
```

---

## üéØ Interview Questions

1. **What is an exception in Java?**
2. **Why use exception handling?**
3. **What happens when exception is not handled?**
4. **What are try, catch, and finally blocks?**
5. **Can we have try without catch?**
6. **Can we have multiple catch blocks?**
7. **What is exception propagation?**
8. **Difference between error and exception?**
9. **What is the base class for all exceptions?**
10. **Can we catch multiple exceptions in one catch?**
11. **What is default exception handler?**
12. **What methods are available in Exception class?**
13. **Can we write code after exception occurs in try?**
14. **What is the purpose of printStackTrace()?**
15. **What is multi-catch block?**

---

## üìö Related Topics

- [try-catch-finally](02.%20try-catch-finally.md)
- [Exception Hierarchy](03.%20Exception%20Hierarchy.md)
- [Checked vs Unchecked Exceptions](04.%20Checked%20vs%20Unchecked%20Exceptions.md)
- [throw & throws](05.%20throw%20%26%20throws.md)
- [Custom Exceptions](06.%20Custom%20Exceptions.md)
