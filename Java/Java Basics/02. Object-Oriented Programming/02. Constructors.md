# üèóÔ∏è Constructors

## üìñ Overview

**Constructor** is a special method used to initialize objects when they are created.

**Key Characteristics:**
- Same name as class
- No return type (not even void)
- Called automatically when object is created
- Used to initialize instance variables
- Can be overloaded
- Can call other constructors (constructor chaining)

---

## üéØ Types of Constructors

```
1. Default Constructor
   - No parameters
   - Provided by Java if no constructor is defined
   
2. Parameterized Constructor
   - Has parameters
   - Used to initialize with specific values
   
3. Copy Constructor
   - Creates object from existing object
```

---

## üíª Example 1: Default Constructor

```java
class Student {
    String name;
    int age;
    
    // Default constructor
    Student() {
        name = "Unknown";
        age = 0;
        System.out.println("Default constructor called");
    }
    
    void display() {
        System.out.println("Name: " + name + ", Age: " + age);
    }
}

public class DefaultConstructorDemo {
    public static void main(String[] args) {
        // Constructor is called automatically
        Student s1 = new Student();
        s1.display();
        
        Student s2 = new Student();
        s2.display();
        
        System.out.println("\nNote: Constructor called each time object is created");
    }
}
```

**Output:**
```
Default constructor called
Name: Unknown, Age: 0
Default constructor called
Name: Unknown, Age: 0

Note: Constructor called each time object is created
```

---

## üíª Example 2: Parameterized Constructor

```java
class Employee {
    int id;
    String name;
    double salary;
    
    // Parameterized constructor
    Employee(int id, String name, double salary) {
        this.id = id;
        this.name = name;
        this.salary = salary;
        System.out.println("Parameterized constructor called");
    }
    
    void displayInfo() {
        System.out.println("ID: " + id);
        System.out.println("Name: " + name);
        System.out.println("Salary: $" + salary);
        System.out.println();
    }
}

public class ParameterizedConstructorDemo {
    public static void main(String[] args) {
        // Create objects with initial values
        Employee emp1 = new Employee(101, "Alice", 50000);
        emp1.displayInfo();
        
        Employee emp2 = new Employee(102, "Bob", 60000);
        emp2.displayInfo();
        
        Employee emp3 = new Employee(103, "Charlie", 55000);
        emp3.displayInfo();
    }
}
```

---

## üíª Example 3: Constructor Overloading

```java
class Rectangle {
    double length;
    double width;
    
    // Constructor 1: No parameters (default)
    Rectangle() {
        length = 1;
        width = 1;
        System.out.println("Default constructor: Square with side 1");
    }
    
    // Constructor 2: One parameter (square)
    Rectangle(double side) {
        length = side;
        width = side;
        System.out.println("Single parameter constructor: Square with side " + side);
    }
    
    // Constructor 3: Two parameters (rectangle)
    Rectangle(double length, double width) {
        this.length = length;
        this.width = width;
        System.out.println("Two parameter constructor: Rectangle " + length + "x" + width);
    }
    
    double calculateArea() {
        return length * width;
    }
    
    void display() {
        System.out.println("Length: " + length + ", Width: " + width);
        System.out.println("Area: " + calculateArea());
        System.out.println();
    }
}

public class ConstructorOverloadingDemo {
    public static void main(String[] args) {
        // Using different constructors
        Rectangle rect1 = new Rectangle();
        rect1.display();
        
        Rectangle rect2 = new Rectangle(5);
        rect2.display();
        
        Rectangle rect3 = new Rectangle(10, 5);
        rect3.display();
    }
}
```

---

## üíª Example 4: Constructor Chaining with 'this()'

```java
class Car {
    String brand;
    String model;
    int year;
    String color;
    
    // Constructor 1: All parameters
    Car(String brand, String model, int year, String color) {
        this.brand = brand;
        this.model = model;
        this.year = year;
        this.color = color;
        System.out.println("Full constructor called");
    }
    
    // Constructor 2: Three parameters, default color
    Car(String brand, String model, int year) {
        this(brand, model, year, "White");  // Calls constructor 1
        System.out.println("Three parameter constructor called");
    }
    
    // Constructor 3: Two parameters, default year and color
    Car(String brand, String model) {
        this(brand, model, 2024);  // Calls constructor 2
        System.out.println("Two parameter constructor called");
    }
    
    // Constructor 4: One parameter, all defaults
    Car(String brand) {
        this(brand, "Unknown");  // Calls constructor 3
        System.out.println("One parameter constructor called");
    }
    
    void display() {
        System.out.println("Brand: " + brand);
        System.out.println("Model: " + model);
        System.out.println("Year: " + year);
        System.out.println("Color: " + color);
        System.out.println();
    }
}

public class ConstructorChainingDemo {
    public static void main(String[] args) {
        System.out.println("=== Creating Car 1 ===");
        Car car1 = new Car("Toyota", "Camry", 2023, "Blue");
        car1.display();
        
        System.out.println("=== Creating Car 2 ===");
        Car car2 = new Car("Honda", "Civic", 2024);
        car2.display();
        
        System.out.println("=== Creating Car 3 ===");
        Car car3 = new Car("Tesla", "Model 3");
        car3.display();
        
        System.out.println("=== Creating Car 4 ===");
        Car car4 = new Car("Ford");
        car4.display();
    }
}
```

---

## üíª Example 5: Copy Constructor

```java
class Book {
    String title;
    String author;
    double price;
    
    // Regular constructor
    Book(String title, String author, double price) {
        this.title = title;
        this.author = author;
        this.price = price;
    }
    
    // Copy constructor
    Book(Book other) {
        this.title = other.title;
        this.author = other.author;
        this.price = other.price;
        System.out.println("Copy constructor called");
    }
    
    void display() {
        System.out.println("Title: " + title);
        System.out.println("Author: " + author);
        System.out.println("Price: $" + price);
        System.out.println();
    }
}

public class CopyConstructorDemo {
    public static void main(String[] args) {
        // Create original object
        Book book1 = new Book("Java Programming", "James Gosling", 45.99);
        System.out.println("Original Book:");
        book1.display();
        
        // Create copy using copy constructor
        Book book2 = new Book(book1);
        System.out.println("Copied Book:");
        book2.display();
        
        // Modify copy
        book2.title = "Advanced Java";
        book2.price = 55.99;
        
        // Original remains unchanged
        System.out.println("After modifying copy:");
        System.out.println("Original:");
        book1.display();
        System.out.println("Copy:");
        book2.display();
    }
}
```

---

## üíª Example 6: Default Constructor Provided by Java

```java
class Simple {
    int x;
    
    // No constructor defined - Java provides default
    
    void display() {
        System.out.println("x = " + x);
    }
}

class WithConstructor {
    int x;
    
    // Constructor defined - Java won't provide default
    WithConstructor(int x) {
        this.x = x;
    }
}

public class DefaultConstructorByJavaDemo {
    public static void main(String[] args) {
        // Java's default constructor is available
        Simple s = new Simple();
        s.display();  // x = 0 (default value)
        
        // Cannot create without parameters - no default constructor
        // WithConstructor w = new WithConstructor();  // ERROR!
        
        // Must use parameterized constructor
        WithConstructor w = new WithConstructor(10);
        System.out.println("w.x = " + w.x);
        
        System.out.println("\nNote: If you define any constructor, " +
                         "Java doesn't provide default constructor");
    }
}
```

---

## üíª Example 7: Private Constructor (Singleton Pattern)

```java
class Database {
    private static Database instance;
    
    // Private constructor - cannot create from outside
    private Database() {
        System.out.println("Database connection created");
    }
    
    // Public method to get instance
    public static Database getInstance() {
        if (instance == null) {
            instance = new Database();
        }
        return instance;
    }
    
    public void query(String sql) {
        System.out.println("Executing: " + sql);
    }
}

public class PrivateConstructorDemo {
    public static void main(String[] args) {
        // Cannot create directly
        // Database db = new Database();  // ERROR: constructor is private
        
        // Get instance through method
        Database db1 = Database.getInstance();
        db1.query("SELECT * FROM users");
        
        Database db2 = Database.getInstance();
        db2.query("INSERT INTO users VALUES (...)");
        
        // Both references point to same object (Singleton)
        System.out.println("\nAre db1 and db2 same? " + (db1 == db2));
    }
}
```

---

## üíª Example 8: Constructor vs Method

```java
class Person {
    String name;
    int age;
    
    // Constructor
    Person(String name, int age) {
        this.name = name;
        this.age = age;
        System.out.println("Constructor: Person created");
    }
    
    // Method with same parameters
    void setPerson(String name, int age) {
        this.name = name;
        this.age = age;
        System.out.println("Method: Person details updated");
    }
    
    void display() {
        System.out.println("Name: " + name + ", Age: " + age);
    }
}

public class ConstructorVsMethodDemo {
    public static void main(String[] args) {
        System.out.println("=== Constructor ===");
        // Called automatically during object creation
        Person p = new Person("Alice", 25);
        p.display();
        
        System.out.println("\n=== Method ===");
        // Called explicitly when needed
        p.setPerson("Bob", 30);
        p.display();
        
        System.out.println("\n=== Key Differences ===");
        System.out.println("1. Constructor: No return type");
        System.out.println("   Method: Has return type");
        System.out.println("2. Constructor: Same name as class");
        System.out.println("   Method: Any valid name");
        System.out.println("3. Constructor: Called automatically on 'new'");
        System.out.println("   Method: Called explicitly");
        System.out.println("4. Constructor: Used for initialization");
        System.out.println("   Method: Used for operations");
    }
}
```

---

## üíª Example 9: Constructor with Validation

```java
class BankAccount {
    private String accountNumber;
    private String accountHolder;
    private double balance;
    
    // Constructor with validation
    BankAccount(String accountNumber, String accountHolder, double initialBalance) {
        // Validate account number
        if (accountNumber == null || accountNumber.length() < 5) {
            System.out.println("Invalid account number!");
            this.accountNumber = "INVALID";
        } else {
            this.accountNumber = accountNumber;
        }
        
        // Validate account holder
        if (accountHolder == null || accountHolder.trim().isEmpty()) {
            System.out.println("Invalid account holder name!");
            this.accountHolder = "Unknown";
        } else {
            this.accountHolder = accountHolder;
        }
        
        // Validate initial balance
        if (initialBalance < 0) {
            System.out.println("Initial balance cannot be negative!");
            this.balance = 0;
        } else {
            this.balance = initialBalance;
        }
        
        System.out.println("Account created successfully");
    }
    
    void display() {
        System.out.println("Account Number: " + accountNumber);
        System.out.println("Account Holder: " + accountHolder);
        System.out.println("Balance: $" + balance);
        System.out.println();
    }
}

public class ConstructorValidationDemo {
    public static void main(String[] args) {
        // Valid account
        System.out.println("=== Valid Account ===");
        BankAccount acc1 = new BankAccount("ACC12345", "John Doe", 1000);
        acc1.display();
        
        // Invalid inputs
        System.out.println("=== Invalid Inputs ===");
        BankAccount acc2 = new BankAccount("123", "", -500);
        acc2.display();
    }
}
```

---

## üíª Example 10: Constructor in Inheritance

```java
class Animal {
    String species;
    
    // Constructor in parent class
    Animal(String species) {
        this.species = species;
        System.out.println("Animal constructor called");
    }
}

class Dog extends Animal {
    String breed;
    
    // Constructor in child class
    Dog(String species, String breed) {
        super(species);  // Call parent constructor
        this.breed = breed;
        System.out.println("Dog constructor called");
    }
    
    void display() {
        System.out.println("Species: " + species);
        System.out.println("Breed: " + breed);
    }
}

public class ConstructorInheritanceDemo {
    public static void main(String[] args) {
        System.out.println("Creating Dog object:");
        Dog dog = new Dog("Canine", "Golden Retriever");
        dog.display();
        
        System.out.println("\nNote: Parent constructor is called first");
    }
}
```

---

## üìä Constructor vs Method

| Feature | Constructor | Method |
|---------|-------------|--------|
| **Name** | Same as class name | Any valid name |
| **Return type** | No return type | Has return type |
| **Call** | Automatically on object creation | Explicitly by name |
| **Purpose** | Initialize object | Perform operations |
| **Inheritance** | Not inherited | Inherited |
| **this()** | Can call another constructor | Cannot call constructor |
| **Overloading** | Yes | Yes |

---

## üìä Constructor Types Comparison

| Type | Parameters | When Used |
|------|------------|-----------|
| **Default** | No parameters | Simple initialization with default values |
| **Parameterized** | Has parameters | Initialize with specific values |
| **Copy** | Object of same class | Create copy of existing object |
| **Private** | Any | Singleton pattern, utility classes |

---

## üí° Best Practices

1. ‚úÖ **Initialize all instance variables in constructor**
   ```java
   class Student {
       String name;
       int age;
       
       Student(String name, int age) {
           this.name = name;
           this.age = age;  // Initialize everything
       }
   }
   ```

2. ‚úÖ **Use constructor overloading for flexibility**
   ```java
   class Product {
       Product() { }
       Product(String name) { }
       Product(String name, double price) { }
   }
   ```

3. ‚úÖ **Use 'this()' for constructor chaining**
   ```java
   class Box {
       Box() {
           this(0, 0, 0);  // Reuse code
       }
       Box(int l, int w, int h) { }
   }
   ```

4. ‚úÖ **Add validation in constructors**
   ```java
   Student(int age) {
       if (age < 0) age = 0;
       this.age = age;
   }
   ```

5. ‚úÖ **Keep constructors simple**
   ```java
   // Good: Simple initialization
   Person(String name) {
       this.name = name;
   }
   
   // Avoid: Complex logic in constructor
   ```

---

## ‚ö†Ô∏è Common Pitfalls

```java
public class ConstructorPitfalls {
    public static void main(String[] args) {
        // 1. Forgetting 'this' keyword
        class Example1 {
            int value;
            
            Example1(int value) {
                value = value;  // BAD! Assigns parameter to itself
                // this.value = value;  // GOOD!
            }
        }
        
        // 2. Calling methods that can be overridden
        class Parent {
            Parent() {
                display();  // Risky! Can call overridden method
            }
            void display() {
                System.out.println("Parent");
            }
        }
        
        // 3. this() must be first statement
        class Example2 {
            Example2() {
                // System.out.println("Hello");  // ERROR!
                // this(10);  // this() must be first
            }
            Example2(int x) { }
        }
        
        // 4. Cannot have both this() and super()
        class Child extends Parent {
            Child() {
                // super();  // ERROR! Can't have both
                // this(10);
            }
            Child(int x) {
                super();
            }
        }
        
        // 5. Circular constructor calls
        class Example3 {
            // Example3() {
            //     this(10);  // Calls constructor 2
            // }
            // Example3(int x) {
            //     this();  // Calls constructor 1 - CIRCULAR!
            // }
        }
    }
}
```

---

## üéØ Interview Questions

1. **What is a constructor?**
2. **Difference between constructor and method?**
3. **Can constructor have return type?**
4. **What is default constructor?**
5. **When does Java provide default constructor?**
6. **What is constructor overloading?**
7. **What is constructor chaining?**
8. **Can we have private constructor?**
9. **What is copy constructor?**
10. **Can constructor be inherited?**
11. **Can we call constructor explicitly?**
12. **What is the use of this() in constructor?**
13. **Can we have multiple constructors?**
14. **What happens if we don't define constructor?**
15. **Can constructor be static/final/abstract?**

---

## üìö Related Topics

- [Classes & Objects](01.%20Classes%20%26%20Objects.md)
- [Methods & Method Overloading](03.%20Methods%20%26%20Method%20Overloading.md)
- [Inheritance](04.%20Inheritance.md)
- [this & super Keywords](../03.%20Advanced%20OOP%20Concepts/07.%20this%20%26%20super%20Keywords.md)
- [Static Keyword](../03.%20Advanced%20OOP%20Concepts/01.%20Static%20Keyword.md)
