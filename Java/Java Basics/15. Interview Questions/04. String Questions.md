# ðŸŽ¯ String Questions

## ðŸ“– String Fundamentals

### Q1: Why is String immutable? What are the benefits?

**Answer:** Once created, String cannot be modified.

**Benefits:**
1. **Security** - Passwords, DB connections safe
2. **Thread-safe** - No synchronization needed
3. **Caching** - Hashcode cached
4. **String Pool** - Memory efficient

```java
String str = "Hello";
str.concat(" World");  // Creates new String
System.out.println(str);  // Still "Hello"

String newStr = str.concat(" World");  // Must assign
System.out.println(newStr);  // "Hello World"
```

**How it's immutable:**
```java
public final class String {
    private final char[] value;  // final array
    // No setter methods
}
```

---

### Q2: What is String Pool?

**Answer:** Special memory area in heap for String literals.

```java
// String pool
String s1 = "Hello";  // Created in pool
String s2 = "Hello";  // Reuses from pool
System.out.println(s1 == s2);  // true (same reference)

// Heap
String s3 = new String("Hello");  // New object in heap
String s4 = new String("Hello");  // Another object
System.out.println(s3 == s4);  // false (different objects)

// Intern - Move to pool
String s5 = new String("Hello").intern();
System.out.println(s1 == s5);  // true (both in pool)
```

**Memory:**
```
String Pool (Heap):
  "Hello" â†’ s1, s2, s5

Regular Heap:
  String@123 â†’ s3
  String@456 â†’ s4
```

---

### Q3: String vs StringBuilder vs StringBuffer

**Answer:**

| Feature | String | StringBuilder | StringBuffer |
|---------|--------|---------------|--------------|
| Mutability | Immutable | Mutable | Mutable |
| Thread-safe | Yes | No | Yes |
| Performance | Slow | Fast | Moderate |
| Use case | Few changes | Single thread | Multi-thread |

```java
// String - Immutable (creates 1001 objects)
String str = "";
for (int i = 0; i < 1000; i++) {
    str += i;  // New String each time
}

// StringBuilder - Mutable (1 object)
StringBuilder sb = new StringBuilder();
for (int i = 0; i < 1000; i++) {
    sb.append(i);  // Modifies same object
}

// StringBuffer - Thread-safe
StringBuffer sbf = new StringBuffer();
sbf.append("Thread ").append("Safe");
```

---

### Q4: Important String methods

**Answer:**

```java
String str = "Hello World";

// Length & character
str.length();           // 11
str.charAt(0);          // 'H'
str.isEmpty();          // false
str.isBlank();          // false (Java 11+)

// Comparison
str.equals("Hello World");      // true
str.equalsIgnoreCase("hello");  // false
str.compareTo("Hello");         // Positive (World > "")
str.startsWith("Hello");        // true
str.endsWith("World");          // true
str.contains("llo");            // true

// Search
str.indexOf("o");       // 4 (first occurrence)
str.lastIndexOf("o");   // 7 (last occurrence)
str.indexOf("xyz");     // -1 (not found)

// Extraction
str.substring(0, 5);    // "Hello"
str.substring(6);       // "World"
str.split(" ");         // ["Hello", "World"]

// Modification (returns new String)
str.replace("World", "Java");   // "Hello Java"
str.replaceAll("\\s", "");      // "HelloWorld"
str.toUpperCase();              // "HELLO WORLD"
str.toLowerCase();              // "hello world"
str.trim();                     // Removes leading/trailing spaces
str.strip();                    // Unicode-aware trim (Java 11+)

// Conversion
String.valueOf(123);    // "123"
str.toCharArray();      // ['H', 'e', 'l', ...]
str.getBytes();         // byte array

// Java 11+ methods
str.repeat(3);          // "Hello WorldHello WorldHello World"
str.lines();            // Stream of lines
"  ".isBlank();         // true
```

---

### Q5: How to reverse a String?

**Answer:**

```java
String str = "Hello";

// Method 1: StringBuilder
String reversed = new StringBuilder(str).reverse().toString();

// Method 2: Loop
String reversed2 = "";
for (int i = str.length() - 1; i >= 0; i--) {
    reversed2 += str.charAt(i);
}

// Method 3: Recursion
public String reverse(String str) {
    if (str.isEmpty()) return str;
    return reverse(str.substring(1)) + str.charAt(0);
}

// Method 4: Character array
char[] chars = str.toCharArray();
for (int i = 0, j = chars.length - 1; i < j; i++, j--) {
    char temp = chars[i];
    chars[i] = chars[j];
    chars[j] = temp;
}
String reversed3 = new String(chars);
```

---

### Q6: Check if String is palindrome

**Answer:**

```java
public boolean isPalindrome(String str) {
    // Method 1: Two pointers
    str = str.toLowerCase().replaceAll("[^a-z0-9]", "");
    int left = 0, right = str.length() - 1;
    while (left < right) {
        if (str.charAt(left) != str.charAt(right)) {
            return false;
        }
        left++;
        right--;
    }
    return true;
}

// Method 2: Reverse comparison
public boolean isPalindrome2(String str) {
    String cleaned = str.toLowerCase().replaceAll("[^a-z0-9]", "");
    String reversed = new StringBuilder(cleaned).reverse().toString();
    return cleaned.equals(reversed);
}

// Test
isPalindrome("A man a plan a canal Panama");  // true
isPalindrome("race a car");  // false
```

---

### Q7: Count vowels and consonants

**Answer:**

```java
public void countVowelsConsonants(String str) {
    str = str.toLowerCase();
    int vowels = 0, consonants = 0;
    
    for (char ch : str.toCharArray()) {
        if (Character.isLetter(ch)) {
            if ("aeiou".indexOf(ch) != -1) {
                vowels++;
            } else {
                consonants++;
            }
        }
    }
    
    System.out.println("Vowels: " + vowels);
    System.out.println("Consonants: " + consonants);
}

// Test
countVowelsConsonants("Hello World");
// Vowels: 3 (e, o, o)
// Consonants: 7 (H, l, l, W, r, l, d)
```

---

### Q8: Remove duplicates from String

**Answer:**

```java
// Method 1: LinkedHashSet (preserves order)
public String removeDuplicates(String str) {
    LinkedHashSet<Character> set = new LinkedHashSet<>();
    for (char ch : str.toCharArray()) {
        set.add(ch);
    }
    StringBuilder sb = new StringBuilder();
    for (char ch : set) {
        sb.append(ch);
    }
    return sb.toString();
}

// Method 2: StringBuilder with indexOf
public String removeDuplicates2(String str) {
    StringBuilder sb = new StringBuilder();
    for (char ch : str.toCharArray()) {
        if (sb.indexOf(String.valueOf(ch)) == -1) {
            sb.append(ch);
        }
    }
    return sb.toString();
}

// Method 3: Stream (Java 8+)
public String removeDuplicates3(String str) {
    return str.chars()
              .distinct()
              .mapToObj(c -> String.valueOf((char) c))
              .collect(Collectors.joining());
}

// Test
removeDuplicates("programming");  // "progamin"
```

---

### Q9: Find first non-repeating character

**Answer:**

```java
public char firstNonRepeating(String str) {
    // Count frequency
    Map<Character, Integer> map = new LinkedHashMap<>();
    for (char ch : str.toCharArray()) {
        map.put(ch, map.getOrDefault(ch, 0) + 1);
    }
    
    // Find first with count 1
    for (Map.Entry<Character, Integer> entry : map.entrySet()) {
        if (entry.getValue() == 1) {
            return entry.getKey();
        }
    }
    
    return '\0';  // Not found
}

// Test
firstNonRepeating("stress");      // 't'
firstNonRepeating("aabbcc");      // '\0'
firstNonRepeating("programming"); // 'p'
```

---

### Q10: Anagram check

**Answer:**

```java
public boolean isAnagram(String s1, String s2) {
    // Method 1: Sorting
    if (s1.length() != s2.length()) return false;
    
    char[] arr1 = s1.toLowerCase().toCharArray();
    char[] arr2 = s2.toLowerCase().toCharArray();
    Arrays.sort(arr1);
    Arrays.sort(arr2);
    
    return Arrays.equals(arr1, arr2);
}

// Method 2: Frequency map
public boolean isAnagram2(String s1, String s2) {
    if (s1.length() != s2.length()) return false;
    
    Map<Character, Integer> map = new HashMap<>();
    
    // Count s1
    for (char ch : s1.toLowerCase().toCharArray()) {
        map.put(ch, map.getOrDefault(ch, 0) + 1);
    }
    
    // Subtract s2
    for (char ch : s2.toLowerCase().toCharArray()) {
        map.put(ch, map.getOrDefault(ch, 0) - 1);
        if (map.get(ch) < 0) return false;
    }
    
    return true;
}

// Test
isAnagram("listen", "silent");  // true
isAnagram("hello", "world");    // false
```

---

### Q11: String compression

**Answer:**

```java
// Input: "aaabbcccc" â†’ Output: "a3b2c4"
public String compress(String str) {
    if (str.isEmpty()) return str;
    
    StringBuilder sb = new StringBuilder();
    int count = 1;
    
    for (int i = 1; i < str.length(); i++) {
        if (str.charAt(i) == str.charAt(i - 1)) {
            count++;
        } else {
            sb.append(str.charAt(i - 1)).append(count);
            count = 1;
        }
    }
    
    // Last group
    sb.append(str.charAt(str.length() - 1)).append(count);
    
    return sb.length() < str.length() ? sb.toString() : str;
}

// Test
compress("aaabbcccc");  // "a3b2c4"
compress("abc");        // "abc" (no compression)
compress("aaaa");       // "a4"
```

---

### Q12: String permutations

**Answer:**

```java
public List<String> permutations(String str) {
    List<String> result = new ArrayList<>();
    permute(str, "", result);
    return result;
}

private void permute(String str, String prefix, List<String> result) {
    if (str.isEmpty()) {
        result.add(prefix);
        return;
    }
    
    for (int i = 0; i < str.length(); i++) {
        char ch = str.charAt(i);
        String remaining = str.substring(0, i) + str.substring(i + 1);
        permute(remaining, prefix + ch, result);
    }
}

// Test
permutations("abc");
// [abc, acb, bac, bca, cab, cba]
```

---

### Q13: Longest substring without repeating characters

**Answer:**

```java
public int lengthOfLongestSubstring(String str) {
    Map<Character, Integer> map = new HashMap<>();
    int maxLen = 0;
    int start = 0;
    
    for (int end = 0; end < str.length(); end++) {
        char ch = str.charAt(end);
        
        if (map.containsKey(ch)) {
            start = Math.max(start, map.get(ch) + 1);
        }
        
        map.put(ch, end);
        maxLen = Math.max(maxLen, end - start + 1);
    }
    
    return maxLen;
}

// Test
lengthOfLongestSubstring("abcabcbb");  // 3 ("abc")
lengthOfLongestSubstring("bbbbb");     // 1 ("b")
lengthOfLongestSubstring("pwwkew");    // 3 ("wke")
```

---

### Q14: String to Integer (atoi)

**Answer:**

```java
public int atoi(String str) {
    if (str == null || str.isEmpty()) return 0;
    
    str = str.trim();
    if (str.isEmpty()) return 0;
    
    int sign = 1;
    int index = 0;
    
    // Check sign
    if (str.charAt(0) == '-') {
        sign = -1;
        index++;
    } else if (str.charAt(0) == '+') {
        index++;
    }
    
    long result = 0;
    
    while (index < str.length() && Character.isDigit(str.charAt(index))) {
        result = result * 10 + (str.charAt(index) - '0');
        
        // Overflow check
        if (sign == 1 && result > Integer.MAX_VALUE) {
            return Integer.MAX_VALUE;
        }
        if (sign == -1 && -result < Integer.MIN_VALUE) {
            return Integer.MIN_VALUE;
        }
        
        index++;
    }
    
    return (int) (sign * result);
}

// Test
atoi("42");         // 42
atoi("   -42");     // -42
atoi("4193 with");  // 4193
atoi("words 987");  // 0
```

---

### Q15: String matching/searching

**Answer:**

```java
// Naive pattern matching
public int strStr(String text, String pattern) {
    if (pattern.isEmpty()) return 0;
    
    int n = text.length();
    int m = pattern.length();
    
    for (int i = 0; i <= n - m; i++) {
        int j;
        for (j = 0; j < m; j++) {
            if (text.charAt(i + j) != pattern.charAt(j)) {
                break;
            }
        }
        if (j == m) return i;  // Found
    }
    
    return -1;  // Not found
}

// Using built-in
public int strStr2(String text, String pattern) {
    return text.indexOf(pattern);
}

// Test
strStr("hello world", "world");  // 6
strStr("aaaaa", "bba");          // -1
```

---

## ðŸ’¡ Quick Tips

- String is immutable - use StringBuilder for modifications
- Use `equals()` not `==` for comparison
- String pool saves memory
- Know common algorithms (palindrome, anagram, permutation)
- Practice sliding window for substring problems
- Use StringBuilder for concatenation in loops
- Remember String methods (split, substring, replace)
