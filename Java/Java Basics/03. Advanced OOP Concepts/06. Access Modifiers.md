# ğŸ” Access Modifiers

## ğŸ“– Overview

**Access Modifiers** in Java control the visibility and accessibility of classes, methods, and variables. They define the scope within which a member can be accessed.

**Four Access Modifiers:**
1. **public** - Accessible everywhere
2. **protected** - Accessible within package and subclasses
3. **default** (no keyword) - Accessible within package only
4. **private** - Accessible within class only

---

## ğŸ¯ Access Levels

```
From Most to Least Accessible:

public > protected > default > private
```

---

## ğŸ’» Example 1: All Access Modifiers

```java
package com.example.demo;

public class AccessDemo {
    // Public - accessible everywhere
    public int publicVar = 10;
    
    // Protected - accessible in package and subclasses
    protected int protectedVar = 20;
    
    // Default - accessible within package only
    int defaultVar = 30;
    
    // Private - accessible within class only
    private int privateVar = 40;
    
    // Public method
    public void publicMethod() {
        System.out.println("Public method");
    }
    
    // Protected method
    protected void protectedMethod() {
        System.out.println("Protected method");
    }
    
    // Default method
    void defaultMethod() {
        System.out.println("Default method");
    }
    
    // Private method
    private void privateMethod() {
        System.out.println("Private method");
    }
    
    // All accessible within same class
    void testAccess() {
        System.out.println(publicVar);
        System.out.println(protectedVar);
        System.out.println(defaultVar);
        System.out.println(privateVar);
        
        publicMethod();
        protectedMethod();
        defaultMethod();
        privateMethod();
    }
}
```

---

## ğŸ’» Example 2: Same Package Access

**File: com/example/demo/ClassA.java**
```java
package com.example.demo;

public class ClassA {
    public int publicVar = 10;
    protected int protectedVar = 20;
    int defaultVar = 30;
    private int privateVar = 40;
    
    public void display() {
        System.out.println("ClassA display");
    }
}
```

**File: com/example/demo/ClassB.java (same package)**
```java
package com.example.demo;

public class ClassB {
    public static void main(String[] args) {
        ClassA obj = new ClassA();
        
        // Can access public
        System.out.println("Public: " + obj.publicVar);
        
        // Can access protected (same package)
        System.out.println("Protected: " + obj.protectedVar);
        
        // Can access default (same package)
        System.out.println("Default: " + obj.defaultVar);
        
        // Cannot access private
        // System.out.println(obj.privateVar);  // ERROR!
        
        obj.display();  // OK - public method
    }
}
```

**Output:**
```
Public: 10
Protected: 20
Default: 30
ClassA display
```

---

## ğŸ’» Example 3: Different Package Access

**File: com/example/packageA/Parent.java**
```java
package com.example.packageA;

public class Parent {
    public int publicVar = 10;
    protected int protectedVar = 20;
    int defaultVar = 30;
    private int privateVar = 40;
    
    public void publicMethod() {
        System.out.println("Public method");
    }
    
    protected void protectedMethod() {
        System.out.println("Protected method");
    }
    
    void defaultMethod() {
        System.out.println("Default method");
    }
    
    private void privateMethod() {
        System.out.println("Private method");
    }
}
```

**File: com/example/packageB/AccessTest.java (different package)**
```java
package com.example.packageB;

import com.example.packageA.Parent;

public class AccessTest {
    public static void main(String[] args) {
        Parent parent = new Parent();
        
        // Can access public
        System.out.println("Public: " + parent.publicVar);
        parent.publicMethod();
        
        // Cannot access protected (not a subclass)
        // System.out.println(parent.protectedVar);  // ERROR!
        // parent.protectedMethod();  // ERROR!
        
        // Cannot access default (different package)
        // System.out.println(parent.defaultVar);  // ERROR!
        // parent.defaultMethod();  // ERROR!
        
        // Cannot access private
        // System.out.println(parent.privateVar);  // ERROR!
        // parent.privateMethod();  // ERROR!
    }
}
```

---

## ğŸ’» Example 4: Protected with Inheritance (Same Package)

**File: com/example/demo/Vehicle.java**
```java
package com.example.demo;

public class Vehicle {
    public String brand = "Generic";
    protected int speed = 60;
    int capacity = 4;
    private String engineNumber = "ENG123";
    
    protected void displaySpeed() {
        System.out.println("Speed: " + speed);
    }
}
```

**File: com/example/demo/Car.java (same package)**
```java
package com.example.demo;

public class Car extends Vehicle {
    void displayInfo() {
        // Can access public
        System.out.println("Brand: " + brand);
        
        // Can access protected (subclass)
        System.out.println("Speed: " + speed);
        displaySpeed();
        
        // Can access default (same package)
        System.out.println("Capacity: " + capacity);
        
        // Cannot access private
        // System.out.println(engineNumber);  // ERROR!
    }
    
    public static void main(String[] args) {
        Car car = new Car();
        car.displayInfo();
    }
}
```

---

## ğŸ’» Example 5: Protected with Inheritance (Different Package)

**File: com/example/vehicles/Vehicle.java**
```java
package com.example.vehicles;

public class Vehicle {
    public String brand = "Generic";
    protected int speed = 60;
    int capacity = 4;
    private String engineNumber = "ENG123";
    
    protected void displaySpeed() {
        System.out.println("Speed: " + speed);
    }
}
```

**File: com/example/cars/Car.java (different package)**
```java
package com.example.cars;

import com.example.vehicles.Vehicle;

public class Car extends Vehicle {
    void displayInfo() {
        // Can access public
        System.out.println("Brand: " + brand);
        
        // Can access protected (subclass, even in different package)
        System.out.println("Speed: " + speed);
        displaySpeed();
        
        // Cannot access default (different package)
        // System.out.println("Capacity: " + capacity);  // ERROR!
        
        // Cannot access private
        // System.out.println(engineNumber);  // ERROR!
    }
    
    public static void main(String[] args) {
        Car car = new Car();
        car.displayInfo();
        
        // Note: protected members accessible via inheritance only
        Vehicle v = new Vehicle();
        // System.out.println(v.speed);  // ERROR! Not via Vehicle reference
    }
}
```

---

## ğŸ’» Example 6: Class Access Modifiers

```java
// File: com/example/demo/PublicClass.java
package com.example.demo;

// Public class - accessible from anywhere
public class PublicClass {
    public void display() {
        System.out.println("Public class");
    }
}

// Default (package-private) class - accessible within package only
class DefaultClass {
    void display() {
        System.out.println("Default class");
    }
}

// Note: Cannot have protected or private top-level classes
// protected class Test { }  // ERROR!
// private class Test { }    // ERROR!

// Only one public class per file, and file name must match
```

**File: com/example/demo/TestClasses.java (same package)**
```java
package com.example.demo;

public class TestClasses {
    public static void main(String[] args) {
        // Can access both in same package
        PublicClass pub = new PublicClass();
        pub.display();
        
        DefaultClass def = new DefaultClass();
        def.display();
    }
}
```

**File: com/example/other/TestFromOther.java (different package)**
```java
package com.example.other;

import com.example.demo.PublicClass;
// import com.example.demo.DefaultClass;  // ERROR! Cannot import

public class TestFromOther {
    public static void main(String[] args) {
        // Can access public class
        PublicClass pub = new PublicClass();
        pub.display();
        
        // Cannot access default class
        // DefaultClass def = new DefaultClass();  // ERROR!
    }
}
```

---

## ğŸ’» Example 7: Constructor Access Modifiers

```java
package com.example.demo;

class ConstructorAccess {
    // Public constructor - anyone can create object
    public ConstructorAccess() {
        System.out.println("Public constructor");
    }
    
    // Protected constructor
    protected ConstructorAccess(int x) {
        System.out.println("Protected constructor: " + x);
    }
    
    // Default constructor
    ConstructorAccess(String s) {
        System.out.println("Default constructor: " + s);
    }
    
    // Private constructor - Singleton pattern
    private static ConstructorAccess instance;
    
    private ConstructorAccess(double d) {
        System.out.println("Private constructor: " + d);
    }
    
    public static ConstructorAccess getInstance() {
        if (instance == null) {
            instance = new ConstructorAccess(3.14);
        }
        return instance;
    }
}

public class ConstructorDemo {
    public static void main(String[] args) {
        // Public constructor - OK
        ConstructorAccess obj1 = new ConstructorAccess();
        
        // Protected constructor - OK (same package)
        ConstructorAccess obj2 = new ConstructorAccess(10);
        
        // Default constructor - OK (same package)
        ConstructorAccess obj3 = new ConstructorAccess("test");
        
        // Private constructor - cannot access directly
        // ConstructorAccess obj4 = new ConstructorAccess(3.14);  // ERROR!
        
        // Access via static method
        ConstructorAccess obj4 = ConstructorAccess.getInstance();
    }
}
```

---

## ğŸ’» Example 8: Getter/Setter Pattern

```java
package com.example.demo;

public class BankAccount {
    // Private variables - encapsulation
    private String accountNumber;
    private String holderName;
    private double balance;
    private String pin;
    
    // Public constructor
    public BankAccount(String accountNumber, String holderName, String pin) {
        this.accountNumber = accountNumber;
        this.holderName = holderName;
        this.balance = 0;
        this.pin = pin;
    }
    
    // Public getters
    public String getAccountNumber() {
        return accountNumber;
    }
    
    public String getHolderName() {
        return holderName;
    }
    
    public double getBalance() {
        return balance;
    }
    
    // No getter for PIN - sensitive data
    
    // Public methods with validation
    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;
            System.out.println("Deposited: $" + amount);
        } else {
            System.out.println("Invalid amount");
        }
    }
    
    public void withdraw(double amount, String enteredPin) {
        if (!validatePin(enteredPin)) {
            System.out.println("Invalid PIN");
            return;
        }
        
        if (amount > 0 && amount <= balance) {
            balance -= amount;
            System.out.println("Withdrawn: $" + amount);
        } else {
            System.out.println("Insufficient balance");
        }
    }
    
    // Private helper method
    private boolean validatePin(String enteredPin) {
        return this.pin.equals(enteredPin);
    }
    
    public void displayInfo() {
        System.out.println("Account: " + accountNumber);
        System.out.println("Holder: " + holderName);
        System.out.println("Balance: $" + balance);
    }
}

class BankTest {
    public static void main(String[] args) {
        BankAccount account = new BankAccount("ACC001", "Alice", "1234");
        
        // Can access public methods
        account.displayInfo();
        account.deposit(1000);
        account.withdraw(500, "1234");
        account.displayInfo();
        
        // Cannot access private members
        // System.out.println(account.balance);  // ERROR!
        // System.out.println(account.pin);      // ERROR!
        // account.validatePin("1234");          // ERROR!
    }
}
```

---

## ğŸ’» Example 9: Interface Members Access

```java
package com.example.demo;

// Interface members are public by default
interface MyInterface {
    // Public static final (constant)
    int MAX_VALUE = 100;
    
    // Public abstract method
    void display();
    
    // Public default method (Java 8+)
    default void show() {
        System.out.println("Default method");
    }
    
    // Public static method (Java 8+)
    static void info() {
        System.out.println("Static method");
    }
}

class Implementation implements MyInterface {
    // Must be public (cannot reduce visibility)
    @Override
    public void display() {
        System.out.println("Implementation of display");
    }
    
    // Can override default method
    @Override
    public void show() {
        System.out.println("Overridden show method");
    }
}

public class InterfaceAccessDemo {
    public static void main(String[] args) {
        Implementation obj = new Implementation();
        
        // Access constant
        System.out.println("MAX_VALUE: " + MyInterface.MAX_VALUE);
        
        // Access methods
        obj.display();
        obj.show();
        MyInterface.info();
    }
}
```

---

## ğŸ’» Example 10: Access in Inheritance

```java
package com.example.demo;

class Parent {
    public int publicVar = 10;
    protected int protectedVar = 20;
    int defaultVar = 30;
    private int privateVar = 40;
    
    public void publicMethod() {
        System.out.println("Parent public method");
    }
    
    protected void protectedMethod() {
        System.out.println("Parent protected method");
    }
    
    void defaultMethod() {
        System.out.println("Parent default method");
    }
    
    private void privateMethod() {
        System.out.println("Parent private method");
    }
}

class Child extends Parent {
    void testAccess() {
        // Can access public
        System.out.println("Public: " + publicVar);
        publicMethod();
        
        // Can access protected
        System.out.println("Protected: " + protectedVar);
        protectedMethod();
        
        // Can access default (same package)
        System.out.println("Default: " + defaultVar);
        defaultMethod();
        
        // Cannot access private
        // System.out.println(privateVar);  // ERROR!
        // privateMethod();                  // ERROR!
    }
    
    // Can override with same or more accessible
    @Override
    public void publicMethod() {  // public -> public OK
        System.out.println("Child public method");
    }
    
    @Override
    public void protectedMethod() {  // protected -> public OK
        System.out.println("Child protected method");
    }
    
    // Cannot reduce visibility
    // @Override
    // private void publicMethod() { }  // ERROR!
}

public class InheritanceAccessDemo {
    public static void main(String[] args) {
        Child child = new Child();
        child.testAccess();
        System.out.println();
        child.publicMethod();
        child.protectedMethod();
    }
}
```

---

## ğŸ“Š Access Modifier Table

| Modifier | Same Class | Same Package | Subclass (Different Package) | Other Package |
|----------|-----------|--------------|----------------------------|---------------|
| **public** | âœ… Yes | âœ… Yes | âœ… Yes | âœ… Yes |
| **protected** | âœ… Yes | âœ… Yes | âœ… Yes | âŒ No |
| **default** | âœ… Yes | âœ… Yes | âŒ No | âŒ No |
| **private** | âœ… Yes | âŒ No | âŒ No | âŒ No |

---

## ğŸ“Š Where to Use Each Modifier

| Use Case | Recommended Modifier |
|----------|---------------------|
| **Public API** | `public` |
| **Instance variables** | `private` (with getters/setters) |
| **Helper methods** | `private` |
| **Methods for subclasses** | `protected` |
| **Package-level utilities** | default (no modifier) |
| **Constants** | `public static final` |
| **Singleton constructor** | `private` |

---

## ğŸ’¡ Best Practices

1. âœ… **Use most restrictive access**
   ```java
   private int value;  // Start with private
   ```

2. âœ… **Public class, private members**
   ```java
   public class User {
       private String name;  // Encapsulation
   }
   ```

3. âœ… **Protected for inheritance**
   ```java
   protected void helperMethod() { }
   ```

4. âœ… **Package-private for internal API**
   ```java
   class InternalHelper { }
   ```

5. âœ… **Never reduce access in override**
   ```java
   @Override
   public void method() { }  // Same or more accessible
   ```

---

## âš ï¸ Common Pitfalls

```java
public class AccessPitfalls {
    // 1. Cannot reduce visibility in override
    class Parent {
        public void method() { }
    }
    class Child extends Parent {
        // protected void method() { }  // ERROR!
    }
    
    // 2. Top-level class cannot be private/protected
    // private class Test { }  // ERROR!
    
    // 3. Interface methods are public by default
    interface MyInterface {
        void method();  // public by default
    }
    class Impl implements MyInterface {
        // void method() { }  // ERROR! Must be public
        public void method() { }  // Correct
    }
    
    // 4. Private members not inherited
    class Base {
        private int x = 10;
    }
    class Derived extends Base {
        void show() {
            // System.out.println(x);  // ERROR!
        }
    }
    
    // 5. Protected not accessible via object reference
    // (only via inheritance)
}
```

---

## ğŸ¯ Interview Questions

1. **What are access modifiers in Java?**
2. **Difference between public, private, protected, and default?**
3. **Can a class be private?**
4. **What is default access modifier?**
5. **Can we override private methods?**
6. **Can protected member be accessed in different package?**
7. **What is most restrictive access modifier?**
8. **Can interface have private methods?**
9. **Can constructor be private?**
10. **What happens if no access modifier is specified?**
11. **Can we reduce access modifier in subclass?**
12. **Difference between protected and default?**
13. **Why make instance variables private?**
14. **Can abstract methods be private?**
15. **Real-world use cases for each modifier?**

---

## ğŸ“š Related Topics

- [Packages](05.%20Packages.md)
- [Encapsulation](../02.%20Object-Oriented%20Programming/06.%20Encapsulation.md)
- [Inheritance](../02.%20Object-Oriented%20Programming/04.%20Inheritance.md)
- [Interfaces](../02.%20Object-Oriented%20Programming/08.%20Interfaces.md)
- [Classes & Objects](../02.%20Object-Oriented%20Programming/01.%20Classes%20%26%20Objects.md)
