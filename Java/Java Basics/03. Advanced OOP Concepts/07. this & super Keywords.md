# ðŸ”„ this & super Keywords

## ðŸ“– Overview

**this** and **super** are reference variables in Java used to refer to current and parent class objects respectively.

**this keyword:**
- Refers to current class instance
- Used to avoid ambiguity
- Can invoke current class methods/constructors

**super keyword:**
- Refers to parent class instance
- Used to access parent class members
- Can invoke parent class methods/constructors

---

## ðŸŽ¯ Uses of `this` Keyword

```
1. Refer to current class instance variable
2. Invoke current class method
3. Invoke current class constructor (this())
4. Pass as argument in method call
5. Pass as argument in constructor call
6. Return current class instance
```

---

## ðŸ’» Example 1: this for Instance Variables

```java
class Student {
    int rollNo;
    String name;
    double marks;
    
    // Constructor with parameters having same name as instance variables
    Student(int rollNo, String name, double marks) {
        // 'this' distinguishes instance variable from parameter
        this.rollNo = rollNo;
        this.name = name;
        this.marks = marks;
    }
    
    void display() {
        System.out.println("Roll No: " + this.rollNo);
        System.out.println("Name: " + this.name);
        System.out.println("Marks: " + this.marks);
    }
}

public class ThisInstanceDemo {
    public static void main(String[] args) {
        Student s1 = new Student(101, "Alice", 95.5);
        Student s2 = new Student(102, "Bob", 88.0);
        
        s1.display();
        System.out.println();
        s2.display();
    }
}
```

**Output:**
```
Roll No: 101
Name: Alice
Marks: 95.5

Roll No: 102
Name: Bob
Marks: 88.0
```

---

## ðŸ’» Example 2: this to Invoke Current Class Method

```java
class Calculator {
    void display() {
        System.out.println("Display method called");
    }
    
    void show() {
        System.out.println("Show method");
        // Invoke display method of current class
        this.display();  // 'this' is optional here
        display();       // Same as this.display()
    }
    
    void print() {
        System.out.println("Print method");
        this.show();
    }
}

public class ThisMethodDemo {
    public static void main(String[] args) {
        Calculator calc = new Calculator();
        calc.print();
    }
}
```

---

## ðŸ’» Example 3: this() Constructor Chaining

```java
class Employee {
    int id;
    String name;
    double salary;
    String department;
    
    // Constructor 1
    Employee() {
        this(0, "Unknown");
        System.out.println("No-arg constructor");
    }
    
    // Constructor 2
    Employee(int id, String name) {
        this(id, name, 0);
        System.out.println("2-arg constructor");
    }
    
    // Constructor 3
    Employee(int id, String name, double salary) {
        this(id, name, salary, "General");
        System.out.println("3-arg constructor");
    }
    
    // Constructor 4 (fully parameterized)
    Employee(int id, String name, double salary, String department) {
        this.id = id;
        this.name = name;
        this.salary = salary;
        this.department = department;
        System.out.println("4-arg constructor");
    }
    
    void display() {
        System.out.println("ID: " + id + ", Name: " + name + 
                         ", Salary: " + salary + ", Dept: " + department);
    }
}

public class ThisConstructorDemo {
    public static void main(String[] args) {
        System.out.println("Creating e1:");
        Employee e1 = new Employee();
        e1.display();
        
        System.out.println("\nCreating e2:");
        Employee e2 = new Employee(101, "Alice");
        e2.display();
        
        System.out.println("\nCreating e3:");
        Employee e3 = new Employee(102, "Bob", 50000, "IT");
        e3.display();
    }
}
```

---

## ðŸ’» Example 4: this as Method Argument

```java
class Printer {
    void print(Printer p) {
        System.out.println("Printer object: " + p);
        System.out.println("Hashcode: " + p.hashCode());
    }
    
    void display() {
        System.out.println("Display method");
        // Pass current object as argument
        print(this);
    }
}

class DataProcessor {
    int value = 100;
    
    void process(DataProcessor dp) {
        System.out.println("Processing value: " + dp.value);
    }
    
    void execute() {
        System.out.println("Current object value: " + this.value);
        // Pass 'this' as argument
        process(this);
    }
}

public class ThisArgumentDemo {
    public static void main(String[] args) {
        Printer printer = new Printer();
        printer.display();
        
        System.out.println();
        
        DataProcessor dp = new DataProcessor();
        dp.execute();
    }
}
```

---

## ðŸ’» Example 5: this to Return Current Object

```java
class Builder {
    private String name;
    private int age;
    private String address;
    
    // Method chaining using 'this'
    Builder setName(String name) {
        this.name = name;
        return this;  // Return current object
    }
    
    Builder setAge(int age) {
        this.age = age;
        return this;
    }
    
    Builder setAddress(String address) {
        this.address = address;
        return this;
    }
    
    void display() {
        System.out.println("Name: " + name);
        System.out.println("Age: " + age);
        System.out.println("Address: " + address);
    }
}

public class ThisReturnDemo {
    public static void main(String[] args) {
        // Method chaining
        Builder builder = new Builder()
            .setName("Alice")
            .setAge(25)
            .setAddress("New York");
        
        builder.display();
    }
}
```

---

## ðŸ’» Example 6: super for Parent Class Variables

```java
class Animal {
    String color = "White";
    int legs = 4;
}

class Dog extends Animal {
    String color = "Brown";  // Overrides parent variable
    
    void displayColors() {
        System.out.println("Dog color: " + color);           // Child class variable
        System.out.println("Dog color (this): " + this.color);  // Same as above
        System.out.println("Animal color: " + super.color);  // Parent class variable
    }
    
    void displayLegs() {
        System.out.println("Legs: " + legs);        // Inherited from parent
        System.out.println("Legs (super): " + super.legs);  // Explicitly from parent
    }
}

public class SuperVariableDemo {
    public static void main(String[] args) {
        Dog dog = new Dog();
        dog.displayColors();
        System.out.println();
        dog.displayLegs();
    }
}
```

---

## ðŸ’» Example 7: super to Invoke Parent Class Method

```java
class Vehicle {
    void start() {
        System.out.println("Vehicle is starting");
    }
    
    void stop() {
        System.out.println("Vehicle is stopping");
    }
    
    void displayInfo() {
        System.out.println("This is a vehicle");
    }
}

class Car extends Vehicle {
    @Override
    void start() {
        super.start();  // Call parent class method
        System.out.println("Car engine started");
    }
    
    @Override
    void stop() {
        System.out.println("Car engine stopped");
        super.stop();  // Call parent class method
    }
    
    @Override
    void displayInfo() {
        super.displayInfo();  // Call parent method
        System.out.println("This is a car");
    }
}

public class SuperMethodDemo {
    public static void main(String[] args) {
        Car car = new Car();
        car.start();
        System.out.println();
        car.displayInfo();
        System.out.println();
        car.stop();
    }
}
```

---

## ðŸ’» Example 8: super() Constructor Call

```java
class Person {
    String name;
    int age;
    
    Person() {
        System.out.println("Person no-arg constructor");
    }
    
    Person(String name, int age) {
        this.name = name;
        this.age = age;
        System.out.println("Person parameterized constructor");
    }
    
    void displayPerson() {
        System.out.println("Name: " + name + ", Age: " + age);
    }
}

class Student extends Person {
    int rollNo;
    double marks;
    
    Student() {
        super();  // Call parent no-arg constructor
        System.out.println("Student no-arg constructor");
    }
    
    Student(String name, int age, int rollNo, double marks) {
        super(name, age);  // Call parent parameterized constructor
        this.rollNo = rollNo;
        this.marks = marks;
        System.out.println("Student parameterized constructor");
    }
    
    void displayStudent() {
        displayPerson();
        System.out.println("Roll No: " + rollNo + ", Marks: " + marks);
    }
}

public class SuperConstructorDemo {
    public static void main(String[] args) {
        System.out.println("Creating s1:");
        Student s1 = new Student();
        
        System.out.println("\nCreating s2:");
        Student s2 = new Student("Alice", 20, 101, 95.5);
        s2.displayStudent();
    }
}
```

---

## ðŸ’» Example 9: this and super Together

```java
class Grandparent {
    String name = "Grandparent";
    
    Grandparent() {
        System.out.println("Grandparent constructor");
    }
    
    void display() {
        System.out.println("Grandparent display: " + name);
    }
}

class Parent extends Grandparent {
    String name = "Parent";
    
    Parent() {
        super();  // Call Grandparent constructor
        System.out.println("Parent constructor");
    }
    
    @Override
    void display() {
        super.display();  // Call Grandparent method
        System.out.println("Parent display: " + this.name);
    }
}

class Child extends Parent {
    String name = "Child";
    
    Child() {
        super();  // Call Parent constructor
        System.out.println("Child constructor");
    }
    
    @Override
    void display() {
        super.display();  // Call Parent method
        System.out.println("Child display: " + this.name);
    }
    
    void showAllNames() {
        System.out.println("\n=== Name Hierarchy ===");
        System.out.println("Child name (this): " + this.name);
        System.out.println("Parent name (super): " + super.name);
        // Cannot access grandparent's name directly
    }
}

public class ThisSuperDemo {
    public static void main(String[] args) {
        System.out.println("=== Constructor Chaining ===");
        Child child = new Child();
        
        System.out.println("\n=== Method Calls ===");
        child.display();
        
        child.showAllNames();
    }
}
```

---

## ðŸ’» Example 10: Real-World Example - Banking System

```java
class Account {
    protected String accountNumber;
    protected String holderName;
    protected double balance;
    
    Account(String accountNumber, String holderName) {
        this.accountNumber = accountNumber;
        this.holderName = holderName;
        this.balance = 0;
        System.out.println("Account created");
    }
    
    void deposit(double amount) {
        if (amount > 0) {
            this.balance += amount;
            System.out.println("Deposited: $" + amount);
        }
    }
    
    void displayBalance() {
        System.out.println("Account: " + this.accountNumber);
        System.out.println("Holder: " + this.holderName);
        System.out.println("Balance: $" + this.balance);
    }
}

class SavingsAccount extends Account {
    private double interestRate;
    private int withdrawalLimit;
    private int withdrawalCount;
    
    SavingsAccount(String accountNumber, String holderName, double interestRate) {
        super(accountNumber, holderName);  // Call parent constructor
        this.interestRate = interestRate;
        this.withdrawalLimit = 3;
        this.withdrawalCount = 0;
        System.out.println("Savings account created");
    }
    
    void addInterest() {
        double interest = super.balance * this.interestRate / 100;
        super.deposit(interest);  // Use parent's deposit method
        System.out.println("Interest added: $" + interest);
    }
    
    void withdraw(double amount) {
        if (this.withdrawalCount >= this.withdrawalLimit) {
            System.out.println("Withdrawal limit exceeded!");
            return;
        }
        
        if (amount > 0 && amount <= super.balance) {
            super.balance -= amount;
            this.withdrawalCount++;
            System.out.println("Withdrawn: $" + amount);
        } else {
            System.out.println("Insufficient balance!");
        }
    }
    
    @Override
    void displayBalance() {
        super.displayBalance();  // Call parent method
        System.out.println("Interest Rate: " + this.interestRate + "%");
        System.out.println("Withdrawals: " + this.withdrawalCount + "/" + this.withdrawalLimit);
    }
}

public class BankingDemo {
    public static void main(String[] args) {
        SavingsAccount account = new SavingsAccount("SAV001", "Alice", 5);
        
        System.out.println();
        account.deposit(1000);
        account.addInterest();
        account.withdraw(200);
        
        System.out.println();
        account.displayBalance();
    }
}
```

---

## ðŸ“Š this vs super Comparison

| Feature | this | super |
|---------|------|-------|
| **Refers to** | Current class | Parent class |
| **Used for** | Current class members | Parent class members |
| **Constructor call** | `this()` | `super()` |
| **Variable access** | Current class variable | Parent class variable |
| **Method call** | Current class method | Parent class method |
| **Can be used in** | All methods | Only in subclass |
| **Static context** | âŒ No | âŒ No |

---

## ðŸ“Š Constructor Call Rules

```
Rules for this() and super():
1. Must be first statement in constructor
2. Cannot use both in same constructor
3. Cannot call constructor recursively
4. If no super(), Java adds super() automatically
```

---

## ðŸ’¡ Best Practices

1. âœ… **Use this to avoid ambiguity**
   ```java
   Constructor(int id) {
       this.id = id;
   }
   ```

2. âœ… **Use super to reuse parent functionality**
   ```java
   @Override
   void method() {
       super.method();
       // Additional code
   }
   ```

3. âœ… **Use this() for constructor chaining**
   ```java
   Constructor() {
       this(defaultValue);
   }
   ```

4. âœ… **Use super() to initialize parent**
   ```java
   Child(args) {
       super(parentArgs);
   }
   ```

5. âœ… **Return this for method chaining**
   ```java
   Builder setName(String name) {
       this.name = name;
       return this;
   }
   ```

---

## âš ï¸ Common Pitfalls

```java
public class ThisSuperPitfalls {
    // 1. Cannot use this/super in static context
    static void method() {
        // this.variable;  // ERROR!
        // super.method();  // ERROR!
    }
    
    // 2. Constructor call must be first statement
    Constructor() {
        System.out.println("Before");
        // this();  // ERROR! Must be first
    }
    
    // 3. Cannot use both this() and super() together
    Constructor(int x) {
        // super();  // ERROR! Can't use both
        this();
    }
    
    // 4. Cannot call constructor recursively
    Constructor(String s) {
        // this(s);  // ERROR! Recursive call
    }
    
    // 5. super() added automatically if not specified
    class Child extends Parent {
        Child() {
            // super() is called automatically here
        }
    }
}
```

---

## ðŸŽ¯ Interview Questions

1. **What is this keyword in Java?**
2. **What is super keyword in Java?**
3. **Difference between this and super?**
4. **What is this() and super()?**
5. **Can we use this and super in static context?**
6. **Can this() and super() be used together?**
7. **Why this() or super() must be first statement?**
8. **What happens if we don't call super()?**
9. **Can constructor call another constructor?**
10. **Can we use this to call parent class method?**
11. **What is method chaining with this?**
12. **Can super skip one level and call grandparent?**
13. **Difference between this.method() and super.method()?**
14. **Can we override constructor?**
15. **Real-world use cases of this and super?**

---

## ðŸ“š Related Topics

- [Constructors](../02.%20Object-Oriented%20Programming/02.%20Constructors.md)
- [Inheritance](../02.%20Object-Oriented%20Programming/04.%20Inheritance.md)
- [Polymorphism](../02.%20Object-Oriented%20Programming/05.%20Polymorphism.md)
- [Method Overloading](../02.%20Object-Oriented%20Programming/03.%20Methods%20%26%20Method%20Overloading.md)
- [Classes & Objects](../02.%20Object-Oriented%20Programming/01.%20Classes%20%26%20Objects.md)
