# üìù Strings

## üìñ Overview

String is a sequence of characters. In Java, String is a class in `java.lang` package, and it represents an immutable sequence of characters.

**Key Points:**
- Strings are immutable (cannot be changed after creation)
- Stored in String Pool for memory efficiency
- Implements `Comparable`, `CharSequence`, and `Serializable`

---

## üíª Example 1: String Creation

```java
public class StringCreationDemo {
    public static void main(String[] args) {
        // Method 1: String literal (recommended)
        String str1 = "Hello";
        String str2 = "Hello";  // Points to same object in String Pool
        
        // Method 2: Using new keyword
        String str3 = new String("Hello");  // Creates new object in heap
        String str4 = new String("Hello");  // Creates another new object
        
        // Method 3: Character array
        char[] charArray = {'H', 'e', 'l', 'l', 'o'};
        String str5 = new String(charArray);
        
        // Method 4: Byte array
        byte[] byteArray = {72, 101, 108, 108, 111};
        String str6 = new String(byteArray);
        
        // Reference comparison (==)
        System.out.println("=== Reference Comparison (==) ===");
        System.out.println("str1 == str2: " + (str1 == str2));      // true (same reference in pool)
        System.out.println("str1 == str3: " + (str1 == str3));      // false (different references)
        System.out.println("str3 == str4: " + (str3 == str4));      // false (different objects)
        
        // Content comparison (equals)
        System.out.println("\n=== Content Comparison (equals) ===");
        System.out.println("str1.equals(str2): " + str1.equals(str2));  // true
        System.out.println("str1.equals(str3): " + str1.equals(str3));  // true
        System.out.println("str3.equals(str4): " + str3.equals(str4));  // true
        
        // String Pool demonstration
        System.out.println("\n=== String Pool ===");
        String s1 = "Java";
        String s2 = "Java";
        String s3 = new String("Java").intern();  // Forces pool usage
        
        System.out.println("s1 == s2: " + (s1 == s2));  // true (pool)
        System.out.println("s1 == s3: " + (s1 == s3));  // true (intern)
    }
}
```

---

## üíª Example 2: String Methods - Basic

```java
public class StringBasicMethodsDemo {
    public static void main(String[] args) {
        String str = "Hello World";
        
        // 1. length() - returns length of string
        System.out.println("Length: " + str.length());  // 11
        
        // 2. charAt() - returns character at index
        System.out.println("Character at index 0: " + str.charAt(0));  // H
        System.out.println("Character at index 6: " + str.charAt(6));  // W
        
        // 3. substring() - extracts substring
        System.out.println("Substring(0, 5): " + str.substring(0, 5));    // Hello
        System.out.println("Substring(6): " + str.substring(6));           // World
        
        // 4. indexOf() - finds first occurrence
        System.out.println("Index of 'o': " + str.indexOf('o'));           // 4
        System.out.println("Index of 'World': " + str.indexOf("World"));   // 6
        System.out.println("Index of 'xyz': " + str.indexOf("xyz"));       // -1 (not found)
        
        // 5. lastIndexOf() - finds last occurrence
        System.out.println("Last index of 'o': " + str.lastIndexOf('o'));  // 7
        
        // 6. isEmpty() - checks if empty
        System.out.println("Is empty: " + str.isEmpty());      // false
        System.out.println("Empty string: " + "".isEmpty());   // true
        
        // 7. contains() - checks if contains substring
        System.out.println("Contains 'World': " + str.contains("World"));  // true
        System.out.println("Contains 'xyz': " + str.contains("xyz"));      // false
    }
}
```

---

## üíª Example 3: String Methods - Comparison

```java
public class StringComparisonDemo {
    public static void main(String[] args) {
        String s1 = "Hello";
        String s2 = "hello";
        String s3 = "Hello";
        String s4 = "World";
        
        // 1. equals() - case-sensitive comparison
        System.out.println("s1.equals(s2): " + s1.equals(s2));  // false
        System.out.println("s1.equals(s3): " + s1.equals(s3));  // true
        
        // 2. equalsIgnoreCase() - case-insensitive comparison
        System.out.println("s1.equalsIgnoreCase(s2): " + s1.equalsIgnoreCase(s2));  // true
        
        // 3. compareTo() - lexicographic comparison
        System.out.println("\n=== compareTo() ===");
        System.out.println("s1.compareTo(s3): " + s1.compareTo(s3));  // 0 (equal)
        System.out.println("s1.compareTo(s4): " + s1.compareTo(s4));  // -15 (s1 < s4)
        System.out.println("s4.compareTo(s1): " + s4.compareTo(s1));  // 15 (s4 > s1)
        
        // 4. compareToIgnoreCase() - case-insensitive lexicographic
        System.out.println("s1.compareToIgnoreCase(s2): " + s1.compareToIgnoreCase(s2));  // 0
        
        // 5. startsWith() - checks if starts with prefix
        System.out.println("\n=== startsWith() ===");
        System.out.println("s1.startsWith('Hel'): " + s1.startsWith("Hel"));  // true
        System.out.println("s1.startsWith('hel'): " + s1.startsWith("hel"));  // false
        
        // 6. endsWith() - checks if ends with suffix
        System.out.println("\n=== endsWith() ===");
        System.out.println("s1.endsWith('lo'): " + s1.endsWith("lo"));  // true
        System.out.println("s1.endsWith('Lo'): " + s1.endsWith("Lo"));  // false
    }
}
```

---

## üíª Example 4: String Methods - Transformation

```java
public class StringTransformationDemo {
    public static void main(String[] args) {
        String str = "  Hello World  ";
        
        // 1. toLowerCase() - converts to lowercase
        System.out.println("Lowercase: " + str.toLowerCase());  // "  hello world  "
        
        // 2. toUpperCase() - converts to uppercase
        System.out.println("Uppercase: " + str.toUpperCase());  // "  HELLO WORLD  "
        
        // 3. trim() - removes leading and trailing spaces
        System.out.println("Trimmed: '" + str.trim() + "'");   // "Hello World"
        
        // 4. strip() - removes whitespace (Unicode-aware, Java 11+)
        System.out.println("Stripped: '" + str.strip() + "'");
        
        // 5. replace() - replaces all occurrences
        String text = "Hello World Hello";
        System.out.println("Replace 'Hello': " + text.replace("Hello", "Hi"));  // "Hi World Hi"
        System.out.println("Replace 'o': " + text.replace('o', '0'));           // "Hell0 W0rld Hell0"
        
        // 6. replaceAll() - replace using regex
        String phone = "123-456-7890";
        System.out.println("Remove dashes: " + phone.replaceAll("-", ""));  // "1234567890"
        
        // 7. replaceFirst() - replace first occurrence
        System.out.println("Replace first 'Hello': " + text.replaceFirst("Hello", "Hi"));  // "Hi World Hello"
        
        // 8. concat() - concatenate strings
        String s1 = "Hello";
        String s2 = "World";
        System.out.println("Concat: " + s1.concat(" ").concat(s2));  // "Hello World"
    }
}
```

---

## üíª Example 5: String Methods - Split & Join

```java
public class StringSplitJoinDemo {
    public static void main(String[] args) {
        // 1. split() - split string into array
        String sentence = "Java is awesome";
        String[] words = sentence.split(" ");
        
        System.out.println("=== split() ===");
        for (String word : words) {
            System.out.println(word);
        }
        
        // Split with limit
        String csv = "apple,banana,cherry,date";
        String[] fruits = csv.split(",", 2);  // Split into max 2 parts
        System.out.println("\nSplit with limit:");
        for (String fruit : fruits) {
            System.out.println(fruit);
        }
        
        // 2. join() - join strings with delimiter (Java 8+)
        System.out.println("\n=== join() ===");
        String joined = String.join(", ", "apple", "banana", "cherry");
        System.out.println("Joined: " + joined);  // "apple, banana, cherry"
        
        // Join array
        String[] items = {"Java", "Python", "JavaScript"};
        String languages = String.join(" | ", items);
        System.out.println("Languages: " + languages);  // "Java | Python | JavaScript"
        
        // 3. toCharArray() - convert to character array
        String word = "Java";
        char[] chars = word.toCharArray();
        System.out.println("\n=== toCharArray() ===");
        for (char ch : chars) {
            System.out.print(ch + " ");  // J a v a
        }
    }
}
```

---

## üíª Example 6: StringBuilder & StringBuffer

```java
public class StringBuilderBufferDemo {
    public static void main(String[] args) {
        // StringBuilder (not thread-safe, faster)
        System.out.println("=== StringBuilder ===");
        StringBuilder sb = new StringBuilder("Hello");
        
        sb.append(" World");           // Append
        System.out.println(sb);        // "Hello World"
        
        sb.insert(5, ",");             // Insert at index
        System.out.println(sb);        // "Hello, World"
        
        sb.delete(5, 6);               // Delete range
        System.out.println(sb);        // "Hello World"
        
        sb.reverse();                  // Reverse
        System.out.println(sb);        // "dlroW olleH"
        
        sb.reverse();                  // Reverse back
        sb.replace(6, 11, "Java");     // Replace range
        System.out.println(sb);        // "Hello Java"
        
        // StringBuffer (thread-safe, slower)
        System.out.println("\n=== StringBuffer ===");
        StringBuffer sbf = new StringBuffer("Java");
        sbf.append(" Programming");
        System.out.println(sbf);       // "Java Programming"
        
        // Performance comparison
        System.out.println("\n=== Performance Test ===");
        
        // Using String (slow - creates many objects)
        long start = System.currentTimeMillis();
        String str = "";
        for (int i = 0; i < 10000; i++) {
            str += "a";  // Creates new object each time
        }
        long time1 = System.currentTimeMillis() - start;
        System.out.println("String concatenation: " + time1 + " ms");
        
        // Using StringBuilder (fast - mutable)
        start = System.currentTimeMillis();
        StringBuilder builder = new StringBuilder();
        for (int i = 0; i < 10000; i++) {
            builder.append("a");  // Modifies same object
        }
        long time2 = System.currentTimeMillis() - start;
        System.out.println("StringBuilder: " + time2 + " ms");
        
        System.out.println("StringBuilder is " + (time1 / (time2 + 1)) + "x faster");
    }
}
```

---

## üíª Example 7: String Formatting

```java
public class StringFormattingDemo {
    public static void main(String[] args) {
        String name = "Alice";
        int age = 25;
        double salary = 75000.50;
        
        // 1. format() - formatted string
        String formatted = String.format("Name: %s, Age: %d, Salary: %.2f", 
                                        name, age, salary);
        System.out.println(formatted);
        
        // 2. printf() - print formatted
        System.out.printf("Name: %s, Age: %d%n", name, age);
        
        // Format specifiers
        System.out.println("\n=== Format Specifiers ===");
        System.out.printf("Integer: %d%n", 100);
        System.out.printf("Float: %.2f%n", 3.14159);
        System.out.printf("String: %s%n", "Hello");
        System.out.printf("Character: %c%n", 'A');
        System.out.printf("Boolean: %b%n", true);
        System.out.printf("Hexadecimal: %x%n", 255);
        System.out.printf("Octal: %o%n", 8);
        
        // Width and alignment
        System.out.println("\n=== Width & Alignment ===");
        System.out.printf("|%10s|%n", "Right");     // Right-aligned
        System.out.printf("|%-10s|%n", "Left");     // Left-aligned
        System.out.printf("|%010d|%n", 42);         // Zero-padded
        
        // Text blocks (Java 13+)
        System.out.println("\n=== Text Blocks ===");
        String json = """
                      {
                          "name": "Alice",
                          "age": 25
                      }
                      """;
        System.out.println(json);
    }
}
```

---

## üíª Example 8: String Immutability

```java
public class StringImmutabilityDemo {
    public static void main(String[] args) {
        // Strings are immutable
        String s1 = "Hello";
        String s2 = s1;  // Both point to same object
        
        System.out.println("Before modification:");
        System.out.println("s1: " + s1);
        System.out.println("s2: " + s2);
        System.out.println("s1 == s2: " + (s1 == s2));  // true
        
        // "Modifying" s1 creates a new object
        s1 = s1.concat(" World");
        
        System.out.println("\nAfter 'modification':");
        System.out.println("s1: " + s1);  // "Hello World" (new object)
        System.out.println("s2: " + s2);  // "Hello" (unchanged)
        System.out.println("s1 == s2: " + (s1 == s2));  // false
        
        // Demonstration with hashCode
        System.out.println("\n=== Hash Codes ===");
        String original = "Java";
        System.out.println("Original hashCode: " + original.hashCode());
        
        String modified = original.toUpperCase();
        System.out.println("Modified hashCode: " + modified.hashCode());
        System.out.println("Original unchanged: " + original);
    }
}
```

---

## üíª Example 9: Practical String Problems

```java
public class StringProblemsDemo {
    public static void main(String[] args) {
        // Problem 1: Reverse a string
        String str = "Hello";
        String reversed = new StringBuilder(str).reverse().toString();
        System.out.println("Reversed: " + reversed);
        
        // Problem 2: Check palindrome
        String word = "madam";
        boolean isPalindrome = word.equals(new StringBuilder(word).reverse().toString());
        System.out.println(word + " is palindrome: " + isPalindrome);
        
        // Problem 3: Count vowels
        String text = "Hello World";
        int vowelCount = 0;
        String vowels = "aeiouAEIOU";
        for (char ch : text.toCharArray()) {
            if (vowels.indexOf(ch) != -1) {
                vowelCount++;
            }
        }
        System.out.println("Vowel count: " + vowelCount);
        
        // Problem 4: Remove duplicates
        String input = "programming";
        StringBuilder unique = new StringBuilder();
        for (char ch : input.toCharArray()) {
            if (unique.indexOf(String.valueOf(ch)) == -1) {
                unique.append(ch);
            }
        }
        System.out.println("Without duplicates: " + unique);
        
        // Problem 5: Anagram check
        String s1 = "listen";
        String s2 = "silent";
        char[] arr1 = s1.toCharArray();
        char[] arr2 = s2.toCharArray();
        java.util.Arrays.sort(arr1);
        java.util.Arrays.sort(arr2);
        boolean isAnagram = java.util.Arrays.equals(arr1, arr2);
        System.out.println(s1 + " and " + s2 + " are anagrams: " + isAnagram);
        
        // Problem 6: Count words
        String sentence = "Java is awesome";
        int wordCount = sentence.split("\\s+").length;
        System.out.println("Word count: " + wordCount);
        
        // Problem 7: First non-repeating character
        String str2 = "swiss";
        for (char ch : str2.toCharArray()) {
            if (str2.indexOf(ch) == str2.lastIndexOf(ch)) {
                System.out.println("First non-repeating: " + ch);
                break;
            }
        }
    }
}
```

---

## üíª Example 10: String Pool Deep Dive

```java
public class StringPoolDemo {
    public static void main(String[] args) {
        // String literal - goes to pool
        String s1 = "Hello";
        String s2 = "Hello";
        
        // Using new - goes to heap
        String s3 = new String("Hello");
        String s4 = new String("Hello");
        
        System.out.println("=== String Pool vs Heap ===");
        System.out.println("s1 == s2 (both literals): " + (s1 == s2));        // true
        System.out.println("s3 == s4 (both new): " + (s3 == s4));            // false
        System.out.println("s1 == s3 (literal vs new): " + (s1 == s3));      // false
        
        // intern() - moves to pool
        String s5 = new String("World").intern();
        String s6 = "World";
        System.out.println("\n=== intern() ===");
        System.out.println("s5 == s6 (with intern): " + (s5 == s6));        // true
        
        // Concatenation at compile time
        String s7 = "Java" + "Script";  // Compile-time constant
        String s8 = "JavaScript";
        System.out.println("\n=== Compile-time Concatenation ===");
        System.out.println("s7 == s8: " + (s7 == s8));  // true (both in pool)
        
        // Concatenation at runtime
        String part1 = "Java";
        String part2 = "Script";
        String s9 = part1 + part2;  // Runtime concatenation
        String s10 = "JavaScript";
        System.out.println("\n=== Runtime Concatenation ===");
        System.out.println("s9 == s10: " + (s9 == s10));  // false (s9 in heap)
        System.out.println("s9.equals(s10): " + s9.equals(s10));  // true
    }
}
```

---

## üìä String vs StringBuilder vs StringBuffer

| Feature | String | StringBuilder | StringBuffer |
|---------|--------|---------------|--------------|
| **Mutability** | Immutable | Mutable | Mutable |
| **Thread Safety** | Immutable (safe) | Not thread-safe | Thread-safe (synchronized) |
| **Performance** | Slow for many changes | Fast | Slower than StringBuilder |
| **Memory** | Creates many objects | Single object | Single object |
| **Use Case** | Few modifications | Single-threaded | Multi-threaded |
| **Since** | Java 1.0 | Java 1.5 | Java 1.0 |

---

## üìä Common String Methods Summary

| Method | Description | Return Type |
|--------|-------------|-------------|
| `length()` | Returns length | int |
| `charAt(index)` | Character at index | char |
| `substring(start, end)` | Extract substring | String |
| `indexOf(str)` | Find first occurrence | int |
| `lastIndexOf(str)` | Find last occurrence | int |
| `equals(str)` | Content comparison | boolean |
| `equalsIgnoreCase(str)` | Case-insensitive comparison | boolean |
| `compareTo(str)` | Lexicographic comparison | int |
| `toLowerCase()` | Convert to lowercase | String |
| `toUpperCase()` | Convert to uppercase | String |
| `trim()` | Remove whitespace | String |
| `replace(old, new)` | Replace all occurrences | String |
| `split(regex)` | Split into array | String[] |
| `contains(str)` | Check if contains | boolean |
| `startsWith(prefix)` | Check prefix | boolean |
| `endsWith(suffix)` | Check suffix | boolean |
| `concat(str)` | Concatenate | String |
| `isEmpty()` | Check if empty | boolean |

---

## üí° Best Practices

1. ‚úÖ Use String literals instead of `new String()`
2. ‚úÖ Use `equals()` for content comparison, not `==`
3. ‚úÖ Use StringBuilder for multiple concatenations
4. ‚úÖ Use StringBuffer in multi-threaded environments
5. ‚úÖ Avoid string concatenation in loops
6. ‚úÖ Use `String.format()` for complex formatting
7. ‚úÖ Cache frequently used strings
8. ‚úÖ Use `intern()` carefully (can fill up pool)

---

## ‚ö†Ô∏è Common Pitfalls

```java
public class StringPitfalls {
    public static void main(String[] args) {
        // 1. Using == instead of equals()
        String s1 = new String("Hello");
        String s2 = new String("Hello");
        // if (s1 == s2) { }  // Wrong! Compares references
        if (s1.equals(s2)) { }  // Correct! Compares content
        
        // 2. NullPointerException
        String str = null;
        // int len = str.length();  // NullPointerException!
        int len = (str != null) ? str.length() : 0;  // Safe
        
        // 3. String concatenation in loop (inefficient)
        String result = "";
        for (int i = 0; i < 1000; i++) {
            result += "a";  // Creates 1000 new String objects!
        }
        
        // Better: Use StringBuilder
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < 1000; i++) {
            sb.append("a");  // Modifies same object
        }
        
        // 4. Modifying String doesn't affect original
        String original = "Hello";
        original.concat(" World");  // Doesn't modify original!
        System.out.println(original);  // Still "Hello"
        
        // Correct way:
        original = original.concat(" World");  // Assign back
        System.out.println(original);  // "Hello World"
        
        // 5. Split with regex special characters
        String path = "C:\\Users\\Documents";
        // String[] parts = path.split("\\");  // Error! Need to escape
        String[] parts = path.split("\\\\");  // Correct
    }
}
```

---

## üéØ Interview Questions

1. **What is String? Why is it immutable?**
2. **Difference between String, StringBuilder, and StringBuffer?**
3. **What is String Pool?**
4. **Difference between `==` and `equals()` for String?**
5. **What does `intern()` method do?**
6. **How to reverse a string?**
7. **How to check if a string is palindrome?**
8. **Why String is immutable in Java?**
9. **Can we make String mutable?**
10. **What is the output of `"Hello" == "Hello"`?**
11. **How to convert String to int and vice versa?**
12. **Difference between `length()` and `length` property?**
13. **How to remove duplicates from a string?**
14. **How to check if two strings are anagrams?**
15. **What are the advantages of String immutability?**

---

## üìö Next Topics

- [Input Output](08.%20Input%20Output.md)
- [Classes & Objects](../../02.%20Object-Oriented%20Programming/01.%20Classes%20%26%20Objects.md)
- [Regular Expressions](../../Java%20Advanced/Regular%20Expressions.md)
