# ðŸ”¢ Operators & Expressions

## ðŸ“– Overview

Operators are symbols that perform operations on operands (variables and values).

---

## ðŸ”· Types of Operators

1. **Arithmetic Operators**
2. **Relational Operators**
3. **Logical Operators**
4. **Bitwise Operators**
5. **Assignment Operators**
6. **Unary Operators**
7. **Ternary Operator**
8. **instanceof Operator**

---

## ðŸ’» Example 1: Arithmetic Operators

```java
public class ArithmeticOperatorsDemo {
    public static void main(String[] args) {
        int a = 20;
        int b = 10;
        
        // Basic arithmetic operators
        System.out.println("=== Arithmetic Operators ===");
        System.out.println("a = " + a + ", b = " + b);
        System.out.println("a + b = " + (a + b));    // Addition
        System.out.println("a - b = " + (a - b));    // Subtraction
        System.out.println("a * b = " + (a * b));    // Multiplication
        System.out.println("a / b = " + (a / b));    // Division
        System.out.println("a % b = " + (a % b));    // Modulus (remainder)
        
        // Integer vs floating-point division
        System.out.println("\n=== Division Types ===");
        System.out.println("7 / 2 = " + (7 / 2));           // 3 (integer division)
        System.out.println("7.0 / 2 = " + (7.0 / 2));       // 3.5 (floating-point)
        System.out.println("7 / 2.0 = " + (7 / 2.0));       // 3.5
        System.out.println("(double)7 / 2 = " + ((double)7 / 2));  // 3.5
        
        // Modulus with negative numbers
        System.out.println("\n=== Modulus with Negatives ===");
        System.out.println("10 % 3 = " + (10 % 3));         // 1
        System.out.println("-10 % 3 = " + (-10 % 3));       // -1
        System.out.println("10 % -3 = " + (10 % -3));       // 1
        System.out.println("-10 % -3 = " + (-10 % -3));     // -1
    }
}
```

---

## ðŸ’» Example 2: Relational Operators

```java
public class RelationalOperatorsDemo {
    public static void main(String[] args) {
        int a = 10;
        int b = 20;
        
        System.out.println("=== Relational Operators ===");
        System.out.println("a = " + a + ", b = " + b);
        
        System.out.println("a == b: " + (a == b));  // Equal to
        System.out.println("a != b: " + (a != b));  // Not equal to
        System.out.println("a > b: " + (a > b));    // Greater than
        System.out.println("a < b: " + (a < b));    // Less than
        System.out.println("a >= b: " + (a >= b));  // Greater than or equal to
        System.out.println("a <= b: " + (a <= b));  // Less than or equal to
        
        // String comparison (reference vs content)
        System.out.println("\n=== String Comparison ===");
        String s1 = "Hello";
        String s2 = "Hello";
        String s3 = new String("Hello");
        
        System.out.println("s1 == s2: " + (s1 == s2));          // true (same reference)
        System.out.println("s1 == s3: " + (s1 == s3));          // false (different reference)
        System.out.println("s1.equals(s3): " + s1.equals(s3)); // true (same content)
    }
}
```

---

## ðŸ’» Example 3: Logical Operators

```java
public class LogicalOperatorsDemo {
    public static void main(String[] args) {
        boolean a = true;
        boolean b = false;
        
        System.out.println("=== Logical Operators ===");
        System.out.println("a = " + a + ", b = " + b);
        
        // Logical AND (&&) - both must be true
        System.out.println("a && b: " + (a && b));  // false
        System.out.println("a && a: " + (a && a));  // true
        
        // Logical OR (||) - at least one must be true
        System.out.println("a || b: " + (a || b));  // true
        System.out.println("b || b: " + (b || b));  // false
        
        // Logical NOT (!) - inverts boolean value
        System.out.println("!a: " + (!a));          // false
        System.out.println("!b: " + (!b));          // true
        
        // Short-circuit evaluation
        System.out.println("\n=== Short-Circuit Evaluation ===");
        int x = 10;
        int y = 20;
        
        // && stops if first is false
        boolean result1 = (x > y) && (++x > 5);
        System.out.println("x after && : " + x);  // 10 (++x not executed)
        
        // || stops if first is true
        boolean result2 = (x < y) || (++x > 5);
        System.out.println("x after || : " + x);  // 10 (++x not executed)
        
        // Bitwise AND (&) and OR (|) - no short-circuit
        boolean result3 = (x < y) | (++x > 5);
        System.out.println("x after | : " + x);   // 11 (++x executed)
    }
}
```

---

## ðŸ’» Example 4: Bitwise Operators

```java
public class BitwiseOperatorsDemo {
    public static void main(String[] args) {
        int a = 5;   // 0101 in binary
        int b = 3;   // 0011 in binary
        
        System.out.println("=== Bitwise Operators ===");
        System.out.println("a = " + a + " (" + Integer.toBinaryString(a) + ")");
        System.out.println("b = " + b + " (" + Integer.toBinaryString(b) + ")");
        
        // Bitwise AND (&) - 1 if both bits are 1
        System.out.println("a & b = " + (a & b) + " (" + 
                          Integer.toBinaryString(a & b) + ")");  // 0001 = 1
        
        // Bitwise OR (|) - 1 if at least one bit is 1
        System.out.println("a | b = " + (a | b) + " (" + 
                          Integer.toBinaryString(a | b) + ")");  // 0111 = 7
        
        // Bitwise XOR (^) - 1 if bits are different
        System.out.println("a ^ b = " + (a ^ b) + " (" + 
                          Integer.toBinaryString(a ^ b) + ")");  // 0110 = 6
        
        // Bitwise NOT (~) - inverts all bits
        System.out.println("~a = " + (~a));  // -6 (two's complement)
        
        // Left shift (<<) - multiply by 2^n
        System.out.println("\n=== Shift Operators ===");
        System.out.println("a << 1 = " + (a << 1));  // 5 * 2 = 10
        System.out.println("a << 2 = " + (a << 2));  // 5 * 4 = 20
        
        // Right shift (>>) - divide by 2^n (signed)
        System.out.println("a >> 1 = " + (a >> 1));  // 5 / 2 = 2
        
        // Unsigned right shift (>>>) - fills with 0
        int negative = -8;
        System.out.println("\nSigned right shift: " + negative + " >> 1 = " + (negative >> 1));
        System.out.println("Unsigned right shift: " + negative + " >>> 1 = " + (negative >>> 1));
    }
}
```

---

## ðŸ’» Example 5: Assignment Operators

```java
public class AssignmentOperatorsDemo {
    public static void main(String[] args) {
        int a = 10;
        
        System.out.println("=== Assignment Operators ===");
        System.out.println("Initial value: a = " + a);
        
        // Compound assignment operators
        a += 5;  // a = a + 5
        System.out.println("a += 5: " + a);   // 15
        
        a -= 3;  // a = a - 3
        System.out.println("a -= 3: " + a);   // 12
        
        a *= 2;  // a = a * 2
        System.out.println("a *= 2: " + a);   // 24
        
        a /= 4;  // a = a / 4
        System.out.println("a /= 4: " + a);   // 6
        
        a %= 4;  // a = a % 4
        System.out.println("a %= 4: " + a);   // 2
        
        // Bitwise compound assignment
        a = 10;  // Reset
        System.out.println("\n=== Bitwise Assignment ===");
        System.out.println("Initial: a = " + a);
        
        a &= 3;  // a = a & 3
        System.out.println("a &= 3: " + a);   // 2
        
        a = 10;  // Reset
        a |= 3;  // a = a | 3
        System.out.println("a |= 3: " + a);   // 11
        
        a = 10;  // Reset
        a ^= 3;  // a = a ^ 3
        System.out.println("a ^= 3: " + a);   // 9
        
        a = 10;  // Reset
        a <<= 2; // a = a << 2
        System.out.println("a <<= 2: " + a);  // 40
        
        a >>= 2; // a = a >> 2
        System.out.println("a >>= 2: " + a);  // 10
    }
}
```

---

## ðŸ’» Example 6: Unary Operators

```java
public class UnaryOperatorsDemo {
    public static void main(String[] args) {
        int a = 10;
        int b = 20;
        
        System.out.println("=== Unary Operators ===");
        
        // Unary plus and minus
        System.out.println("+a = " + (+a));   // 10
        System.out.println("-a = " + (-a));   // -10
        
        // Increment operators
        System.out.println("\n=== Increment (++) ===");
        System.out.println("a = " + a);
        System.out.println("++a (pre-increment): " + (++a));  // 11 (increment first)
        System.out.println("a = " + a);
        System.out.println("a++ (post-increment): " + (a++)); // 11 (use then increment)
        System.out.println("a = " + a);  // 12
        
        // Decrement operators
        System.out.println("\n=== Decrement (--) ===");
        System.out.println("b = " + b);
        System.out.println("--b (pre-decrement): " + (--b));  // 19 (decrement first)
        System.out.println("b = " + b);
        System.out.println("b-- (post-decrement): " + (b--)); // 19 (use then decrement)
        System.out.println("b = " + b);  // 18
        
        // Logical complement
        boolean flag = true;
        System.out.println("\n=== Logical NOT (!) ===");
        System.out.println("flag = " + flag);
        System.out.println("!flag = " + (!flag));  // false
        
        // Bitwise complement
        int x = 5;  // 0101
        System.out.println("\n=== Bitwise NOT (~) ===");
        System.out.println("x = " + x);
        System.out.println("~x = " + (~x));  // -6 (inverts all bits)
    }
}
```

---

## ðŸ’» Example 7: Ternary Operator

```java
public class TernaryOperatorDemo {
    public static void main(String[] args) {
        // Syntax: condition ? value_if_true : value_if_false
        
        int a = 10;
        int b = 20;
        
        // Simple ternary
        int max = (a > b) ? a : b;
        System.out.println("Maximum: " + max);  // 20
        
        int min = (a < b) ? a : b;
        System.out.println("Minimum: " + min);  // 10
        
        // Nested ternary
        int x = 15;
        String result = (x > 10) ? "Greater than 10" :
                        (x < 10) ? "Less than 10" :
                        "Equal to 10";
        System.out.println("\nx = " + x + " is " + result);
        
        // Replace if-else
        int age = 18;
        String status = (age >= 18) ? "Adult" : "Minor";
        System.out.println("\nAge: " + age + " - Status: " + status);
        
        // Multiple conditions
        int score = 85;
        String grade = (score >= 90) ? "A" :
                       (score >= 80) ? "B" :
                       (score >= 70) ? "C" :
                       (score >= 60) ? "D" : "F";
        System.out.println("Score: " + score + " - Grade: " + grade);
        
        // Ternary in expressions
        int num1 = 5;
        int num2 = 10;
        System.out.println("\n" + num1 + " is " + 
                          ((num1 % 2 == 0) ? "even" : "odd"));
        System.out.println(num2 + " is " + 
                          ((num2 % 2 == 0) ? "even" : "odd"));
    }
}
```

---

## ðŸ’» Example 8: instanceof Operator

```java
class Animal {}
class Dog extends Animal {}
class Cat extends Animal {}

public class InstanceofOperatorDemo {
    public static void main(String[] args) {
        Animal animal = new Animal();
        Dog dog = new Dog();
        Cat cat = new Cat();
        Animal animalDog = new Dog();  // Polymorphism
        
        System.out.println("=== instanceof Operator ===");
        
        // Check exact class
        System.out.println("animal instanceof Animal: " + 
                          (animal instanceof Animal));  // true
        System.out.println("dog instanceof Dog: " + 
                          (dog instanceof Dog));        // true
        
        // Check inheritance
        System.out.println("dog instanceof Animal: " + 
                          (dog instanceof Animal));     // true
        System.out.println("animal instanceof Dog: " + 
                          (animal instanceof Dog));     // false
        
        // Polymorphism check
        System.out.println("animalDog instanceof Animal: " + 
                          (animalDog instanceof Animal)); // true
        System.out.println("animalDog instanceof Dog: " + 
                          (animalDog instanceof Dog));    // true
        
        // Null check
        Animal nullAnimal = null;
        System.out.println("null instanceof Animal: " + 
                          (nullAnimal instanceof Animal)); // false
        
        // Avoid ClassCastException
        if (animalDog instanceof Dog) {
            Dog d = (Dog) animalDog;  // Safe casting
            System.out.println("\nSuccessfully cast to Dog");
        }
    }
}
```

---

## ðŸ“Š Operator Precedence (Highest to Lowest)

| Level | Operators | Description |
|-------|-----------|-------------|
| 1 | `()` `[]` `.` | Parentheses, Array, Member access |
| 2 | `++` `--` `+` `-` `!` `~` | Unary operators |
| 3 | `*` `/` `%` | Multiplication, Division, Modulus |
| 4 | `+` `-` | Addition, Subtraction |
| 5 | `<<` `>>` `>>>` | Shift operators |
| 6 | `<` `<=` `>` `>=` `instanceof` | Relational |
| 7 | `==` `!=` | Equality |
| 8 | `&` | Bitwise AND |
| 9 | `^` | Bitwise XOR |
| 10 | `|` | Bitwise OR |
| 11 | `&&` | Logical AND |
| 12 | `||` | Logical OR |
| 13 | `?:` | Ternary |
| 14 | `=` `+=` `-=` `*=` `/=` `%=` etc. | Assignment |

---

## ðŸ’» Example 9: Operator Precedence

```java
public class OperatorPrecedenceDemo {
    public static void main(String[] args) {
        // Precedence without parentheses
        int result1 = 10 + 5 * 2;
        System.out.println("10 + 5 * 2 = " + result1);  // 20 (not 30)
        
        // Using parentheses to change precedence
        int result2 = (10 + 5) * 2;
        System.out.println("(10 + 5) * 2 = " + result2);  // 30
        
        // Complex expression
        int a = 5, b = 10, c = 15;
        int result3 = a + b * c / 5 - 2;
        System.out.println("5 + 10 * 15 / 5 - 2 = " + result3);  // 33
        // Evaluation: 5 + ((10 * 15) / 5) - 2 = 5 + 30 - 2 = 33
        
        // Logical operators precedence
        boolean result4 = true || false && false;
        System.out.println("true || false && false = " + result4);  // true
        // Evaluation: true || (false && false) = true || false = true
        
        // Relational and logical
        int x = 10, y = 20;
        boolean result5 = x < 15 && y > 15 || x > 5;
        System.out.println("10 < 15 && 20 > 15 || 10 > 5 = " + result5);  // true
        // Evaluation: ((10 < 15) && (20 > 15)) || (10 > 5) = (true && true) || true = true
    }
}
```

---

## ðŸ’» Example 10: Practical Expression Examples

```java
public class PracticalExpressionsDemo {
    public static void main(String[] args) {
        // Check if number is even or odd
        int num = 17;
        boolean isEven = (num % 2 == 0);
        System.out.println(num + " is even: " + isEven);
        
        // Check if year is leap year
        int year = 2024;
        boolean isLeap = (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);
        System.out.println(year + " is leap year: " + isLeap);
        
        // Swap two numbers using XOR
        int a = 5, b = 10;
        System.out.println("\nBefore swap: a=" + a + ", b=" + b);
        a = a ^ b;
        b = a ^ b;
        a = a ^ b;
        System.out.println("After swap: a=" + a + ", b=" + b);
        
        // Check if number is power of 2
        int n = 16;
        boolean isPowerOf2 = (n > 0) && ((n & (n - 1)) == 0);
        System.out.println("\n" + n + " is power of 2: " + isPowerOf2);
        
        // Count set bits (1s) in binary
        int number = 29;  // 11101 in binary
        int count = 0;
        int temp = number;
        while (temp > 0) {
            count += temp & 1;
            temp >>= 1;
        }
        System.out.println("\nSet bits in " + number + ": " + count);
        
        // Check if character is uppercase
        char ch = 'A';
        boolean isUppercase = (ch >= 'A' && ch <= 'Z');
        System.out.println("\n'" + ch + "' is uppercase: " + isUppercase);
    }
}
```

---

## ðŸ’¡ Best Practices

1. âœ… Use parentheses for clarity, even when not required
2. âœ… Prefer `&&` and `||` over `&` and `|` for logical operations
3. âœ… Use pre-increment (`++i`) when the value isn't used
4. âœ… Avoid complex nested ternary operators
5. âœ… Be careful with integer division (use casting if needed)
6. âœ… Use bitwise operators for performance-critical code
7. âœ… Check for null before using `instanceof`

---

## âš ï¸ Common Pitfalls

```java
public class CommonPitfalls {
    public static void main(String[] args) {
        // 1. Post vs Pre increment in expressions
        int a = 5;
        int b = a++ + ++a;  // Confusing! Avoid this
        System.out.println("b = " + b);  // 12 (5 + 7)
        
        // 2. Floating-point comparison
        double x = 0.1 + 0.2;
        System.out.println("0.1 + 0.2 == 0.3: " + (x == 0.3));  // false!
        
        // 3. String comparison with ==
        String s1 = new String("Hello");
        String s2 = new String("Hello");
        System.out.println("s1 == s2: " + (s1 == s2));  // false (use equals!)
        
        // 4. Division by zero
        // int result = 10 / 0;  // ArithmeticException
        double d = 10.0 / 0;  // Infinity (no exception)
        System.out.println("10.0 / 0 = " + d);
        
        // 5. Operator precedence confusion
        int result = 10 + 5 * 2;  // 20, not 30
        System.out.println("Without parentheses: " + result);
    }
}
```

---

## ðŸŽ¯ Interview Questions

1. **What are the types of operators in Java?**
2. **Difference between `++i` and `i++`?**
3. **Difference between `==` and `equals()`?**
4. **What is short-circuit evaluation?**
5. **Difference between `&` and `&&`?**
6. **What is the ternary operator?**
7. **Explain operator precedence with an example**
8. **What is the purpose of `instanceof` operator?**
9. **Difference between `>>` and `>>>`?**
10. **How to swap two numbers without a temporary variable?**

---

## ðŸ“š Next Topics

- [Control Flow Statements](05.%20Control%20Flow%20Statements.md)
- [Loops](06.%20Loops.md)
- [Arrays](07.%20Arrays.md)
