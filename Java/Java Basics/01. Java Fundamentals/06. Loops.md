# üîÅ Loops

## üìñ Overview

Loops are used to execute a block of code repeatedly until a condition is met.

---

## üî∑ Types of Loops

1. **for loop** - Known number of iterations
2. **while loop** - Condition-based iteration
3. **do-while loop** - Executes at least once
4. **for-each loop** - Iterate over collections/arrays

---

## üíª Example 1: for Loop

```java
public class ForLoopDemo {
    public static void main(String[] args) {
        // Basic for loop
        System.out.println("=== Numbers 1 to 10 ===");
        for (int i = 1; i <= 10; i++) {
            System.out.print(i + " ");
        }
        
        // Reverse loop
        System.out.println("\n\n=== Countdown from 10 to 1 ===");
        for (int i = 10; i >= 1; i--) {
            System.out.print(i + " ");
        }
        
        // Loop with increment of 2
        System.out.println("\n\n=== Even numbers 2 to 20 ===");
        for (int i = 2; i <= 20; i += 2) {
            System.out.print(i + " ");
        }
        
        // Multiple variables
        System.out.println("\n\n=== Multiple variables ===");
        for (int i = 0, j = 10; i < 5; i++, j--) {
            System.out.println("i=" + i + ", j=" + j);
        }
        
        // Infinite loop (use carefully!)
        // for (;;) {
        //     System.out.println("Infinite loop");
        //     break;  // Need break to exit
        // }
        
        // Nested for loop - Multiplication table
        System.out.println("\n=== Multiplication Table ===");
        for (int i = 1; i <= 5; i++) {
            for (int j = 1; j <= 10; j++) {
                System.out.printf("%4d", i * j);
            }
            System.out.println();
        }
    }
}
```

---

## üíª Example 2: while Loop

```java
public class WhileLoopDemo {
    public static void main(String[] args) {
        // Basic while loop
        System.out.println("=== Numbers 1 to 10 ===");
        int i = 1;
        while (i <= 10) {
            System.out.print(i + " ");
            i++;
        }
        
        // Sum of numbers
        System.out.println("\n\n=== Sum of 1 to 100 ===");
        int sum = 0;
        int num = 1;
        while (num <= 100) {
            sum += num;
            num++;
        }
        System.out.println("Sum: " + sum);
        
        // Reverse digits
        System.out.println("\n=== Reverse digits ===");
        int number = 12345;
        int reversed = 0;
        while (number > 0) {
            int digit = number % 10;
            reversed = reversed * 10 + digit;
            number /= 10;
        }
        System.out.println("Reversed: " + reversed);
        
        // Find factorial
        System.out.println("\n=== Factorial of 5 ===");
        int n = 5;
        int factorial = 1;
        int counter = n;
        while (counter > 0) {
            factorial *= counter;
            counter--;
        }
        System.out.println(n + "! = " + factorial);
        
        // Infinite loop with break
        System.out.println("\n=== Break on condition ===");
        int count = 0;
        while (true) {
            count++;
            System.out.print(count + " ");
            if (count == 5) {
                break;
            }
        }
    }
}
```

---

## üíª Example 3: do-while Loop

```java
import java.util.Scanner;

public class DoWhileLoopDemo {
    public static void main(String[] args) {
        // Basic do-while (executes at least once)
        System.out.println("=== Numbers 1 to 5 ===");
        int i = 1;
        do {
            System.out.print(i + " ");
            i++;
        } while (i <= 5);
        
        // do-while vs while difference
        System.out.println("\n\n=== Difference: do-while vs while ===");
        
        int x = 10;
        do {
            System.out.println("do-while: Executes even when x=10");
        } while (x < 5);  // False, but executes once
        
        int y = 10;
        while (y < 5) {  // False, doesn't execute
            System.out.println("while: This won't print");
        }
        
        // Menu-driven program
        Scanner scanner = new Scanner(System.in);
        int choice;
        
        do {
            System.out.println("\n=== Menu ===");
            System.out.println("1. Print Hello");
            System.out.println("2. Print World");
            System.out.println("3. Exit");
            System.out.print("Enter choice: ");
            choice = scanner.nextInt();
            
            switch (choice) {
                case 1 -> System.out.println("Hello");
                case 2 -> System.out.println("World");
                case 3 -> System.out.println("Exiting...");
                default -> System.out.println("Invalid choice");
            }
        } while (choice != 3);
        
        scanner.close();
    }
}
```

---

## üíª Example 4: for-each Loop (Enhanced for Loop)

```java
public class ForEachLoopDemo {
    public static void main(String[] args) {
        // Array iteration
        System.out.println("=== Array iteration ===");
        int[] numbers = {10, 20, 30, 40, 50};
        
        for (int num : numbers) {
            System.out.print(num + " ");
        }
        
        // String array
        System.out.println("\n\n=== String array ===");
        String[] fruits = {"Apple", "Banana", "Cherry", "Date"};
        
        for (String fruit : fruits) {
            System.out.println(fruit);
        }
        
        // 2D array
        System.out.println("\n=== 2D array ===");
        int[][] matrix = {
            {1, 2, 3},
            {4, 5, 6},
            {7, 8, 9}
        };
        
        for (int[] row : matrix) {
            for (int element : row) {
                System.out.print(element + " ");
            }
            System.out.println();
        }
        
        // Cannot modify array elements directly
        System.out.println("\n=== Limitation: Cannot modify ===");
        int[] arr = {1, 2, 3, 4, 5};
        
        // This doesn't modify the array
        for (int num : arr) {
            num = num * 2;  // Only modifies local variable
        }
        
        System.out.print("Array unchanged: ");
        for (int num : arr) {
            System.out.print(num + " ");  // Still 1, 2, 3, 4, 5
        }
    }
}
```

---

## üíª Example 5: Nested Loops

```java
public class NestedLoopsDemo {
    public static void main(String[] args) {
        // Pattern 1: Rectangle
        System.out.println("=== Rectangle Pattern ===");
        for (int i = 1; i <= 4; i++) {
            for (int j = 1; j <= 5; j++) {
                System.out.print("* ");
            }
            System.out.println();
        }
        
        // Pattern 2: Right Triangle
        System.out.println("\n=== Right Triangle ===");
        for (int i = 1; i <= 5; i++) {
            for (int j = 1; j <= i; j++) {
                System.out.print("* ");
            }
            System.out.println();
        }
        
        // Pattern 3: Number Triangle
        System.out.println("\n=== Number Triangle ===");
        for (int i = 1; i <= 5; i++) {
            for (int j = 1; j <= i; j++) {
                System.out.print(j + " ");
            }
            System.out.println();
        }
        
        // Pattern 4: Pyramid
        System.out.println("\n=== Pyramid ===");
        int rows = 5;
        for (int i = 1; i <= rows; i++) {
            // Print spaces
            for (int j = 1; j <= rows - i; j++) {
                System.out.print("  ");
            }
            // Print stars
            for (int j = 1; j <= 2 * i - 1; j++) {
                System.out.print("* ");
            }
            System.out.println();
        }
        
        // Pattern 5: Inverted Triangle
        System.out.println("\n=== Inverted Triangle ===");
        for (int i = 5; i >= 1; i--) {
            for (int j = 1; j <= i; j++) {
                System.out.print("* ");
            }
            System.out.println();
        }
    }
}
```

---

## üíª Example 6: Loop Control (break & continue)

```java
public class LoopControlDemo {
    public static void main(String[] args) {
        // break - exit loop
        System.out.println("=== break example ===");
        for (int i = 1; i <= 10; i++) {
            if (i == 6) {
                break;  // Exit loop when i is 6
            }
            System.out.print(i + " ");
        }
        
        // continue - skip iteration
        System.out.println("\n\n=== continue example ===");
        for (int i = 1; i <= 10; i++) {
            if (i % 2 == 0) {
                continue;  // Skip even numbers
            }
            System.out.print(i + " ");
        }
        
        // break in nested loop
        System.out.println("\n\n=== break in nested loop ===");
        for (int i = 1; i <= 3; i++) {
            for (int j = 1; j <= 5; j++) {
                if (j == 3) {
                    break;  // Exits only inner loop
                }
                System.out.print(i + "-" + j + " ");
            }
            System.out.println();
        }
        
        // Labeled break
        System.out.println("\n=== Labeled break ===");
        outer: for (int i = 1; i <= 3; i++) {
            for (int j = 1; j <= 5; j++) {
                if (j == 3) {
                    break outer;  // Exits both loops
                }
                System.out.print(i + "-" + j + " ");
            }
        }
        
        // Find prime numbers
        System.out.println("\n\n=== Prime numbers (1-50) ===");
        for (int num = 2; num <= 50; num++) {
            boolean isPrime = true;
            for (int i = 2; i <= Math.sqrt(num); i++) {
                if (num % i == 0) {
                    isPrime = false;
                    break;  // Not prime, exit inner loop
                }
            }
            if (isPrime) {
                System.out.print(num + " ");
            }
        }
    }
}
```

---

## üíª Example 7: Common Loop Algorithms

```java
public class LoopAlgorithmsDemo {
    public static void main(String[] args) {
        // 1. Sum of array elements
        int[] arr = {10, 20, 30, 40, 50};
        int sum = 0;
        for (int num : arr) {
            sum += num;
        }
        System.out.println("Sum: " + sum);
        
        // 2. Find maximum
        int max = arr[0];
        for (int num : arr) {
            if (num > max) {
                max = num;
            }
        }
        System.out.println("Maximum: " + max);
        
        // 3. Count occurrences
        int[] numbers = {1, 2, 3, 2, 4, 2, 5};
        int target = 2;
        int count = 0;
        for (int num : numbers) {
            if (num == target) {
                count++;
            }
        }
        System.out.println("Count of " + target + ": " + count);
        
        // 4. Reverse an array
        int[] original = {1, 2, 3, 4, 5};
        System.out.print("\nOriginal: ");
        for (int num : original) {
            System.out.print(num + " ");
        }
        
        for (int i = 0; i < original.length / 2; i++) {
            int temp = original[i];
            original[i] = original[original.length - 1 - i];
            original[original.length - 1 - i] = temp;
        }
        
        System.out.print("\nReversed: ");
        for (int num : original) {
            System.out.print(num + " ");
        }
        
        // 5. Fibonacci series
        System.out.println("\n\n=== Fibonacci (first 10) ===");
        int a = 0, b = 1;
        System.out.print(a + " " + b + " ");
        for (int i = 2; i < 10; i++) {
            int next = a + b;
            System.out.print(next + " ");
            a = b;
            b = next;
        }
        
        // 6. Palindrome check
        String str = "madam";
        boolean isPalindrome = true;
        int len = str.length();
        for (int i = 0; i < len / 2; i++) {
            if (str.charAt(i) != str.charAt(len - 1 - i)) {
                isPalindrome = false;
                break;
            }
        }
        System.out.println("\n\n'" + str + "' is palindrome: " + isPalindrome);
    }
}
```

---

## üíª Example 8: Performance Comparison

```java
public class LoopPerformanceDemo {
    public static void main(String[] args) {
        int[] arr = new int[1000000];
        for (int i = 0; i < arr.length; i++) {
            arr[i] = i;
        }
        
        // Traditional for loop
        long start = System.nanoTime();
        long sum1 = 0;
        for (int i = 0; i < arr.length; i++) {
            sum1 += arr[i];
        }
        long time1 = System.nanoTime() - start;
        
        // Enhanced for loop
        start = System.nanoTime();
        long sum2 = 0;
        for (int num : arr) {
            sum2 += num;
        }
        long time2 = System.nanoTime() - start;
        
        // While loop
        start = System.nanoTime();
        long sum3 = 0;
        int i = 0;
        while (i < arr.length) {
            sum3 += arr[i];
            i++;
        }
        long time3 = System.nanoTime() - start;
        
        System.out.println("Traditional for: " + time1 + " ns");
        System.out.println("Enhanced for: " + time2 + " ns");
        System.out.println("While loop: " + time3 + " ns");
    }
}
```

---

## üíª Example 9: Practical Loop Problems

```java
import java.util.Scanner;

public class PracticalLoopProblems {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // Problem 1: Check if number is prime
        System.out.print("Enter a number: ");
        int num = scanner.nextInt();
        boolean isPrime = num > 1;
        
        for (int i = 2; i <= Math.sqrt(num); i++) {
            if (num % i == 0) {
                isPrime = false;
                break;
            }
        }
        System.out.println(num + " is " + (isPrime ? "prime" : "not prime"));
        
        // Problem 2: Print all divisors
        System.out.print("\nDivisors of " + num + ": ");
        for (int i = 1; i <= num; i++) {
            if (num % i == 0) {
                System.out.print(i + " ");
            }
        }
        
        // Problem 3: GCD (Greatest Common Divisor)
        System.out.print("\n\nEnter two numbers for GCD: ");
        int a = scanner.nextInt();
        int b = scanner.nextInt();
        
        while (b != 0) {
            int temp = b;
            b = a % b;
            a = temp;
        }
        System.out.println("GCD: " + a);
        
        // Problem 4: Armstrong number
        System.out.print("\nEnter a number for Armstrong check: ");
        int number = scanner.nextInt();
        int original = number;
        int sum = 0;
        int digits = String.valueOf(number).length();
        
        while (number > 0) {
            int digit = number % 10;
            sum += Math.pow(digit, digits);
            number /= 10;
        }
        
        System.out.println(original + " is " + 
                          (sum == original ? "an Armstrong number" : "not an Armstrong number"));
        
        scanner.close();
    }
}
```

---

## üìä Loop Comparison

| Loop Type | When to Use | Initialization | Condition Check | Can Skip First Iteration |
|-----------|-------------|----------------|-----------------|--------------------------|
| `for` | Known iterations | Before loop | Before each iteration | Yes |
| `while` | Condition-based | Before loop | Before each iteration | Yes |
| `do-while` | At least once | Before loop | After each iteration | No |
| `for-each` | Iterate collections | Automatic | Automatic | Yes (if empty) |

---

## üí° Best Practices

1. ‚úÖ Use `for` loop when iterations are known
2. ‚úÖ Use `while` loop for condition-based iteration
3. ‚úÖ Use `do-while` when code must execute at least once
4. ‚úÖ Use `for-each` for simple iteration (no index needed)
5. ‚úÖ Avoid modifying loop counter inside loop body
6. ‚úÖ Use meaningful variable names (not just `i`, `j`, `k`)
7. ‚úÖ Avoid infinite loops (always have exit condition)
8. ‚úÖ Use `break` and `continue` judiciously

---

## ‚ö†Ô∏è Common Pitfalls

```java
public class LoopPitfalls {
    public static void main(String[] args) {
        // 1. Off-by-one error
        for (int i = 1; i <= 10; i++) {  // Use <= for inclusive
            // Code
        }
        
        // 2. Infinite loop
        // int i = 0;
        // while (i < 10) {
        //     System.out.println(i);
        //     // Forgot to increment i!
        // }
        
        // 3. Modifying collection while iterating
        java.util.ArrayList<Integer> list = new java.util.ArrayList<>();
        list.add(1); list.add(2); list.add(3);
        
        // This will throw ConcurrentModificationException
        // for (Integer num : list) {
        //     if (num == 2) {
        //         list.remove(num);
        //     }
        // }
        
        // 4. Using == to compare objects
        String s1 = new String("Hello");
        String s2 = new String("Hello");
        
        // for (int i = 0; i < 5; i++) {
        //     if (s1 == s2) {  // Wrong! Use equals()
        //         System.out.println("Equal");
        //     }
        // }
        
        // 5. Not closing resources
        // Scanner scanner = new Scanner(System.in);
        // while (scanner.hasNext()) {
        //     // Code
        // }
        // // Should call scanner.close()
    }
}
```

---

## üéØ Interview Questions

1. **Difference between `for` and `while` loop?**
2. **Difference between `while` and `do-while`?**
3. **What is an enhanced for loop?**
4. **Can we modify array elements using for-each loop?**
5. **What is an infinite loop? Give an example.**
6. **Difference between `break` and `continue`?**
7. **What is a labeled statement in loops?**
8. **How to exit from nested loops?**
9. **Which loop is faster: `for` or `while`?**
10. **Can we use `for` loop without initialization?**

---

## üìö Next Topics

- [Arrays](07.%20Arrays.md)
- [Methods](08.%20Methods.md)
- [Strings](../../02.%20OOP%20Fundamentals/06.%20Strings.md)
