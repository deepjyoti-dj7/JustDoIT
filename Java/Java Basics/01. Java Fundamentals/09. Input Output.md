# ðŸ”„ Input Output

## ðŸ“– Overview

Java provides various ways to read input from the user and write output to the console, files, or other destinations.

---

## ðŸ’» Example 1: Scanner Class - Basic Input

```java
import java.util.Scanner;

public class ScannerBasicsDemo {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // Reading different data types
        System.out.print("Enter your name: ");
        String name = scanner.nextLine();
        
        System.out.print("Enter your age: ");
        int age = scanner.nextInt();
        
        System.out.print("Enter your height (in meters): ");
        double height = scanner.nextDouble();
        
        System.out.print("Are you a student? (true/false): ");
        boolean isStudent = scanner.nextBoolean();
        
        System.out.print("Enter first character of your name: ");
        char initial = scanner.next().charAt(0);
        
        // Display output
        System.out.println("\n--- Your Information ---");
        System.out.println("Name: " + name);
        System.out.println("Age: " + age);
        System.out.println("Height: " + height + " meters");
        System.out.println("Student: " + isStudent);
        System.out.println("Initial: " + initial);
        
        scanner.close();  // Always close the scanner
    }
}
```

**Sample Run:**
```
Enter your name: Alice Johnson
Enter your age: 25
Enter your height (in meters): 1.65
Are you a student? (true/false): false
Enter first character of your name: A

--- Your Information ---
Name: Alice Johnson
Age: 25
Height: 1.65 meters
Student: false
Initial: A
```

---

## ðŸ’» Example 2: Scanner Methods

```java
import java.util.Scanner;

public class ScannerMethodsDemo {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // next() vs nextLine()
        System.out.println("=== next() vs nextLine() ===");
        System.out.print("Enter first word: ");
        String word = scanner.next();  // Reads until space
        System.out.println("You entered: " + word);
        
        scanner.nextLine();  // Consume remaining newline
        
        System.out.print("Enter full sentence: ");
        String sentence = scanner.nextLine();  // Reads entire line
        System.out.println("You entered: " + sentence);
        
        // hasNext() methods
        System.out.println("\n=== hasNext() methods ===");
        System.out.print("Enter an integer: ");
        if (scanner.hasNextInt()) {
            int num = scanner.nextInt();
            System.out.println("Integer: " + num);
        } else {
            System.out.println("Not an integer!");
            scanner.next();  // Clear invalid input
        }
        
        System.out.print("Enter a decimal: ");
        if (scanner.hasNextDouble()) {
            double decimal = scanner.nextDouble();
            System.out.println("Decimal: " + decimal);
        } else {
            System.out.println("Not a decimal!");
            scanner.next();
        }
        
        // Using delimiter
        scanner.nextLine();  // Consume newline
        System.out.println("\n=== Custom Delimiter ===");
        System.out.print("Enter comma-separated values: ");
        Scanner csvScanner = new Scanner(scanner.nextLine());
        csvScanner.useDelimiter(",");
        
        while (csvScanner.hasNext()) {
            System.out.println("Value: " + csvScanner.next().trim());
        }
        
        csvScanner.close();
        scanner.close();
    }
}
```

---

## ðŸ’» Example 3: Console Input (System.console)

```java
import java.io.Console;

public class ConsoleInputDemo {
    public static void main(String[] args) {
        Console console = System.console();
        
        if (console == null) {
            System.out.println("Console not available. Run from terminal.");
            return;
        }
        
        // Read string
        String name = console.readLine("Enter your name: ");
        
        // Read password (hidden input)
        char[] password = console.readPassword("Enter password: ");
        
        // Display
        System.out.println("\nName: " + name);
        System.out.println("Password length: " + password.length);
        
        // Clear password from memory (security best practice)
        java.util.Arrays.fill(password, ' ');
    }
}
```

**Note:** `System.console()` may return `null` when running from IDE. Run from command line.

---

## ðŸ’» Example 4: BufferedReader

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class BufferedReaderDemo {
    public static void main(String[] args) throws IOException {
        BufferedReader reader = new BufferedReader(
            new InputStreamReader(System.in)
        );
        
        // Reading string
        System.out.print("Enter your name: ");
        String name = reader.readLine();
        
        // Reading integer (need to parse)
        System.out.print("Enter your age: ");
        int age = Integer.parseInt(reader.readLine());
        
        // Reading double
        System.out.print("Enter your salary: ");
        double salary = Double.parseDouble(reader.readLine());
        
        // Display
        System.out.println("\n--- Information ---");
        System.out.println("Name: " + name);
        System.out.println("Age: " + age);
        System.out.println("Salary: $" + salary);
        
        reader.close();
    }
}
```

---

## ðŸ’» Example 5: Output Formatting

```java
public class OutputFormattingDemo {
    public static void main(String[] args) {
        String name = "Alice";
        int age = 25;
        double salary = 75000.50;
        
        // 1. println() - with newline
        System.out.println("Basic output:");
        System.out.println("Name: " + name);
        System.out.println("Age: " + age);
        
        // 2. print() - without newline
        System.out.print("Name: ");
        System.out.print(name);
        System.out.print("\n");
        
        // 3. printf() - formatted output
        System.out.println("\n=== printf() ===");
        System.out.printf("Name: %s, Age: %d, Salary: $%.2f%n", name, age, salary);
        
        // 4. format() - same as printf()
        System.out.format("Name: %s, Age: %d%n", name, age);
        
        // Format specifiers
        System.out.println("\n=== Format Specifiers ===");
        System.out.printf("String: %s%n", "Hello");
        System.out.printf("Integer: %d%n", 100);
        System.out.printf("Float: %.2f%n", 3.14159);
        System.out.printf("Character: %c%n", 'A');
        System.out.printf("Boolean: %b%n", true);
        System.out.printf("Hexadecimal: %x%n", 255);
        System.out.printf("Octal: %o%n", 8);
        System.out.printf("Scientific: %e%n", 1000000.0);
        
        // Width and precision
        System.out.println("\n=== Width & Precision ===");
        System.out.printf("|%10s|%n", "Right");      // Right-aligned, width 10
        System.out.printf("|%-10s|%n", "Left");      // Left-aligned, width 10
        System.out.printf("|%010d|%n", 42);          // Zero-padded
        System.out.printf("|%.2f|%n", 3.14159);      // 2 decimal places
        
        // Table formatting
        System.out.println("\n=== Table Format ===");
        System.out.printf("%-15s %-5s %-10s%n", "Name", "Age", "Salary");
        System.out.printf("%-15s %-5d $%-10.2f%n", "Alice", 25, 75000.50);
        System.out.printf("%-15s %-5d $%-10.2f%n", "Bob", 30, 85000.75);
        System.out.printf("%-15s %-5d $%-10.2f%n", "Charlie", 28, 65000.00);
    }
}
```

---

## ðŸ’» Example 6: Command Line Arguments

```java
public class CommandLineArgsDemo {
    public static void main(String[] args) {
        System.out.println("Number of arguments: " + args.length);
        
        if (args.length == 0) {
            System.out.println("No arguments provided.");
            System.out.println("Usage: java CommandLineArgsDemo <arg1> <arg2> ...");
            return;
        }
        
        // Display all arguments
        System.out.println("\nArguments:");
        for (int i = 0; i < args.length; i++) {
            System.out.println("args[" + i + "]: " + args[i]);
        }
        
        // Parse arguments
        if (args.length >= 2) {
            try {
                String name = args[0];
                int age = Integer.parseInt(args[1]);
                
                System.out.println("\nParsed Information:");
                System.out.println("Name: " + name);
                System.out.println("Age: " + age);
            } catch (NumberFormatException e) {
                System.out.println("Error: Second argument must be a number");
            }
        }
    }
}
```

**Run from terminal:**
```bash
javac CommandLineArgsDemo.java
java CommandLineArgsDemo Alice 25
```

**Output:**
```
Number of arguments: 2

Arguments:
args[0]: Alice
args[1]: 25

Parsed Information:
Name: Alice
Age: 25
```

---

## ðŸ’» Example 7: Reading from File

```java
import java.io.*;
import java.util.Scanner;

public class FileInputDemo {
    public static void main(String[] args) {
        // Method 1: Using Scanner
        System.out.println("=== Method 1: Scanner ===");
        try (Scanner fileScanner = new Scanner(new File("input.txt"))) {
            while (fileScanner.hasNextLine()) {
                String line = fileScanner.nextLine();
                System.out.println(line);
            }
        } catch (FileNotFoundException e) {
            System.out.println("File not found: " + e.getMessage());
        }
        
        // Method 2: Using BufferedReader
        System.out.println("\n=== Method 2: BufferedReader ===");
        try (BufferedReader reader = new BufferedReader(new FileReader("input.txt"))) {
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
        } catch (IOException e) {
            System.out.println("Error reading file: " + e.getMessage());
        }
        
        // Method 3: Using Files.readAllLines() (Java 7+)
        System.out.println("\n=== Method 3: Files.readAllLines ===");
        try {
            java.nio.file.Path path = java.nio.file.Paths.get("input.txt");
            java.util.List<String> lines = java.nio.file.Files.readAllLines(path);
            lines.forEach(System.out::println);
        } catch (IOException e) {
            System.out.println("Error reading file: " + e.getMessage());
        }
    }
}
```

---

## ðŸ’» Example 8: Writing to File

```java
import java.io.*;

public class FileOutputDemo {
    public static void main(String[] args) {
        // Method 1: Using PrintWriter
        System.out.println("=== Method 1: PrintWriter ===");
        try (PrintWriter writer = new PrintWriter("output1.txt")) {
            writer.println("Hello, World!");
            writer.println("This is a test.");
            writer.printf("Number: %d, Float: %.2f%n", 100, 3.14);
            System.out.println("Written to output1.txt");
        } catch (FileNotFoundException e) {
            System.out.println("Error: " + e.getMessage());
        }
        
        // Method 2: Using BufferedWriter
        System.out.println("\n=== Method 2: BufferedWriter ===");
        try (BufferedWriter writer = new BufferedWriter(new FileWriter("output2.txt"))) {
            writer.write("First line");
            writer.newLine();
            writer.write("Second line");
            writer.newLine();
            System.out.println("Written to output2.txt");
        } catch (IOException e) {
            System.out.println("Error: " + e.getMessage());
        }
        
        // Method 3: Using Files.write() (Java 7+)
        System.out.println("\n=== Method 3: Files.write ===");
        try {
            java.nio.file.Path path = java.nio.file.Paths.get("output3.txt");
            java.util.List<String> lines = java.util.Arrays.asList(
                "Line 1",
                "Line 2",
                "Line 3"
            );
            java.nio.file.Files.write(path, lines);
            System.out.println("Written to output3.txt");
        } catch (IOException e) {
            System.out.println("Error: " + e.getMessage());
        }
        
        // Append to file
        System.out.println("\n=== Append Mode ===");
        try (FileWriter writer = new FileWriter("output2.txt", true)) {
            writer.write("\nAppended line");
            System.out.println("Appended to output2.txt");
        } catch (IOException e) {
            System.out.println("Error: " + e.getMessage());
        }
    }
}
```

---

## ðŸ’» Example 9: Practical I/O Examples

```java
import java.util.Scanner;
import java.io.*;

public class PracticalIODemo {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // Example 1: Calculator
        System.out.println("=== Simple Calculator ===");
        System.out.print("Enter first number: ");
        double num1 = scanner.nextDouble();
        
        System.out.print("Enter operator (+, -, *, /): ");
        char operator = scanner.next().charAt(0);
        
        System.out.print("Enter second number: ");
        double num2 = scanner.nextDouble();
        
        double result = 0;
        boolean validOperation = true;
        
        switch (operator) {
            case '+' -> result = num1 + num2;
            case '-' -> result = num1 - num2;
            case '*' -> result = num1 * num2;
            case '/' -> {
                if (num2 != 0) {
                    result = num1 / num2;
                } else {
                    System.out.println("Error: Division by zero");
                    validOperation = false;
                }
            }
            default -> {
                System.out.println("Invalid operator");
                validOperation = false;
            }
        }
        
        if (validOperation) {
            System.out.printf("Result: %.2f %c %.2f = %.2f%n", 
                             num1, operator, num2, result);
        }
        
        // Example 2: Input validation
        System.out.println("\n=== Input Validation ===");
        int age = 0;
        boolean validInput = false;
        
        while (!validInput) {
            System.out.print("Enter your age (1-150): ");
            if (scanner.hasNextInt()) {
                age = scanner.nextInt();
                if (age >= 1 && age <= 150) {
                    validInput = true;
                    System.out.println("Valid age: " + age);
                } else {
                    System.out.println("Age must be between 1 and 150");
                }
            } else {
                System.out.println("Please enter a valid number");
                scanner.next();  // Clear invalid input
            }
        }
        
        // Example 3: Read and write student data
        System.out.println("\n=== Student Data ===");
        scanner.nextLine();  // Consume newline
        
        System.out.print("Enter student name: ");
        String name = scanner.nextLine();
        
        System.out.print("Enter number of subjects: ");
        int subjects = scanner.nextInt();
        
        int[] marks = new int[subjects];
        int total = 0;
        
        for (int i = 0; i < subjects; i++) {
            System.out.print("Enter marks for subject " + (i + 1) + ": ");
            marks[i] = scanner.nextInt();
            total += marks[i];
        }
        
        double average = (double) total / subjects;
        
        // Save to file
        try (PrintWriter writer = new PrintWriter("student_report.txt")) {
            writer.println("Student Report");
            writer.println("==============");
            writer.println("Name: " + name);
            writer.println("Subjects: " + subjects);
            writer.println("\nMarks:");
            for (int i = 0; i < marks.length; i++) {
                writer.println("Subject " + (i + 1) + ": " + marks[i]);
            }
            writer.println("\nTotal: " + total);
            writer.printf("Average: %.2f%n", average);
            
            System.out.println("\nReport saved to student_report.txt");
        } catch (FileNotFoundException e) {
            System.out.println("Error saving report: " + e.getMessage());
        }
        
        scanner.close();
    }
}
```

---

## ðŸ’» Example 10: Error Handling in I/O

```java
import java.util.Scanner;
import java.util.InputMismatchException;

public class IOErrorHandlingDemo {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // Handle InputMismatchException
        System.out.println("=== Safe Integer Input ===");
        int number = getIntegerInput(scanner, "Enter an integer: ");
        System.out.println("You entered: " + number);
        
        // Handle multiple input errors
        System.out.println("\n=== Multiple Attempts ===");
        int validNumber = getValidInteger(scanner, 1, 100, 3);
        if (validNumber != -1) {
            System.out.println("Valid number: " + validNumber);
        } else {
            System.out.println("Maximum attempts reached");
        }
        
        scanner.close();
    }
    
    // Safe integer input with error handling
    public static int getIntegerInput(Scanner scanner, String prompt) {
        while (true) {
            System.out.print(prompt);
            try {
                return scanner.nextInt();
            } catch (InputMismatchException e) {
                System.out.println("Invalid input. Please enter an integer.");
                scanner.next();  // Clear invalid input
            }
        }
    }
    
    // Get valid integer within range with limited attempts
    public static int getValidInteger(Scanner scanner, int min, int max, int maxAttempts) {
        int attempts = 0;
        
        while (attempts < maxAttempts) {
            System.out.printf("Enter a number between %d and %d (Attempt %d/%d): ", 
                            min, max, attempts + 1, maxAttempts);
            
            try {
                int num = scanner.nextInt();
                if (num >= min && num <= max) {
                    return num;
                } else {
                    System.out.printf("Number must be between %d and %d%n", min, max);
                }
            } catch (InputMismatchException e) {
                System.out.println("Invalid input. Please enter an integer.");
                scanner.next();  // Clear invalid input
            }
            
            attempts++;
        }
        
        return -1;  // Indicate failure
    }
}
```

---

## ðŸ“Š Input Methods Comparison

| Method | Class | Use Case | Buffered | Thread-Safe |
|--------|-------|----------|----------|-------------|
| `Scanner` | Scanner | General purpose input | Yes | No |
| `BufferedReader` | BufferedReader | Fast reading, large files | Yes | No |
| `Console` | Console | Interactive, password input | Yes | Yes |
| `System.in` | InputStream | Low-level byte reading | No | Yes |

---

## ðŸ“Š Output Methods Comparison

| Method | Description | Formatted | Newline |
|--------|-------------|-----------|---------|
| `print()` | Print without newline | No | No |
| `println()` | Print with newline | No | Yes |
| `printf()` | Print formatted | Yes | No (use %n) |
| `format()` | Same as printf | Yes | No (use %n) |

---

## ðŸ’¡ Best Practices

1. âœ… Always close Scanner/Reader/Writer (use try-with-resources)
2. âœ… Use `nextLine()` after `nextInt()` to consume newline
3. âœ… Validate input before using it
4. âœ… Handle exceptions (InputMismatchException, IOException)
5. âœ… Use BufferedReader for large files
6. âœ… Use printf() for formatted output
7. âœ… Clear invalid input with `scanner.next()`
8. âœ… Use appropriate input method for the task

---

## âš ï¸ Common Pitfalls

```java
import java.util.Scanner;

public class IOPitfalls {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // Pitfall 1: Not consuming newline after nextInt()
        System.out.print("Enter a number: ");
        int num = scanner.nextInt();
        // scanner.nextLine();  // MUST consume newline!
        
        System.out.print("Enter your name: ");
        String name = scanner.nextLine();  // Will be skipped!
        System.out.println("Name: " + name);  // Empty string
        
        // Pitfall 2: Not handling InputMismatchException
        System.out.print("Enter age: ");
        // int age = scanner.nextInt();  // Crashes if non-integer input!
        
        // Better:
        int age = 0;
        if (scanner.hasNextInt()) {
            age = scanner.nextInt();
        } else {
            System.out.println("Invalid input");
            scanner.next();  // Clear invalid input
        }
        
        // Pitfall 3: Not closing Scanner
        // scanner.close();  // Always close!
        
        // Pitfall 4: Using == for String comparison
        String input = scanner.next();
        // if (input == "yes") { }  // Wrong!
        if (input.equals("yes")) { }  // Correct
        
        scanner.close();
    }
}
```

---

## ðŸŽ¯ Interview Questions

1. **What are different ways to read input in Java?**
2. **Difference between Scanner and BufferedReader?**
3. **What is the purpose of System.in and System.out?**
4. **How to read password securely in Java?**
5. **What is InputMismatchException?**
6. **Difference between print() and println()?**
7. **How to format output in Java?**
8. **What are command line arguments?**
9. **How to read from a file in Java?**
10. **What is try-with-resources?**
11. **Why do we need to close Scanner?**
12. **Difference between next() and nextLine()?**
13. **How to handle invalid input?**
14. **What is printf() and how is it different from println()?**
15. **How to append data to an existing file?**

---

## ðŸ“š Next Topics

- [Classes & Objects](../../02.%20Object-Oriented%20Programming/01.%20Classes%20%26%20Objects.md)
- [File I/O & NIO](../../08.%20File%20IO%20%26%20NIO/01.%20File%20Class.md)
- [Exception Handling](../../04.%20Exception%20Handling/01.%20Exception%20Basics.md)
