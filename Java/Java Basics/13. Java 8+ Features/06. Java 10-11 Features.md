# üöÄ Java 10-11 Features

## üìñ Overview

**Java 10 & 11** introduced local variable type inference, new String methods, HTTP Client API, and other enhancements.

---

## üíª Local Variable Type Inference (var)

```java
import java.util.*;

public class VarDemo {
    public static void main(String[] args) {
        // var - type inferred from right side
        var message = "Hello, World";  // String
        var number = 42;                // int
        var pi = 3.14;                  // double
        var flag = true;                // boolean
        
        // Collections
        var list = List.of("Java", "Python", "JavaScript");
        var map = Map.of("name", "Alice", "age", "25");
        
        // Complex types
        var stream = list.stream();
        var result = stream.filter(s -> s.startsWith("J")).toList();
        
        System.out.println(message);
        System.out.println(list);
        System.out.println(result);
        
        // In loops
        for (var item : list) {
            System.out.println(item);
        }
        
        // Lambda with var (Java 11+)
        list.forEach((var item) -> System.out.println(item));
    }
}
```

**Restrictions:**
```java
// ‚ùå Cannot use without initializer
// var x;

// ‚ùå Cannot use with null
// var x = null;

// ‚ùå Cannot use for fields
// class Example {
//     var field = "value";  // Not allowed
// }

// ‚ùå Cannot use for method parameters/return types
// var method(var param) { }  // Not allowed

// ‚úÖ Must have initializer
var name = "Alice";

// ‚úÖ Can be used in try-with-resources
try (var reader = new BufferedReader(new FileReader("file.txt"))) {
    // Use reader
}
```

---

## üíª String Methods (Java 11)

```java
public class StringMethodsDemo {
    public static void main(String[] args) {
        String text = "  Hello World  ";
        
        // isBlank - true if empty or only whitespace
        System.out.println("".isBlank());        // true
        System.out.println("   ".isBlank());     // true
        System.out.println("abc".isBlank());     // false
        
        // strip, stripLeading, stripTrailing - Unicode-aware
        System.out.println("'" + text.strip() + "'");          // 'Hello World'
        System.out.println("'" + text.stripLeading() + "'");   // 'Hello World  '
        System.out.println("'" + text.stripTrailing() + "'");  // '  Hello World'
        
        // lines - stream of lines
        String multiline = "Line 1\nLine 2\nLine 3";
        multiline.lines().forEach(System.out::println);
        
        // repeat - repeat string n times
        System.out.println("Java ".repeat(3));  // Java Java Java 
        
        // Example: processing text
        var result = """
            Hello
            World
            Java
            """.lines()
              .map(String::strip)
              .filter(s -> !s.isBlank())
              .collect(Collectors.toList());
        System.out.println(result);
    }
}
```

---

## üíª HTTP Client API (Java 11)

```java
import java.net.URI;
import java.net.http.*;
import java.time.Duration;

public class HttpClientDemo {
    public static void main(String[] args) throws Exception {
        // Create HTTP client
        HttpClient client = HttpClient.newBuilder()
            .version(HttpClient.Version.HTTP_2)
            .connectTimeout(Duration.ofSeconds(10))
            .build();
        
        // Synchronous GET request
        HttpRequest request = HttpRequest.newBuilder()
            .uri(URI.create("https://api.github.com/users/octocat"))
            .GET()
            .build();
        
        HttpResponse<String> response = client.send(request,
            HttpResponse.BodyHandlers.ofString());
        
        System.out.println("Status: " + response.statusCode());
        System.out.println("Body: " + response.body());
        
        // Asynchronous GET request
        client.sendAsync(request, HttpResponse.BodyHandlers.ofString())
            .thenApply(HttpResponse::body)
            .thenAccept(System.out::println)
            .join();
        
        // POST request
        HttpRequest postRequest = HttpRequest.newBuilder()
            .uri(URI.create("https://httpbin.org/post"))
            .header("Content-Type", "application/json")
            .POST(HttpRequest.BodyPublishers.ofString("{\"name\":\"Alice\"}"))
            .build();
        
        HttpResponse<String> postResponse = client.send(postRequest,
            HttpResponse.BodyHandlers.ofString());
        
        System.out.println("POST Status: " + postResponse.statusCode());
    }
}
```

---

## üíª Collection.toArray Enhancement (Java 11)

```java
import java.util.*;

public class ToArrayDemo {
    public static void main(String[] args) {
        List<String> list = List.of("Java", "Python", "JavaScript");
        
        // Java 10 and earlier
        String[] array1 = list.toArray(new String[list.size()]);
        
        // Java 11 - simplified
        String[] array2 = list.toArray(String[]::new);
        
        System.out.println(Arrays.toString(array2));
    }
}
```

---

## üíª Files Methods (Java 11)

```java
import java.nio.file.*;

public class FilesDemo {
    public static void main(String[] args) throws Exception {
        Path path = Path.of("example.txt");
        
        // writeString - write string to file
        Files.writeString(path, "Hello, World!");
        
        // readString - read entire file as string
        String content = Files.readString(path);
        System.out.println("Content: " + content);
        
        // Example with multiple lines
        String multiline = """
            Line 1
            Line 2
            Line 3
            """;
        Files.writeString(path, multiline);
        
        String read = Files.readString(path);
        System.out.println(read);
    }
}
```

---

## üíª Optional.isEmpty (Java 11)

```java
import java.util.*;

public class OptionalIsEmptyDemo {
    public static void main(String[] args) {
        Optional<String> optional1 = Optional.of("Hello");
        Optional<String> optional2 = Optional.empty();
        
        // Java 8-10
        System.out.println("Is present: " + optional1.isPresent());
        System.out.println("Is present: " + optional2.isPresent());
        
        // Java 11 - isEmpty (more readable for checking empty)
        System.out.println("Is empty: " + optional1.isEmpty());
        System.out.println("Is empty: " + optional2.isEmpty());
        
        // Usage
        if (optional2.isEmpty()) {
            System.out.println("Optional is empty");
        }
    }
}
```

---

## üíª Predicate.not (Java 11)

```java
import java.util.*;
import java.util.function.Predicate;
import java.util.stream.Collectors;

public class PredicateNotDemo {
    public static void main(String[] args) {
        List<String> list = List.of("Java", "", "Python", "  ", "JavaScript");
        
        // Java 8-10
        List<String> result1 = list.stream()
            .filter(s -> !s.isBlank())
            .collect(Collectors.toList());
        
        // Java 11 - more readable with Predicate.not
        List<String> result2 = list.stream()
            .filter(Predicate.not(String::isBlank))
            .collect(Collectors.toList());
        
        System.out.println(result2);
    }
}
```

---

## üíª Running Java Files Directly (Java 11)

```bash
# Java 10 and earlier
javac HelloWorld.java
java HelloWorld

# Java 11 - run directly without compiling
java HelloWorld.java
```

**HelloWorld.java:**
```java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
```

---

## üìä Java 10 Features

| Feature | Description |
|---------|-------------|
| **var** | Local variable type inference |
| **Unmodifiable Collections** | copyOf methods |
| **Optional.orElseThrow()** | No-arg version |
| **Performance** | GC improvements |

---

## üìä Java 11 Features

| Feature | Description |
|---------|-------------|
| **String Methods** | isBlank, strip, lines, repeat |
| **HTTP Client** | Standard HTTP/2 client |
| **Files Methods** | readString, writeString |
| **Optional.isEmpty** | Clearer empty check |
| **Predicate.not** | Negation helper |
| **Run .java files** | Direct execution |
| **Lambda var** | var in lambda parameters |

---

## ‚ö° Best Practices

| Practice | Description |
|----------|-------------|
| ‚úÖ Use var judiciously | When type is obvious |
| ‚úÖ Use new String methods | More readable code |
| ‚úÖ HTTP Client for APIs | Modern HTTP communication |
| ‚úÖ Predicate.not | Cleaner negation |
| ‚úÖ Optional.isEmpty | More readable than !isPresent() |
| ‚ùå Don't overuse var | Can reduce readability |
| ‚ùå Don't use var for null | Type cannot be inferred |

---

## üí° Key Takeaways

- var enables local variable type inference
- var requires initializer and cannot be null
- New String methods: isBlank, strip, lines, repeat
- HTTP Client API standardized in Java 11
- Files.readString/writeString for simple file I/O
- Optional.isEmpty for clearer empty checks
- Predicate.not for readable negation
- Run .java files directly without javac
- Lambda parameters can use var
- Collection.toArray simplified with method reference
