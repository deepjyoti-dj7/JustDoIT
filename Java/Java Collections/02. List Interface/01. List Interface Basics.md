# üìã List Interface Basics

## üìñ Overview

The **List** interface is part of the Java Collections Framework and represents an ordered collection (sequence). Lists allow:
- **Ordered elements**: Elements maintain insertion order
- **Index-based access**: Access elements by position (0-based)
- **Duplicate elements**: Same elements can appear multiple times
- **Null elements**: Can contain null values

List extends the Collection interface and is implemented by ArrayList, LinkedList, Vector, and Stack.

---

## üéØ List Interface Hierarchy

```
        Iterable<E>
             ‚Üì
        Collection<E>
             ‚Üì
          List<E>
             ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚Üì        ‚Üì        ‚Üì
ArrayList LinkedList Vector
                      ‚Üì
                    Stack
```

---

## üíª Example 1: Basic List Operations

```java
import java.util.*;

public class ListBasicsDemo {
    public static void main(String[] args) {
        // Create a List
        List<String> fruits = new ArrayList<>();
        
        // 1. Add elements
        fruits.add("Apple");
        fruits.add("Banana");
        fruits.add("Cherry");
        fruits.add("Date");
        System.out.println("List: " + fruits);
        
        // 2. Add at specific index
        fruits.add(1, "Apricot");
        System.out.println("After add at index 1: " + fruits);
        
        // 3. Get element by index
        String first = fruits.get(0);
        String third = fruits.get(2);
        System.out.println("First: " + first + ", Third: " + third);
        
        // 4. Set (replace) element
        fruits.set(2, "Blueberry");
        System.out.println("After set at index 2: " + fruits);
        
        // 5. Remove by index
        String removed = fruits.remove(1);
        System.out.println("Removed: " + removed);
        System.out.println("After removal: " + fruits);
        
        // 6. Remove by object
        fruits.remove("Date");
        System.out.println("After removing 'Date': " + fruits);
        
        // 7. Size
        System.out.println("Size: " + fruits.size());
        
        // 8. Contains
        System.out.println("Contains 'Apple': " + fruits.contains("Apple"));
        
        // 9. IndexOf and lastIndexOf
        fruits.add("Apple");  // Duplicate
        System.out.println("List with duplicate: " + fruits);
        System.out.println("First index of 'Apple': " + fruits.indexOf("Apple"));
        System.out.println("Last index of 'Apple': " + fruits.lastIndexOf("Apple"));
        
        // 10. Clear
        fruits.clear();
        System.out.println("After clear: " + fruits + " (empty: " + fruits.isEmpty() + ")");
    }
}
```

**Output:**
```
List: [Apple, Banana, Cherry, Date]
After add at index 1: [Apple, Apricot, Banana, Cherry, Date]
First: Apple, Third: Banana
After set at index 2: [Apple, Apricot, Blueberry, Cherry, Date]
Removed: Apricot
After removal: [Apple, Blueberry, Cherry, Date]
After removing 'Date': [Apple, Blueberry, Cherry]
Size: 3
Contains 'Apple': true
List with duplicate: [Apple, Blueberry, Cherry, Apple]
First index of 'Apple': 0
Last index of 'Apple': 3
After clear: [] (empty: true)
```

---

## üíª Example 2: List Characteristics

```java
import java.util.*;

public class ListCharacteristicsDemo {
    public static void main(String[] args) {
        System.out.println("=== 1. Ordered Collection ===");
        List<Integer> numbers = new ArrayList<>();
        numbers.add(5);
        numbers.add(2);
        numbers.add(8);
        numbers.add(1);
        System.out.println("Order maintained: " + numbers);  // [5, 2, 8, 1]
        
        System.out.println("\n=== 2. Allows Duplicates ===");
        List<String> words = new ArrayList<>();
        words.add("Java");
        words.add("Python");
        words.add("Java");  // Duplicate allowed
        words.add("Python");  // Duplicate allowed
        System.out.println("With duplicates: " + words);
        
        System.out.println("\n=== 3. Index-Based Access ===");
        System.out.println("Element at index 0: " + words.get(0));
        System.out.println("Element at index 2: " + words.get(2));
        
        System.out.println("\n=== 4. Null Elements Allowed ===");
        List<String> listWithNull = new ArrayList<>();
        listWithNull.add("A");
        listWithNull.add(null);
        listWithNull.add("B");
        listWithNull.add(null);
        System.out.println("List with nulls: " + listWithNull);
        
        System.out.println("\n=== 5. Positional Access ===");
        List<String> colors = new ArrayList<>(Arrays.asList("Red", "Green", "Blue"));
        colors.add(1, "Yellow");  // Insert at position 1
        System.out.println("After insertion: " + colors);
        colors.set(2, "Orange");  // Replace at position 2
        System.out.println("After replacement: " + colors);
    }
}
```

---

## üíª Example 3: List Interface Methods

```java
import java.util.*;

public class ListMethodsDemo {
    public static void main(String[] args) {
        List<String> list = new ArrayList<>(Arrays.asList("A", "B", "C", "D", "E"));
        
        // 1. add(E e) - Add to end
        list.add("F");
        System.out.println("After add: " + list);
        
        // 2. add(int index, E element) - Add at position
        list.add(2, "X");
        System.out.println("After add at index 2: " + list);
        
        // 3. get(int index) - Retrieve element
        System.out.println("Element at index 3: " + list.get(3));
        
        // 4. set(int index, E element) - Replace element
        list.set(2, "Y");
        System.out.println("After set at index 2: " + list);
        
        // 5. remove(int index) - Remove by position
        String removed = list.remove(2);
        System.out.println("Removed element: " + removed);
        System.out.println("After remove: " + list);
        
        // 6. remove(Object o) - Remove by value (first occurrence)
        list.add("B");  // Add duplicate
        list.remove("B");  // Removes first occurrence
        System.out.println("After removing 'B': " + list);
        
        // 7. indexOf(Object o) - First occurrence index
        System.out.println("Index of 'C': " + list.indexOf("C"));
        
        // 8. lastIndexOf(Object o) - Last occurrence index
        list.add("D");  // Add duplicate
        System.out.println("Last index of 'D': " + list.lastIndexOf("D"));
        
        // 9. subList(int fromIndex, int toIndex) - View of portion
        List<String> subList = list.subList(1, 4);
        System.out.println("SubList [1, 4): " + subList);
        
        // 10. listIterator() - Bidirectional iterator
        ListIterator<String> iterator = list.listIterator();
        System.out.print("Forward iteration: ");
        while (iterator.hasNext()) {
            System.out.print(iterator.next() + " ");
        }
        
        System.out.print("\nBackward iteration: ");
        while (iterator.hasPrevious()) {
            System.out.print(iterator.previous() + " ");
        }
        System.out.println();
    }
}
```

---

## üíª Example 4: Bulk Operations

```java
import java.util.*;

public class BulkOperationsDemo {
    public static void main(String[] args) {
        List<Integer> list1 = new ArrayList<>(Arrays.asList(1, 2, 3, 4, 5));
        List<Integer> list2 = new ArrayList<>(Arrays.asList(4, 5, 6, 7, 8));
        
        System.out.println("List1: " + list1);
        System.out.println("List2: " + list2);
        
        // 1. addAll() - Add all elements
        List<Integer> combined = new ArrayList<>(list1);
        combined.addAll(list2);
        System.out.println("\nAfter addAll: " + combined);
        
        // 2. addAll(int index, Collection c) - Add at position
        List<Integer> list3 = new ArrayList<>(Arrays.asList(1, 2, 3));
        list3.addAll(1, Arrays.asList(10, 20, 30));
        System.out.println("After addAll at index 1: " + list3);
        
        // 3. removeAll() - Remove all matching elements
        List<Integer> list4 = new ArrayList<>(Arrays.asList(1, 2, 3, 4, 5, 6));
        list4.removeAll(Arrays.asList(2, 4, 6));
        System.out.println("\nAfter removeAll: " + list4);
        
        // 4. retainAll() - Keep only matching elements (intersection)
        List<Integer> list5 = new ArrayList<>(list1);
        list5.retainAll(list2);
        System.out.println("Intersection: " + list5);
        
        // 5. containsAll() - Check if contains all elements
        System.out.println("\nList1 contains all [1,2,3]: " + 
                          list1.containsAll(Arrays.asList(1, 2, 3)));
        System.out.println("List1 contains all [1,9]: " + 
                          list1.containsAll(Arrays.asList(1, 9)));
        
        // 6. replaceAll() - Transform all elements (Java 8+)
        List<Integer> list6 = new ArrayList<>(Arrays.asList(1, 2, 3, 4, 5));
        list6.replaceAll(n -> n * 2);
        System.out.println("\nAfter replaceAll (multiply by 2): " + list6);
        
        // 7. removeIf() - Remove elements matching predicate (Java 8+)
        List<Integer> list7 = new ArrayList<>(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8));
        list7.removeIf(n -> n % 2 == 0);
        System.out.println("After removeIf (even numbers): " + list7);
    }
}
```

---

## üíª Example 5: Iteration Methods

```java
import java.util.*;

public class IterationMethodsDemo {
    public static void main(String[] args) {
        List<String> languages = new ArrayList<>(
            Arrays.asList("Java", "Python", "JavaScript", "C++", "Ruby")
        );
        
        System.out.println("=== 1. For-each loop ===");
        for (String lang : languages) {
            System.out.print(lang + " ");
        }
        
        System.out.println("\n\n=== 2. Traditional for loop ===");
        for (int i = 0; i < languages.size(); i++) {
            System.out.print(languages.get(i) + " ");
        }
        
        System.out.println("\n\n=== 3. Iterator ===");
        Iterator<String> iterator = languages.iterator();
        while (iterator.hasNext()) {
            System.out.print(iterator.next() + " ");
        }
        
        System.out.println("\n\n=== 4. ListIterator (bidirectional) ===");
        ListIterator<String> listIterator = languages.listIterator();
        System.out.print("Forward: ");
        while (listIterator.hasNext()) {
            System.out.print(listIterator.next() + " ");
        }
        System.out.print("\nBackward: ");
        while (listIterator.hasPrevious()) {
            System.out.print(listIterator.previous() + " ");
        }
        
        System.out.println("\n\n=== 5. forEach with lambda (Java 8+) ===");
        languages.forEach(lang -> System.out.print(lang + " "));
        
        System.out.println("\n\n=== 6. Stream (Java 8+) ===");
        languages.stream().forEach(lang -> System.out.print(lang + " "));
        
        System.out.println("\n\n=== 7. Parallel Stream ===");
        languages.parallelStream().forEach(lang -> System.out.print(lang + " "));
        
        System.out.println("\n\n=== 8. Indexed forEach (Java 9+) ===");
        for (int i = 0; i < languages.size(); i++) {
            System.out.println(i + ": " + languages.get(i));
        }
    }
}
```

---

## üíª Example 6: SubList Operations

```java
import java.util.*;

public class SubListDemo {
    public static void main(String[] args) {
        List<Integer> numbers = new ArrayList<>(Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9));
        
        System.out.println("Original list: " + numbers);
        
        // 1. Create sublist (view, not copy)
        List<Integer> subList = numbers.subList(2, 7);
        System.out.println("SubList [2, 7): " + subList);  // [2, 3, 4, 5, 6]
        
        // 2. Modify sublist affects original
        subList.set(0, 99);
        System.out.println("After modifying subList: " + subList);
        System.out.println("Original list: " + numbers);  // Original changed!
        
        // 3. Modify original affects sublist
        numbers.set(3, 88);
        System.out.println("After modifying original: " + numbers);
        System.out.println("SubList view: " + subList);  // SubList sees change!
        
        // 4. Clear sublist
        numbers = new ArrayList<>(Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9));
        subList = numbers.subList(2, 7);
        subList.clear();
        System.out.println("\nAfter clearing subList: " + numbers);
        
        // 5. Replace range
        numbers = new ArrayList<>(Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9));
        numbers.subList(3, 7).clear();
        numbers.addAll(3, Arrays.asList(30, 40, 50));
        System.out.println("After replacing range: " + numbers);
        
        // 6. Get first/last elements
        numbers = new ArrayList<>(Arrays.asList(10, 20, 30, 40, 50));
        System.out.println("\nFirst 3 elements: " + numbers.subList(0, 3));
        System.out.println("Last 2 elements: " + numbers.subList(numbers.size() - 2, numbers.size()));
        
        // 7. SubList of SubList
        List<Integer> list = new ArrayList<>(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9));
        List<Integer> sub1 = list.subList(2, 8);  // [3, 4, 5, 6, 7, 8]
        List<Integer> sub2 = sub1.subList(1, 4);  // [4, 5, 6]
        System.out.println("\nSubList of SubList: " + sub2);
    }
}
```

---

## üíª Example 7: List Sorting

```java
import java.util.*;

public class ListSortingDemo {
    public static void main(String[] args) {
        // 1. Natural ordering
        List<Integer> numbers = new ArrayList<>(Arrays.asList(5, 2, 8, 1, 9, 3));
        Collections.sort(numbers);
        System.out.println("Sorted (natural): " + numbers);
        
        // 2. Reverse order
        Collections.sort(numbers, Collections.reverseOrder());
        System.out.println("Sorted (reverse): " + numbers);
        
        // 3. List.sort() method (Java 8+)
        numbers = new ArrayList<>(Arrays.asList(5, 2, 8, 1, 9, 3));
        numbers.sort(Comparator.naturalOrder());
        System.out.println("\nUsing list.sort(): " + numbers);
        
        // 4. Custom comparator
        List<String> words = new ArrayList<>(Arrays.asList("apple", "Banana", "cherry", "Date"));
        words.sort(String.CASE_INSENSITIVE_ORDER);
        System.out.println("Case-insensitive sort: " + words);
        
        // 5. Sort by length
        words = new ArrayList<>(Arrays.asList("apple", "kiwi", "banana", "fig"));
        words.sort(Comparator.comparingInt(String::length));
        System.out.println("\nSorted by length: " + words);
        
        // 6. Sort custom objects
        List<Person> people = new ArrayList<>();
        people.add(new Person("Alice", 30));
        people.add(new Person("Bob", 25));
        people.add(new Person("Charlie", 35));
        
        people.sort(Comparator.comparingInt(Person::getAge));
        System.out.println("\nSorted by age: " + people);
        
        people.sort(Comparator.comparing(Person::getName));
        System.out.println("Sorted by name: " + people);
        
        // 7. Multiple criteria
        people.add(new Person("Alice", 25));
        people.sort(Comparator.comparing(Person::getName)
                              .thenComparingInt(Person::getAge));
        System.out.println("Sorted by name then age: " + people);
    }
    
    static class Person {
        String name;
        int age;
        
        Person(String name, int age) {
            this.name = name;
            this.age = age;
        }
        
        String getName() { return name; }
        int getAge() { return age; }
        
        @Override
        public String toString() {
            return name + "(" + age + ")";
        }
    }
}
```

---

## üíª Example 8: List Conversions

```java
import java.util.*;
import java.util.stream.*;

public class ListConversionsDemo {
    public static void main(String[] args) {
        // 1. Array to List
        String[] array = {"A", "B", "C", "D"};
        List<String> list1 = Arrays.asList(array);
        System.out.println("Array to List (Arrays.asList): " + list1);
        
        // Mutable copy
        List<String> list2 = new ArrayList<>(Arrays.asList(array));
        list2.add("E");
        System.out.println("Mutable copy: " + list2);
        
        // 2. List to Array
        List<String> list = new ArrayList<>(Arrays.asList("X", "Y", "Z"));
        String[] arr1 = list.toArray(new String[0]);
        System.out.println("\nList to Array: " + Arrays.toString(arr1));
        
        // 3. Set to List
        Set<Integer> set = new HashSet<>(Arrays.asList(3, 1, 4, 1, 5));
        List<Integer> listFromSet = new ArrayList<>(set);
        System.out.println("\nSet to List: " + listFromSet);
        
        // 4. List to Set
        List<Integer> listWithDups = Arrays.asList(1, 2, 2, 3, 3, 3);
        Set<Integer> setFromList = new HashSet<>(listWithDups);
        System.out.println("List to Set (removes duplicates): " + setFromList);
        
        // 5. String to List
        String str = "Hello";
        List<Character> chars = str.chars()
                                   .mapToObj(c -> (char) c)
                                   .collect(Collectors.toList());
        System.out.println("\nString to List: " + chars);
        
        // 6. List to String
        List<String> words = Arrays.asList("Java", "is", "awesome");
        String joined = String.join(" ", words);
        System.out.println("List to String: " + joined);
        
        // Using Stream
        String joined2 = words.stream().collect(Collectors.joining(", "));
        System.out.println("List to String (with comma): " + joined2);
        
        // 7. Stream to List
        List<Integer> streamList = IntStream.range(1, 6)
                                           .boxed()
                                           .collect(Collectors.toList());
        System.out.println("\nStream to List: " + streamList);
        
        // 8. Immutable List (Java 9+)
        List<String> immutable = List.of("A", "B", "C");
        System.out.println("Immutable List: " + immutable);
        // immutable.add("D");  // UnsupportedOperationException!
    }
}
```

---

## üìä List Interface Methods Summary

| Method | Return Type | Description |
|--------|-------------|-------------|
| **add(E e)** | boolean | Appends element to end |
| **add(int index, E element)** | void | Inserts element at position |
| **get(int index)** | E | Returns element at position |
| **set(int index, E element)** | E | Replaces element at position |
| **remove(int index)** | E | Removes element at position |
| **remove(Object o)** | boolean | Removes first occurrence |
| **indexOf(Object o)** | int | Returns first index of element (-1 if not found) |
| **lastIndexOf(Object o)** | int | Returns last index of element |
| **subList(int from, int to)** | List<E> | Returns view of portion [from, to) |
| **listIterator()** | ListIterator<E> | Returns bidirectional iterator |
| **listIterator(int index)** | ListIterator<E> | Returns iterator starting at position |
| **sort(Comparator<? super E> c)** | void | Sorts list (Java 8+) |
| **replaceAll(UnaryOperator<E> op)** | void | Replaces all elements (Java 8+) |

---

## üìä List Implementations Comparison

| Feature | ArrayList | LinkedList | Vector | Stack |
|---------|-----------|------------|--------|-------|
| **Underlying structure** | Dynamic array | Doubly-linked list | Dynamic array | Dynamic array (LIFO) |
| **Random access** | O(1) | O(n) | O(1) | O(1) |
| **Add at end** | O(1) amortized | O(1) | O(1) | O(1) |
| **Add at beginning** | O(n) | O(1) | O(n) | N/A |
| **Remove** | O(n) | O(1) if node known | O(n) | O(1) for pop |
| **Thread-safe** | No | No | Yes | Yes |
| **Memory** | Contiguous | Non-contiguous | Contiguous | Contiguous |
| **Best for** | Random access | Frequent insert/delete | Legacy code | LIFO operations |

---

## üí° Best Practices

1. ‚úÖ **Program to List interface**
   ```java
   List<String> list = new ArrayList<>();  // Good
   ArrayList<String> list = new ArrayList<>();  // Less flexible
   ```

2. ‚úÖ **Initialize with capacity if known**
   ```java
   List<String> list = new ArrayList<>(1000);  // Avoids resizing
   ```

3. ‚úÖ **Use ArrayList for most cases**
   ```java
   List<String> list = new ArrayList<>();  // Default choice
   ```

4. ‚úÖ **Use ListIterator for bidirectional traversal**
   ```java
   ListIterator<String> it = list.listIterator();
   ```

5. ‚úÖ **Be careful with subList**
   ```java
   List<Integer> sub = list.subList(0, 3);  // It's a view, not a copy!
   ```

6. ‚úÖ **Use immutable lists when possible (Java 9+)**
   ```java
   List<String> immutable = List.of("A", "B", "C");
   ```

---

## ‚ö†Ô∏è Common Pitfalls

```java
import java.util.*;

public class ListPitfalls {
    public static void main(String[] args) {
        // 1. Arrays.asList returns fixed-size list
        List<String> list1 = Arrays.asList("A", "B", "C");
        // list1.add("D");  // UnsupportedOperationException!
        
        // 2. Modifying during iteration
        List<Integer> list2 = new ArrayList<>(Arrays.asList(1, 2, 3, 4));
        // for (Integer n : list2) {
        //     list2.remove(n);  // ConcurrentModificationException!
        // }
        
        // Correct way
        Iterator<Integer> it = list2.iterator();
        while (it.hasNext()) {
            it.next();
            it.remove();  // Safe
        }
        
        // 3. SubList is a view, not a copy
        List<Integer> list3 = new ArrayList<>(Arrays.asList(1, 2, 3, 4, 5));
        List<Integer> sub = list3.subList(1, 4);
        sub.set(0, 99);
        System.out.println("Original: " + list3);  // [1, 99, 3, 4, 5] - changed!
        
        // 4. IndexOutOfBoundsException
        List<String> list4 = new ArrayList<>(Arrays.asList("A", "B", "C"));
        // String x = list4.get(5);  // Exception!
        
        // 5. Comparing lists
        List<Integer> l1 = new ArrayList<>(Arrays.asList(1, 2, 3));
        List<Integer> l2 = new ArrayList<>(Arrays.asList(1, 2, 3));
        System.out.println("\nEquals: " + l1.equals(l2));  // true (content comparison)
        System.out.println("Same object: " + (l1 == l2));  // false (reference comparison)
    }
}
```

---

## üéØ Interview Questions

1. **What is the List interface in Java?**
2. **What are the main implementations of List?**
3. **Difference between List and Set?**
4. **Can List contain duplicate elements?**
5. **Can List contain null elements?**
6. **What is the difference between add() and set()?**
7. **What is the difference between remove(int) and remove(Object)?**
8. **What is indexOf() vs lastIndexOf()?**
9. **What is subList() and how does it work?**
10. **What is ListIterator?**
11. **How to sort a List?**
12. **How to convert Array to List?**
13. **How to make List thread-safe?**
14. **What happens if you modify a list during iteration?**
15. **When to use ArrayList vs LinkedList?**

---

## üìö Next Topics

- [ArrayList](02.%20ArrayList.md)
- [LinkedList](03.%20LinkedList.md)
- [ArrayList vs LinkedList](06.%20ArrayList%20vs%20LinkedList.md)
- [Vector](04.%20Vector.md)
- [CopyOnWriteArrayList](07.%20CopyOnWriteArrayList.md)
