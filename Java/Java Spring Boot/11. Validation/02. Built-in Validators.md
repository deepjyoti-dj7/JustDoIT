# üìö Built-in Validators - Complete Guide

## üìã Table of Contents
- [Introduction](#introduction)
- [Null and Empty Validators](#null-and-empty-validators)
- [Size Validators](#size-validators)
- [Numeric Validators](#numeric-validators)
- [String Validators](#string-validators)
- [Date and Time Validators](#date-and-time-validators)
- [Boolean Validators](#boolean-validators)
- [Advanced Validators](#advanced-validators)
- [Best Practices](#best-practices)
- [Interview Questions](#interview-questions)

---

## üéØ Introduction

**Built-in Validators** are pre-defined validation constraints provided by the Bean Validation specification and Hibernate Validator.

### Validator Categories

```
Jakarta Validation (JSR-380):
‚îú‚îÄ‚îÄ Null/Empty: @NotNull, @NotEmpty, @NotBlank, @Null
‚îú‚îÄ‚îÄ Size: @Size
‚îú‚îÄ‚îÄ Numeric: @Min, @Max, @DecimalMin, @DecimalMax, @Digits
‚îú‚îÄ‚îÄ Numeric (JSR-380): @Positive, @Negative, @PositiveOrZero, @NegativeOrZero
‚îú‚îÄ‚îÄ String: @Pattern, @Email
‚îú‚îÄ‚îÄ Date/Time: @Past, @Future, @PastOrPresent, @FutureOrPresent
‚îî‚îÄ‚îÄ Boolean: @AssertTrue, @AssertFalse

Hibernate Validator Extensions:
‚îú‚îÄ‚îÄ String: @Length, @URL, @ISBN, @CreditCardNumber
‚îú‚îÄ‚îÄ Numeric: @Range
‚îú‚îÄ‚îÄ Email: @Email (enhanced)
‚îî‚îÄ‚îÄ Others: @UniqueElements, @CodePointLength
```

---

## üîß Null and Empty Validators

### @NotNull

```java
@Data
public class UserRequest {
    
    // Ensures value is not null (but can be empty string)
    @NotNull(message = "Username is required")
    private String username;
    
    @NotNull(message = "Age is required")
    private Integer age;
    
    @NotNull(message = "Registration date is required")
    private LocalDate registrationDate;
}

// Validation Results:
null       ‚Üí ‚ùå Invalid
""         ‚Üí ‚úÖ Valid (for String)
"   "      ‚Üí ‚úÖ Valid (for String)
"value"    ‚Üí ‚úÖ Valid
```

### @NotEmpty

```java
@Data
public class ProductRequest {
    
    // For strings: not null AND not empty
    @NotEmpty(message = "Name cannot be empty")
    private String name;
    
    // For collections: not null AND size > 0
    @NotEmpty(message = "Tags cannot be empty")
    private List<String> tags;
    
    // For maps
    @NotEmpty(message = "Attributes cannot be empty")
    private Map<String, String> attributes;
    
    // For arrays
    @NotEmpty(message = "Images cannot be empty")
    private String[] images;
}

// Validation Results for String:
null       ‚Üí ‚ùå Invalid
""         ‚Üí ‚ùå Invalid
"   "      ‚Üí ‚úÖ Valid (whitespace allowed)
"value"    ‚Üí ‚úÖ Valid

// Validation Results for Collection:
null       ‚Üí ‚ùå Invalid
[]         ‚Üí ‚ùå Invalid
[null]     ‚Üí ‚úÖ Valid (has elements, even if null)
["item"]   ‚Üí ‚úÖ Valid
```

### @NotBlank

```java
@Data
public class CommentRequest {
    
    // For strings: not null, not empty, AND not whitespace
    @NotBlank(message = "Comment cannot be blank")
    private String comment;
    
    @NotBlank(message = "Description is required")
    private String description;
}

// Validation Results:
null       ‚Üí ‚ùå Invalid
""         ‚Üí ‚ùå Invalid
"   "      ‚Üí ‚ùå Invalid (whitespace-only)
" text "   ‚Üí ‚úÖ Valid
"value"    ‚Üí ‚úÖ Valid

// Best for: Text input fields, comments, descriptions
```

### @Null

```java
@Data
public class CreateUserRequest {
    
    // Ensures value is null (useful for create operations)
    @Null(message = "ID must be null for new users")
    private Long id;
    
    @Null(message = "Created date must not be set manually")
    private LocalDateTime createdAt;
}

// Use case: Prevent clients from setting system-generated fields
```

### Comparison Table

| Annotation | null | "" | "   " | "text" | [] | [null] |
|------------|------|----|----|--------|----|----|
| @NotNull   | ‚ùå   | ‚úÖ | ‚úÖ | ‚úÖ     | ‚úÖ | ‚úÖ |
| @NotEmpty  | ‚ùå   | ‚ùå | ‚úÖ | ‚úÖ     | ‚ùå | ‚úÖ |
| @NotBlank  | ‚ùå   | ‚ùå | ‚ùå | ‚úÖ     | N/A | N/A |

---

## üìè Size Validators

### @Size

```java
@Data
public class UserRequest {
    
    // String size
    @Size(min = 2, max = 50, message = "Name must be between 2 and 50 characters")
    private String name;
    
    @Size(min = 8, max = 100, message = "Password must be between 8 and 100 characters")
    private String password;
    
    // Only minimum
    @Size(min = 10, message = "Description must be at least 10 characters")
    private String description;
    
    // Only maximum
    @Size(max = 200, message = "Bio cannot exceed 200 characters")
    private String bio;
    
    // Collection size
    @Size(min = 1, max = 5, message = "Must have between 1 and 5 roles")
    private List<String> roles;
    
    // Array size
    @Size(max = 10, message = "Cannot upload more than 10 files")
    private String[] files;
    
    // Map size
    @Size(min = 1, message = "At least one setting is required")
    private Map<String, String> settings;
}
```

### @Length (Hibernate Validator)

```java
@Data
public class ArticleRequest {
    
    // Similar to @Size but only for strings
    @Length(min = 10, max = 500, message = "Content must be between 10 and 500 characters")
    private String content;
    
    // Equivalent to @Size for strings
    @Size(min = 10, max = 500)
    private String content2;
}
```

---

## üî¢ Numeric Validators

### @Min and @Max

```java
@Data
public class ProductRequest {
    
    // Minimum value (inclusive)
    @Min(value = 0, message = "Price cannot be negative")
    private Integer price;
    
    // Maximum value (inclusive)
    @Max(value = 999999, message = "Price too high")
    private Integer maxPrice;
    
    // Combined min and max
    @Min(value = 18, message = "Must be at least 18 years old")
    @Max(value = 120, message = "Age cannot exceed 120")
    private Integer age;
    
    // Works with: byte, short, int, long, BigInteger, BigDecimal
    @Min(value = 1, message = "Quantity must be at least 1")
    private Long quantity;
}
```

### @DecimalMin and @DecimalMax

```java
@Data
public class PricingRequest {
    
    // For decimal numbers (inclusive by default)
    @DecimalMin(value = "0.01", message = "Price must be at least 0.01")
    private BigDecimal price;
    
    @DecimalMax(value = "999999.99", message = "Price cannot exceed 999999.99")
    private BigDecimal maxPrice;
    
    // Exclusive bounds
    @DecimalMin(value = "0.0", inclusive = false, message = "Discount must be greater than 0")
    private BigDecimal discount;
    
    @DecimalMax(value = "100.0", inclusive = false, message = "Percentage must be less than 100")
    private BigDecimal percentage;
}
```

### @Digits

```java
@Data
public class FinancialRequest {
    
    // Validates number of integer and fraction digits
    @Digits(
        integer = 6,  // Maximum 6 digits before decimal
        fraction = 2, // Maximum 2 digits after decimal
        message = "Price format is invalid (max 6 digits, 2 decimals)"
    )
    private BigDecimal price;
    
    // Valid: 123456.99, 1.5, 99.99
    // Invalid: 1234567.99 (7 integer digits), 99.999 (3 fraction digits)
}
```

### @Positive, @PositiveOrZero, @Negative, @NegativeOrZero (JSR-380)

```java
@Data
public class TransactionRequest {
    
    // Must be > 0
    @Positive(message = "Amount must be positive")
    private BigDecimal amount;
    
    // Must be >= 0
    @PositiveOrZero(message = "Discount cannot be negative")
    private BigDecimal discount;
    
    // Must be < 0
    @Negative(message = "Refund must be negative")
    private BigDecimal refund;
    
    // Must be <= 0
    @NegativeOrZero(message = "Loss must be zero or negative")
    private BigDecimal loss;
}

// Comparison:
@Positive          ‚Üí value > 0
@PositiveOrZero    ‚Üí value >= 0
@Min(value = 1)    ‚Üí value >= 1
@Min(value = 0)    ‚Üí value >= 0
```

### @Range (Hibernate Validator)

```java
@Data
public class ConfigRequest {
    
    // Combines min and max in one annotation
    @Range(min = 1, max = 100, message = "Port must be between 1 and 100")
    private Integer port;
    
    // Equivalent to @Min + @Max
    @Min(1)
    @Max(100)
    private Integer port2;
}
```

---

## üìù String Validators

### @Pattern

```java
@Data
public class UserRequest {
    
    // Phone number (10 digits)
    @Pattern(
        regexp = "^\\d{10}$",
        message = "Phone must be exactly 10 digits"
    )
    private String phone;
    
    // US Zip code
    @Pattern(
        regexp = "^\\d{5}(-\\d{4})?$",
        message = "Invalid zip code format"
    )
    private String zipCode;
    
    // Username (alphanumeric, underscore, 3-20 chars)
    @Pattern(
        regexp = "^[a-zA-Z0-9_]{3,20}$",
        message = "Username must be 3-20 alphanumeric characters or underscore"
    )
    private String username;
    
    // Password complexity
    @Pattern(
        regexp = "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",
        message = "Password must contain uppercase, lowercase, digit, and special character"
    )
    private String password;
    
    // Hexadecimal color
    @Pattern(
        regexp = "^#[0-9A-Fa-f]{6}$",
        message = "Color must be in hex format (#RRGGBB)"
    )
    private String color;
    
    // URL
    @Pattern(
        regexp = "^https?://.*",
        message = "URL must start with http:// or https://"
    )
    private String website;
}
```

### @Email

```java
@Data
public class ContactRequest {
    
    // Basic email validation
    @Email(message = "Email must be valid")
    private String email;
    
    // Email with custom regexp
    @Email(
        regexp = "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
        message = "Email format is invalid"
    )
    private String strictEmail;
    
    // Hibernate Validator flags (if available)
    @Email(
        message = "Corporate email required",
        regexp = ".*@company\\.com$"
    )
    private String corporateEmail;
}
```

### @URL (Hibernate Validator)

```java
@Data
public class LinkRequest {
    
    @URL(message = "Must be a valid URL")
    private String website;
    
    @URL(protocol = "https", message = "Must be a secure HTTPS URL")
    private String secureUrl;
}
```

### @ISBN (Hibernate Validator)

```java
@Data
public class BookRequest {
    
    @ISBN(message = "Invalid ISBN")
    private String isbn;
    
    @ISBN(type = ISBN.Type.ISBN_10, message = "Invalid ISBN-10")
    private String isbn10;
    
    @ISBN(type = ISBN.Type.ISBN_13, message = "Invalid ISBN-13")
    private String isbn13;
}
```

### @CreditCardNumber (Hibernate Validator)

```java
@Data
public class PaymentRequest {
    
    @CreditCardNumber(message = "Invalid credit card number")
    private String cardNumber;
    
    // Uses Luhn algorithm for validation
}
```

---

## üìÖ Date and Time Validators

### @Past and @PastOrPresent

```java
@Data
public class PersonRequest {
    
    // Date must be in the past
    @Past(message = "Birth date must be in the past")
    private LocalDate birthDate;
    
    @Past(message = "Join date must be in the past")
    private LocalDateTime joinDate;
    
    // Date must be in the past or present (today allowed)
    @PastOrPresent(message = "Last login cannot be in the future")
    private LocalDateTime lastLogin;
    
    @PastOrPresent(message = "Registration date cannot be in the future")
    private LocalDate registrationDate;
}
```

### @Future and @FutureOrPresent

```java
@Data
public class EventRequest {
    
    // Date must be in the future
    @Future(message = "Event date must be in the future")
    private LocalDate eventDate;
    
    @Future(message = "Appointment must be scheduled in the future")
    private LocalDateTime appointmentTime;
    
    // Date must be in the future or present (today allowed)
    @FutureOrPresent(message = "Start date cannot be in the past")
    private LocalDate startDate;
    
    @FutureOrPresent(message = "Delivery date cannot be in the past")
    private LocalDateTime deliveryTime;
}
```

### Supported Date/Time Types

```java
@Data
public class DateTimeExamples {
    
    // java.util.Date
    @Past
    private Date utilDate;
    
    // java.time types
    @Past
    private LocalDate localDate;
    
    @Past
    private LocalDateTime localDateTime;
    
    @Future
    private ZonedDateTime zonedDateTime;
    
    @Future
    private OffsetDateTime offsetDateTime;
    
    @Future
    private Instant instant;
    
    // java.util.Calendar
    @Past
    private Calendar calendar;
}
```

---

## ‚úÖ Boolean Validators

### @AssertTrue

```java
@Data
public class RegistrationRequest {
    
    // Value must be true
    @AssertTrue(message = "You must accept the terms and conditions")
    private Boolean acceptTerms;
    
    @AssertTrue(message = "Email verification is required")
    private Boolean emailVerified;
    
    // Often used for custom validation methods
    @AssertTrue(message = "Passwords must match")
    public boolean isPasswordsMatch() {
        return password != null && password.equals(confirmPassword);
    }
    
    private String password;
    private String confirmPassword;
}
```

### @AssertFalse

```java
@Data
public class AccountRequest {
    
    // Value must be false
    @AssertFalse(message = "Account must not be suspended")
    private Boolean isSuspended;
    
    @AssertFalse(message = "Account must not be deleted")
    private Boolean isDeleted;
    
    // Custom validation
    @AssertFalse(message = "Email cannot be a temporary email")
    public boolean isTemporaryEmail() {
        return email != null && email.endsWith("@tempmail.com");
    }
    
    private String email;
}
```

---

## üî• Advanced Validators

### @Valid (Nested Validation)

```java
@Data
public class OrderRequest {
    
    // Triggers validation on nested object
    @Valid
    @NotNull(message = "Customer is required")
    private CustomerRequest customer;
    
    // Validates each element in collection
    @Valid
    @NotEmpty(message = "Order items are required")
    private List<OrderItemRequest> items;
    
    @Valid
    private AddressRequest shippingAddress;
}
```

### @UniqueElements (Hibernate Validator)

```java
@Data
public class PlaylistRequest {
    
    // Ensures all elements in collection are unique
    @UniqueElements(message = "Song IDs must be unique")
    private List<Long> songIds;
    
    @UniqueElements(message = "Tags must be unique")
    private Set<String> tags; // Set already enforces uniqueness, but adds validation
}
```

### @CodePointLength (Hibernate Validator)

```java
@Data
public class MessageRequest {
    
    // Validates Unicode code points (for emoji, special chars)
    @CodePointLength(
        min = 1,
        max = 280,
        message = "Tweet must be between 1 and 280 characters"
    )
    private String tweet;
    
    // Better than @Size for Unicode strings with emojis
}
```

---

## üìå Best Practices

### 1. Choose the Right Validator

```java
// ‚úÖ Good - Appropriate validators
@NotBlank(message = "Name is required")  // For user input strings
private String name;

@Positive(message = "Price must be positive")  // For positive numbers
private BigDecimal price;

@Past(message = "Birth date must be in the past")  // For past dates
private LocalDate birthDate;

// ‚ùå Bad - Wrong validators
@NotNull  // Too weak for strings
private String name;

@Min(value = 1)  // Less clear than @Positive
private BigDecimal price;
```

### 2. Combine Validators When Needed

```java
// ‚úÖ Good - Multiple validators for comprehensive validation
@NotBlank(message = "Password is required")
@Size(min = 8, max = 100, message = "Password must be 8-100 characters")
@Pattern(
    regexp = "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).*$",
    message = "Password must contain uppercase, lowercase, and digit"
)
private String password;
```

### 3. Use Meaningful Messages

```java
// ‚úÖ Good - Clear, actionable messages
@Email(message = "Email must be in valid format (e.g., user@example.com)")
private String email;

@Size(min = 8, max = 50, message = "Password must be between 8 and 50 characters")
private String password;

// ‚ùå Bad - Generic messages
@Email(message = "Invalid")
private String email;
```

### 4. Validate Nested Objects

```java
// ‚úÖ Good - Use @Valid for nested validation
@Valid
@NotNull(message = "Address is required")
private AddressRequest address;

@Valid
@NotEmpty(message = "Items are required")
private List<ItemRequest> items;
```

### 5. Don't Over-Validate

```java
// ‚ùå Bad - Redundant
@NotNull
@NotEmpty
@NotBlank
private String name;  // @NotBlank includes the others

// ‚úÖ Good - Single appropriate validator
@NotBlank(message = "Name is required")
private String name;
```

---

## üé§ Interview Questions

### Q1: Difference between @NotNull, @NotEmpty, @NotBlank?
**Answer:**
- @NotNull: Value not null
- @NotEmpty: Not null and size > 0 (String/Collection)
- @NotBlank: Not null, not empty, not whitespace (String only)

### Q2: When to use @Size vs @Length?
**Answer:**
- @Size: Standard, works on String, Collection, Array, Map
- @Length: Hibernate Validator, only for String (equivalent to @Size for strings)

### Q3: Difference between @Min and @Positive?
**Answer:**
- @Min(1): value >= 1
- @Positive: value > 0
- @PositiveOrZero: value >= 0

### Q4: What types does @Past work with?
**Answer:** Date, LocalDate, LocalDateTime, ZonedDateTime, OffsetDateTime, Instant, Calendar.

### Q5: How to validate email?
**Answer:**
```java
@Email(message = "Email must be valid")
private String email;
```

### Q6: What is @Pattern used for?
**Answer:** Validates string against regular expression pattern.

### Q7: How to validate nested objects?
**Answer:** Use @Valid on the field:
```java
@Valid
@NotNull
private AddressRequest address;
```

### Q8: Difference between @DecimalMin and @Min?
**Answer:**
- @DecimalMin: For BigDecimal, supports decimal values and inclusive flag
- @Min: For integers, only whole numbers

### Q9: What is @AssertTrue used for?
**Answer:** Validates boolean field is true, often used for custom validation methods.

### Q10: How to ensure collection elements are unique?
**Answer:** Use @UniqueElements (Hibernate Validator) or use Set instead of List.

### Q11: Can you use multiple validators on one field?
**Answer:** Yes, validators are combined (AND logic).

### Q12: What is @Digits?
**Answer:** Validates number of integer and fraction digits:
```java
@Digits(integer = 6, fraction = 2)
private BigDecimal price;
```

### Q13: Difference between @Future and @FutureOrPresent?
**Answer:**
- @Future: Date must be in future (today invalid)
- @FutureOrPresent: Date must be in future or present (today valid)

### Q14: How to validate URL?
**Answer:**
```java
@URL(message = "Must be valid URL")
private String website;
```
Or use @Pattern with URL regex.

### Q15: What is @CreditCardNumber?
**Answer:** Hibernate Validator annotation that validates credit card number using Luhn algorithm.

### Q16: Can you create custom messages?
**Answer:** Yes, use message attribute in any validation annotation.

### Q17: What is @Null used for?
**Answer:** Ensures value is null, useful for preventing clients from setting system fields.

### Q18: How to validate phone numbers?
**Answer:** Use @Pattern:
```java
@Pattern(regexp = "^\\d{10}$", message = "Phone must be 10 digits")
private String phone;
```

### Q19: Difference between @Size and @CodePointLength?
**Answer:**
- @Size: Counts characters
- @CodePointLength: Counts Unicode code points (better for emoji/special chars)

### Q20: Best practices for built-in validators?
**Answer:**
1. Choose appropriate validators
2. Combine when needed
3. Meaningful messages
4. Don't over-validate
5. Use @Valid for nested objects
6. Consider @NotBlank over @NotEmpty for strings
7. Use @Positive over @Min(1) for clarity

---

## üìö Summary

### Common Validators

| Category | Validators |
|----------|-----------|
| **Null/Empty** | @NotNull, @NotEmpty, @NotBlank, @Null |
| **Size** | @Size, @Length |
| **Numeric** | @Min, @Max, @Positive, @Negative, @DecimalMin, @DecimalMax, @Digits, @Range |
| **String** | @Pattern, @Email, @URL |
| **Date/Time** | @Past, @Future, @PastOrPresent, @FutureOrPresent |
| **Boolean** | @AssertTrue, @AssertFalse |
| **Advanced** | @Valid, @UniqueElements, @CodePointLength |

### Quick Reference

```java
// String validation
@NotBlank(message = "Required")
@Size(min = 2, max = 50)
@Pattern(regexp = "^[a-zA-Z]+$")
@Email
private String name;

// Numeric validation
@NotNull
@Positive
@Max(999999)
private Integer quantity;

// Date validation
@Past
@NotNull
private LocalDate birthDate;

// Nested validation
@Valid
@NotNull
private AddressRequest address;
```

**Next:** Custom Validators ‚Üí

