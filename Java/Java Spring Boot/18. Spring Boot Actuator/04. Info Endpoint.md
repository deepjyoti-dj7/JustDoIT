# Info Endpoint - Complete Guide

---

## 1. Introduction to Info Endpoint

The Info endpoint provides arbitrary application information that can be customized to display build details, git information, and custom metadata.

### Why Info Endpoint?

- **Build information** - Version, artifact, build time
- **Git information** - Branch, commit ID, commit time
- **Environment details** - Java version, OS, profiles
- **Custom metadata** - Team contact, documentation links
- **Deployment tracking** - Which version is deployed where

**URL:** `GET /actuator/info`

---

## 2. Basic Configuration

### 2.1. Static Information

```yaml
info:
  app:
    name: Product Service
    description: E-commerce Product Management API
    version: 1.0.0
    encoding: UTF-8
    java:
      version: ${java.version}
  
  company:
    name: Example Corp
    website: https://example.com
  
  contact:
    email: support@example.com
    phone: +1-555-0123
  
  custom:
    key: value
    region: us-east-1
```

**Response:**
```json
{
  "app": {
    "name": "Product Service",
    "description": "E-commerce Product Management API",
    "version": "1.0.0",
    "encoding": "UTF-8",
    "java": {
      "version": "17.0.5"
    }
  },
  "company": {
    "name": "Example Corp",
    "website": "https://example.com"
  },
  "contact": {
    "email": "support@example.com",
    "phone": "+1-555-0123"
  },
  "custom": {
    "key": "value",
    "region": "us-east-1"
  }
}
```

---

## 3. Build Information

### 3.1. Maven Configuration

Add to `pom.xml`:

```xml
<build>
  <plugins>
    <plugin>
      <groupId>org.springframework.boot</groupId>
      <artifactId>spring-boot-maven-plugin</artifactId>
      <executions>
        <execution>
          <goals>
            <goal>build-info</goal>
          </goals>
          <configuration>
            <additionalProperties>
              <encoding.source>UTF-8</encoding.source>
              <encoding.reporting>UTF-8</encoding.reporting>
              <java.version>${java.version}</java.version>
            </additionalProperties>
          </configuration>
        </execution>
      </executions>
    </plugin>
  </plugins>
</build>
```

### 3.2. Build Info Response

**File Generated:** `target/classes/META-INF/build-info.properties`

**Response:**
```json
{
  "build": {
    "artifact": "product-service",
    "name": "product-service",
    "time": "2024-01-15T10:30:45.123Z",
    "version": "1.0.0",
    "group": "com.example"
  }
}
```

### 3.3. Gradle Configuration

```gradle
springBoot {
    buildInfo {
        properties {
            additional = [
                'java.version': project.property('java.version'),
                'description': 'Product Management Service'
            ]
        }
    }
}
```

---

## 4. Git Information

### 4.1. Maven Plugin

Add to `pom.xml`:

```xml
<plugin>
  <groupId>pl.project13.maven</groupId>
  <artifactId>git-commit-id-plugin</artifactId>
  <executions>
    <execution>
      <id>get-the-git-infos</id>
      <goals>
        <goal>revision</goal>
      </goals>
      <phase>initialize</phase>
    </execution>
  </executions>
  <configuration>
    <generateGitPropertiesFile>true</generateGitPropertiesFile>
    <generateGitPropertiesFilename>${project.build.outputDirectory}/git.properties</generateGitPropertiesFilename>
    <includeOnlyProperties>
      <includeOnlyProperty>^git.branch$</includeOnlyProperty>
      <includeOnlyProperty>^git.commit.id.abbrev$</includeOnlyProperty>
      <includeOnlyProperty>^git.commit.id.full$</includeOnlyProperty>
      <includeOnlyProperty>^git.commit.time$</includeOnlyProperty>
      <includeOnlyProperty>^git.commit.message.short$</includeOnlyProperty>
      <includeOnlyProperty>^git.commit.user.name$</includeOnlyProperty>
    </includeOnlyProperties>
    <commitIdGenerationMode>full</commitIdGenerationMode>
  </configuration>
</plugin>
```

### 4.2. Git Info Response

**File Generated:** `target/classes/git.properties`

**Response:**
```json
{
  "git": {
    "branch": "main",
    "commit": {
      "id": {
        "abbrev": "a1b2c3d",
        "full": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0"
      },
      "time": "2024-01-15T09:45:30Z",
      "message": {
        "short": "Add product search feature"
      },
      "user": {
        "name": "John Doe"
      }
    }
  }
}
```

### 4.3. Git Info Configuration

```yaml
management:
  info:
    git:
      mode: full  # Options: simple, full
      enabled: true
```

**Simple Mode Response:**
```json
{
  "git": {
    "branch": "main",
    "commit": {
      "id": "a1b2c3d",
      "time": "2024-01-15T09:45:30Z"
    }
  }
}
```

---

## 5. Environment Information

### 5.1. Java and OS Info

```yaml
info:
  java:
    version: ${java.version}
    vendor: ${java.vendor}
    runtime: ${java.runtime.name}
  
  os:
    name: ${os.name}
    version: ${os.version}
    arch: ${os.arch}
```

**Response:**
```json
{
  "java": {
    "version": "17.0.5",
    "vendor": "Oracle Corporation",
    "runtime": "Java(TM) SE Runtime Environment"
  },
  "os": {
    "name": "Linux",
    "version": "5.15.0",
    "arch": "amd64"
  }
}
```

### 5.2. Active Profiles

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.core.env.Environment;
import org.springframework.stereotype.Component;

import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;

@Component
public class EnvironmentInfoContributor implements InfoContributor {
    
    private final Environment environment;
    
    public EnvironmentInfoContributor(Environment environment) {
        this.environment = environment;
    }
    
    @Override
    public void contribute(Info.Builder builder) {
        Map<String, Object> envDetails = new HashMap<>();
        envDetails.put("activeProfiles", Arrays.asList(environment.getActiveProfiles()));
        envDetails.put("defaultProfiles", Arrays.asList(environment.getDefaultProfiles()));
        
        builder.withDetail("environment", envDetails);
    }
}
```

---

## 6. Custom Info Contributors

### 6.1. Simple Info Contributor

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

import java.time.LocalDateTime;
import java.util.HashMap;
import java.util.Map;

@Component
public class CustomInfoContributor implements InfoContributor {
    
    @Override
    public void contribute(Info.Builder builder) {
        Map<String, Object> customInfo = new HashMap<>();
        customInfo.put("timestamp", LocalDateTime.now().toString());
        customInfo.put("serverTime", System.currentTimeMillis());
        customInfo.put("timezone", "UTC");
        
        builder.withDetail("server", customInfo);
    }
}
```

**Response:**
```json
{
  "server": {
    "timestamp": "2024-01-15T10:30:45.123",
    "serverTime": 1705318245123,
    "timezone": "UTC"
  }
}
```

### 6.2. Database Info Contributor

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.DatabaseMetaData;
import java.util.HashMap;
import java.util.Map;

@Component
public class DatabaseInfoContributor implements InfoContributor {
    
    private final DataSource dataSource;
    
    public DatabaseInfoContributor(DataSource dataSource) {
        this.dataSource = dataSource;
    }
    
    @Override
    public void contribute(Info.Builder builder) {
        try (Connection connection = dataSource.getConnection()) {
            DatabaseMetaData metaData = connection.getMetaData();
            
            Map<String, Object> dbInfo = new HashMap<>();
            dbInfo.put("name", metaData.getDatabaseProductName());
            dbInfo.put("version", metaData.getDatabaseProductVersion());
            dbInfo.put("driver", metaData.getDriverName());
            dbInfo.put("driverVersion", metaData.getDriverVersion());
            
            builder.withDetail("database", dbInfo);
            
        } catch (Exception e) {
            Map<String, String> error = new HashMap<>();
            error.put("error", "Unable to retrieve database info");
            builder.withDetail("database", error);
        }
    }
}
```

**Response:**
```json
{
  "database": {
    "name": "PostgreSQL",
    "version": "14.5",
    "driver": "PostgreSQL JDBC Driver",
    "driverVersion": "42.5.0"
  }
}
```

### 6.3. Application Statistics

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

import java.lang.management.ManagementFactory;
import java.lang.management.MemoryMXBean;
import java.lang.management.RuntimeMXBean;
import java.util.HashMap;
import java.util.Map;

@Component
public class StatisticsInfoContributor implements InfoContributor {
    
    @Override
    public void contribute(Info.Builder builder) {
        RuntimeMXBean runtimeBean = ManagementFactory.getRuntimeMXBean();
        MemoryMXBean memoryBean = ManagementFactory.getMemoryMXBean();
        
        Map<String, Object> stats = new HashMap<>();
        stats.put("uptime", runtimeBean.getUptime());
        stats.put("startTime", runtimeBean.getStartTime());
        stats.put("heapUsed", memoryBean.getHeapMemoryUsage().getUsed());
        stats.put("heapMax", memoryBean.getHeapMemoryUsage().getMax());
        stats.put("threads", Thread.activeCount());
        
        builder.withDetail("statistics", stats);
    }
}
```

### 6.4. Feature Flags Info

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
public class FeatureFlagsInfoContributor implements InfoContributor {
    
    @Override
    public void contribute(Info.Builder builder) {
        Map<String, Boolean> features = new HashMap<>();
        features.put("newCheckoutFlow", true);
        features.put("productRecommendations", false);
        features.put("socialLogin", true);
        features.put("guestCheckout", true);
        
        builder.withDetail("features", features);
    }
}
```

---

## 7. Dependencies Information

### 7.1. Dependency Versions

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
public class DependenciesInfoContributor implements InfoContributor {
    
    @Override
    public void contribute(Info.Builder builder) {
        Map<String, String> dependencies = new HashMap<>();
        dependencies.put("spring-boot", getSpringBootVersion());
        dependencies.put("spring-cloud", getSpringCloudVersion());
        dependencies.put("java", System.getProperty("java.version"));
        
        builder.withDetail("dependencies", dependencies);
    }
    
    private String getSpringBootVersion() {
        return org.springframework.boot.SpringBootVersion.getVersion();
    }
    
    private String getSpringCloudVersion() {
        // Return Spring Cloud version if available
        return "2023.0.0";
    }
}
```

---

## 8. Team and Contact Information

### 8.1. Team Details

```yaml
info:
  team:
    name: Product Team
    lead: John Doe
    email: product-team@example.com
    slack: "#product-team"
  
  support:
    email: support@example.com
    phone: +1-555-0123
    hours: "Mon-Fri 9AM-5PM EST"
  
  documentation:
    api: https://docs.example.com/api
    wiki: https://wiki.example.com/product-service
    runbook: https://runbook.example.com/product-service
```

---

## 9. Deployment Information

### 9.1. Deployment Metadata

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.core.env.Environment;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
public class DeploymentInfoContributor implements InfoContributor {
    
    private final Environment environment;
    
    public DeploymentInfoContributor(Environment environment) {
        this.environment = environment;
    }
    
    @Override
    public void contribute(Info.Builder builder) {
        Map<String, Object> deployment = new HashMap<>();
        deployment.put("environment", environment.getProperty("ENVIRONMENT", "unknown"));
        deployment.put("region", environment.getProperty("AWS_REGION", "unknown"));
        deployment.put("instance", environment.getProperty("HOSTNAME", "unknown"));
        deployment.put("deployedBy", environment.getProperty("DEPLOYED_BY", "unknown"));
        deployment.put("deployTime", environment.getProperty("DEPLOY_TIME", "unknown"));
        
        builder.withDetail("deployment", deployment);
    }
}
```

### 9.2. Kubernetes Information

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
public class KubernetesInfoContributor implements InfoContributor {
    
    @Override
    public void contribute(Info.Builder builder) {
        Map<String, String> k8s = new HashMap<>();
        k8s.put("namespace", System.getenv("KUBERNETES_NAMESPACE"));
        k8s.put("podName", System.getenv("HOSTNAME"));
        k8s.put("nodeName", System.getenv("NODE_NAME"));
        k8s.put("podIp", System.getenv("POD_IP"));
        
        if (k8s.get("namespace") != null) {
            builder.withDetail("kubernetes", k8s);
        }
    }
}
```

---

## 10. Conditional Info Contributors

### 10.1. Profile-based Info

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.context.annotation.Profile;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
@Profile("development")
public class DevelopmentInfoContributor implements InfoContributor {
    
    @Override
    public void contribute(Info.Builder builder) {
        Map<String, String> devInfo = new HashMap<>();
        devInfo.put("debugMode", "enabled");
        devInfo.put("mockData", "enabled");
        devInfo.put("localDatabase", "true");
        
        builder.withDetail("development", devInfo);
    }
}
```

---

## 11. Security Considerations

### 11.1. Hiding Sensitive Information

```yaml
management:
  endpoint:
    info:
      enabled: true
  
  info:
    env:
      enabled: false  # Disable environment info contributor
    git:
      enabled: true
      mode: simple  # Show less git details
```

### 11.2. Securing Info Endpoint

```java
import org.springframework.boot.actuate.autoconfigure.security.servlet.EndpointRequest;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.web.SecurityFilterChain;

@Configuration
public class InfoSecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .authorizeHttpRequests(auth -> auth
                .requestMatchers(EndpointRequest.to("info")).permitAll()
                .anyRequest().authenticated()
            );
        
        return http.build();
    }
}
```

---

## 12. Caching Info Endpoint

### 12.1. Cache Configuration

```yaml
management:
  endpoint:
    info:
      cache:
        time-to-live: 10s  # Cache for 10 seconds
```

### 12.2. Custom Caching

```java
import org.springframework.boot.actuate.info.Info;
import org.springframework.boot.actuate.info.InfoContributor;
import org.springframework.cache.annotation.Cacheable;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.Map;

@Component
public class CachedInfoContributor implements InfoContributor {
    
    @Override
    @Cacheable("info")
    public void contribute(Info.Builder builder) {
        Map<String, Object> expensiveInfo = getExpensiveInformation();
        builder.withDetail("cached", expensiveInfo);
    }
    
    private Map<String, Object> getExpensiveInformation() {
        // Expensive operation
        return new HashMap<>();
    }
}
```

---

## 13. Complete Example

### 13.1. application.yml

```yaml
spring:
  application:
    name: product-service

info:
  app:
    name: ${spring.application.name}
    description: Product Management Microservice
    version: '@project.version@'
    encoding: '@project.build.sourceEncoding@'
    java:
      version: '@java.version@'
  
  company:
    name: Example Corp
    website: https://example.com
  
  team:
    name: Product Team
    lead: John Doe
    email: product-team@example.com
  
  documentation:
    api: https://docs.example.com/api/products
    wiki: https://wiki.example.com/product-service

management:
  endpoint:
    info:
      enabled: true
  info:
    git:
      mode: full
      enabled: true
    build:
      enabled: true
    env:
      enabled: true
```

### 13.2. Complete Response

```json
{
  "app": {
    "name": "product-service",
    "description": "Product Management Microservice",
    "version": "1.0.0",
    "encoding": "UTF-8",
    "java": {
      "version": "17"
    }
  },
  "company": {
    "name": "Example Corp",
    "website": "https://example.com"
  },
  "team": {
    "name": "Product Team",
    "lead": "John Doe",
    "email": "product-team@example.com"
  },
  "documentation": {
    "api": "https://docs.example.com/api/products",
    "wiki": "https://wiki.example.com/product-service"
  },
  "build": {
    "artifact": "product-service",
    "name": "product-service",
    "time": "2024-01-15T10:30:45.123Z",
    "version": "1.0.0",
    "group": "com.example"
  },
  "git": {
    "branch": "main",
    "commit": {
      "id": {
        "abbrev": "a1b2c3d",
        "full": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0"
      },
      "time": "2024-01-15T09:45:30Z",
      "message": {
        "short": "Add product search feature"
      },
      "user": {
        "name": "John Doe"
      }
    }
  },
  "database": {
    "name": "PostgreSQL",
    "version": "14.5"
  },
  "environment": {
    "activeProfiles": ["production"]
  },
  "statistics": {
    "uptime": 3600000,
    "heapUsed": 157286400,
    "threads": 25
  }
}
```

---

## 14. Interview Questions

**Q1: What is /actuator/info endpoint?**
**A:** Provides arbitrary application information (build, git, custom metadata).

**Q2: How to add build information?**
**A:** Add build-info goal to spring-boot-maven-plugin.

**Q3: How to add git information?**
**A:** Add git-commit-id-plugin to pom.xml.

**Q4: What is InfoContributor?**
**A:** Interface for adding custom information to info endpoint.

**Q5: How to add static info?**
**A:** Configure info.* properties in application.yml.

**Q6: Git info mode: simple vs full?**
**A:** Simple shows minimal details (branch, commit ID). Full shows complete details.

**Q7: How to hide sensitive info?**
**A:** Set management.info.env.enabled=false or use simple mode for git.

**Q8: What file contains build info?**
**A:** META-INF/build-info.properties

**Q9: What file contains git info?**
**A:** git.properties

**Q10: How to cache info endpoint?**
**A:** Set management.endpoint.info.cache.time-to-live.

**Q11: Can info endpoint be public?**
**A:** Yes, typically safe to expose publicly (non-sensitive data).

**Q12: How to add environment variables to info?**
**A:** Create custom InfoContributor accessing Environment.

**Q13: What's in build info?**
**A:** Artifact, group, version, build time, name.

**Q14: How to add feature flags to info?**
**A:** Create custom InfoContributor with feature flag map.

**Q15: How to add team contact info?**
**A:** Configure info.team.* or info.contact.* properties.

**Q16: Can InfoContributor be conditional?**
**A:** Yes, use @Profile or @Conditional annotations.

**Q17: How to show active profiles in info?**
**A:** Create InfoContributor accessing Environment.getActiveProfiles().

**Q18: What's the difference between info and health?**
**A:** Info: Static metadata. Health: Dynamic status checks.

**Q19: How to add database version to info?**
**A:** Create InfoContributor using DatabaseMetaData.

**Q20: Should deployment details be in info?**
**A:** Yes, useful for tracking which version is deployed where.

---

## 15. Summary

Info endpoint (/actuator/info) provides application metadata. Configure static information via info.* properties in application.yml. Add build information with spring-boot-maven-plugin build-info goal. Add git information with git-commit-id-plugin. Create custom contributors by implementing InfoContributor interface. Use for: build details, git commit info, team contacts, documentation links, deployment metadata, feature flags. Control visibility with mode settings (simple/full). Cache expensive info contributors. Generally safe to expose publicly. Essential for deployment tracking and application documentation.

---

**Next:** Custom Endpoints â†’
