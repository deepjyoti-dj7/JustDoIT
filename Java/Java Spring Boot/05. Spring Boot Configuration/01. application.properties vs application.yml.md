# üìù application.properties vs application.yml - Complete Guide

## üìã Table of Contents
- [Introduction](#introduction)
- [application.properties](#applicationproperties)
- [application.yml](#applicationyml)
- [Comparison](#comparison)
- [Syntax Differences](#syntax-differences)
- [Complex Data Structures](#complex-data-structures)
- [Profiles](#profiles)
- [Multi-Document Files](#multi-document-files)
- [Best Practices](#best-practices)
- [Interview Questions](#interview-questions)

---

## üéØ Introduction

Spring Boot supports two main configuration file formats:
- **application.properties** - Traditional key-value pairs
- **application.yml** - YAML (Yet Another Markup Language) format

Both files serve the same purpose but have different syntax and capabilities.

---

## üìÑ application.properties

### Basic Syntax

```properties
# Server configuration
server.port=8080
server.servlet.context-path=/api

# Database configuration
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=secret
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# Application properties
app.name=MyApplication
app.version=1.0.0
app.max-users=1000
```

### Hierarchical Properties

```properties
# Repeated prefixes
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=secret
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# Logging
logging.level.root=INFO
logging.level.com.example=DEBUG
logging.level.org.springframework.web=TRACE
logging.file.name=application.log
logging.file.path=/var/logs
```

### Lists and Arrays

```properties
# Simple list (comma-separated)
app.servers=server1,server2,server3

# Indexed list
app.features[0]=feature1
app.features[1]=feature2
app.features[2]=feature3

# Map properties
app.credentials.username=admin
app.credentials.password=admin123
app.credentials.role=ADMIN
```

### Comments

```properties
# This is a comment
! This is also a comment (less common)

# Server Configuration
server.port=8080  # Inline comment (not standard, avoid)
```

### Multi-line Values

```properties
# Not directly supported, use backslash
app.description=This is a very long description \
  that spans multiple lines \
  for better readability
```

---

## üìò application.yml

### Basic Syntax

```yaml
# Server configuration
server:
  port: 8080
  servlet:
    context-path: /api

# Database configuration
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: secret
    driver-class-name: com.mysql.cj.jdbc.Driver
  
  # JPA configuration
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect

# Application properties
app:
  name: MyApplication
  version: 1.0.0
  max-users: 1000
```

### Hierarchical Structure

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: secret
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 30000

logging:
  level:
    root: INFO
    com.example: DEBUG
    org.springframework.web: TRACE
  file:
    name: application.log
    path: /var/logs
```

### Lists and Arrays

```yaml
# Simple list
app:
  servers:
    - server1
    - server2
    - server3

# Alternative inline syntax
app:
  servers: [server1, server2, server3]

# List of objects
app:
  users:
    - name: John
      email: john@example.com
      role: ADMIN
    - name: Jane
      email: jane@example.com
      role: USER
```

### Maps

```yaml
app:
  credentials:
    username: admin
    password: admin123
    role: ADMIN
  
  # Alternative inline syntax
  settings: {theme: dark, language: en, timezone: UTC}
```

### Comments

```yaml
# This is a comment

server:
  port: 8080  # This is an inline comment

# Multi-line comment (not standard)
# Line 1 of comment
# Line 2 of comment
# Line 3 of comment
```

### Multi-line Values

```yaml
app:
  # Literal block (preserves newlines)
  description: |
    This is a multi-line
    description that preserves
    line breaks
  
  # Folded block (folds newlines into spaces)
  bio: >
    This is a long bio
    that will be folded
    into a single line
```

---

## ‚öñÔ∏è Comparison

### Feature Comparison

| Feature | application.properties | application.yml |
|---------|----------------------|-----------------|
| **Syntax** | Key-value pairs | Hierarchical YAML |
| **Readability** | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **Nested Data** | Verbose (repeated prefixes) | Concise (indentation) |
| **Lists** | Index-based or comma-separated | Natural list syntax |
| **Maps** | Dot notation | Natural map syntax |
| **Multi-line** | Backslash continuation | Literal/folded blocks |
| **Comments** | `#` or `!` | `#` |
| **File Size** | Larger | Smaller |
| **Learning Curve** | Easy | Moderate |
| **Type Safety** | String-based | String-based |
| **Spring Boot Default** | Yes | Yes (if present) |

### Pros and Cons

#### application.properties

**Pros:**
- ‚úÖ Simple, flat structure
- ‚úÖ Easy to learn
- ‚úÖ Traditional format
- ‚úÖ No indentation issues
- ‚úÖ IDE support everywhere

**Cons:**
- ‚ùå Verbose for nested data
- ‚ùå Repeated prefixes
- ‚ùå Less readable for complex structures
- ‚ùå Limited multi-line support

#### application.yml

**Pros:**
- ‚úÖ Hierarchical and readable
- ‚úÖ Less repetition
- ‚úÖ Better for complex structures
- ‚úÖ Natural list/map syntax
- ‚úÖ Multi-line support

**Cons:**
- ‚ùå Indentation-sensitive
- ‚ùå Steeper learning curve
- ‚ùå Easy to make syntax errors
- ‚ùå Tabs vs spaces issues

---

## üî§ Syntax Differences

### Simple Properties

```properties
# application.properties
server.port=8080
app.name=MyApp
```

```yaml
# application.yml
server:
  port: 8080
app:
  name: MyApp
```

### Nested Properties

```properties
# application.properties - Repeated prefixes
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=secret
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
```

```yaml
# application.yml - Hierarchical
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: secret
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
```

### Lists

```properties
# application.properties
app.servers[0]=server1
app.servers[1]=server2
app.servers[2]=server3

# Or comma-separated
app.servers=server1,server2,server3
```

```yaml
# application.yml
app:
  servers:
    - server1
    - server2
    - server3
```

### Maps

```properties
# application.properties
app.database.primary.url=jdbc:mysql://localhost:3306/db1
app.database.primary.username=user1
app.database.secondary.url=jdbc:mysql://localhost:3306/db2
app.database.secondary.username=user2
```

```yaml
# application.yml
app:
  database:
    primary:
      url: jdbc:mysql://localhost:3306/db1
      username: user1
    secondary:
      url: jdbc:mysql://localhost:3306/db2
      username: user2
```

---

## üèóÔ∏è Complex Data Structures

### Nested Objects

**application.properties:**
```properties
app.admin.name=John Doe
app.admin.email=john@example.com
app.admin.credentials.username=admin
app.admin.credentials.password=secret
app.admin.permissions[0]=READ
app.admin.permissions[1]=WRITE
app.admin.permissions[2]=DELETE
```

**application.yml:**
```yaml
app:
  admin:
    name: John Doe
    email: john@example.com
    credentials:
      username: admin
      password: secret
    permissions:
      - READ
      - WRITE
      - DELETE
```

### List of Objects

**application.properties:**
```properties
app.users[0].name=John
app.users[0].email=john@example.com
app.users[0].role=ADMIN
app.users[1].name=Jane
app.users[1].email=jane@example.com
app.users[1].role=USER
```

**application.yml:**
```yaml
app:
  users:
    - name: John
      email: john@example.com
      role: ADMIN
    - name: Jane
      email: jane@example.com
      role: USER
```

### Complex Configuration

**application.properties:**
```properties
spring.datasource.hikari.data-source-properties.cachePrepStmts=true
spring.datasource.hikari.data-source-properties.prepStmtCacheSize=250
spring.datasource.hikari.data-source-properties.prepStmtCacheSqlLimit=2048
```

**application.yml:**
```yaml
spring:
  datasource:
    hikari:
      data-source-properties:
        cachePrepStmts: true
        prepStmtCacheSize: 250
        prepStmtCacheSqlLimit: 2048
```

---

## üé≠ Profiles

### application.properties Approach

**Separate files:**
```
application.properties          # Default
application-dev.properties      # Dev profile
application-test.properties     # Test profile
application-prod.properties     # Prod profile
```

**application-dev.properties:**
```properties
server.port=8081
spring.datasource.url=jdbc:h2:mem:devdb
logging.level.root=DEBUG
```

**application-prod.properties:**
```properties
server.port=8080
spring.datasource.url=jdbc:mysql://prod-server:3306/proddb
logging.level.root=ERROR
```

### application.yml Approach

**Single file with separators:**
```yaml
# Default configuration
spring:
  application:
    name: MyApp

server:
  port: 8080

---
# Dev profile
spring:
  config:
    activate:
      on-profile: dev
  datasource:
    url: jdbc:h2:mem:devdb

server:
  port: 8081

logging:
  level:
    root: DEBUG

---
# Prod profile
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    url: jdbc:mysql://prod-server:3306/proddb

logging:
  level:
    root: ERROR
```

**Or separate files:**
```
application.yml          # Default
application-dev.yml      # Dev profile
application-test.yml     # Test profile
application-prod.yml     # Prod profile
```

---

## üìö Multi-Document Files

### YAML Multi-Document Support

```yaml
# Default configuration
server:
  port: 8080

app:
  name: MyApplication

---
# Development profile
spring:
  config:
    activate:
      on-profile: dev

server:
  port: 8081

spring:
  datasource:
    url: jdbc:h2:mem:testdb

---
# Production profile
spring:
  config:
    activate:
      on-profile: prod

server:
  port: 80

spring:
  datasource:
    url: jdbc:mysql://prod:3306/db
```

### Properties Multi-Document

Not supported. Must use separate files:
- `application.properties`
- `application-dev.properties`
- `application-prod.properties`

---

## üìå Best Practices

### 1. Choose Based on Complexity

```properties
# ‚úÖ Simple config - use .properties
server.port=8080
app.name=MyApp
app.version=1.0.0
```

```yaml
# ‚úÖ Complex config - use .yml
spring:
  datasource:
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 30000
      data-source-properties:
        cachePrepStmts: true
        prepStmtCacheSize: 250
```

### 2. Consistent Indentation (YAML)

```yaml
# ‚úÖ Correct - 2 spaces
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/db
    username: root

# ‚ùå Wrong - mixed indentation
spring:
  datasource:
      url: jdbc:mysql://localhost:3306/db
   username: root
```

### 3. Use Quotes for Special Characters (YAML)

```yaml
# ‚úÖ Quote when needed
app:
  message: "Hello: World"  # Colon needs quotes
  path: "C:\\Users\\John"  # Backslash needs quotes
  value: "true"            # String "true", not boolean

# ‚ùå Without quotes (may cause issues)
app:
  message: Hello: World  # Syntax error
```

### 4. Profile-Specific Files

```
# ‚úÖ Clear separation
application.yml
application-dev.yml
application-test.yml
application-prod.yml

# ‚ùå One huge file with all profiles
application.yml  # Contains all profiles (hard to maintain)
```

### 5. Document Complex Configurations

```yaml
# ‚úÖ Well-documented
spring:
  datasource:
    # Connection pool settings
    hikari:
      maximum-pool-size: 10  # Max connections in pool
      minimum-idle: 2        # Min idle connections
      connection-timeout: 30000  # 30 seconds

# ‚ùå No documentation
spring:
  datasource:
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 30000
```

### 6. Avoid Mixing Formats

```
# ‚úÖ Choose one format
application.yml
application-dev.yml
application-prod.yml

# ‚ùå Don't mix
application.yml
application-dev.properties  # Confusing!
application-prod.yml
```

### 7. Use Environment Variables for Secrets

```yaml
# ‚úÖ Reference environment variables
spring:
  datasource:
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}

# ‚ùå Hardcode secrets
spring:
  datasource:
    username: admin
    password: secret123  # Security risk!
```

---

## üé§ Interview Questions

### Q1: Difference between application.properties and application.yml?
**Answer:**
- **application.properties**: Flat key-value pairs, simple syntax
- **application.yml**: Hierarchical YAML format, better for complex nested structures

### Q2: Which format is better for complex configurations?
**Answer:** YAML is better for complex nested configurations due to its hierarchical structure and reduced repetition. Properties is better for simple, flat configurations.

### Q3: Can you use both .properties and .yml together?
**Answer:** Yes, but not recommended. If both exist, Spring Boot loads both with .properties taking precedence.

### Q4: How to handle lists in application.properties?
**Answer:** Two ways:
```properties
# Index-based
app.servers[0]=server1
app.servers[1]=server2

# Comma-separated
app.servers=server1,server2
```

### Q5: What is the advantage of YAML multi-document files?
**Answer:** Multiple profiles can be defined in a single file using `---` separators, reducing file count.

### Q6: How to handle special characters in YAML?
**Answer:** Use quotes for strings containing special characters like `:`, `{`, `}`, `[`, `]`, `,`, `&`, `*`, `#`, `?`, `|`, `-`, `<`, `>`, `=`, `!`, `%`, `@`.

### Q7: What is the default configuration file name?
**Answer:** `application.properties` or `application.yml` in `src/main/resources`.

### Q8: How to activate a profile?
**Answer:**
```properties
# In application.properties
spring.profiles.active=dev

# Command line
--spring.profiles.active=dev

# Environment variable
SPRING_PROFILES_ACTIVE=dev
```

### Q9: YAML indentation rules?
**Answer:** Use spaces (not tabs), typically 2 or 4 spaces. Must be consistent throughout the file.

### Q10: Precedence when both files exist?
**Answer:** Properties defined in `application.properties` override those in `application.yml`.

---

## üìö Summary

### Key Differences

| Aspect | .properties | .yml |
|--------|------------|------|
| **Structure** | Flat | Hierarchical |
| **Syntax** | `key=value` | `key: value` |
| **Lists** | Indexed/comma | Natural syntax |
| **Nesting** | Dot notation | Indentation |
| **Readability** | Good for simple | Better for complex |
| **Multi-document** | No | Yes (`---`) |

### When to Use Each

**Use application.properties when:**
- Simple, flat configuration
- Team unfamiliar with YAML
- Avoiding indentation issues
- Legacy project compatibility

**Use application.yml when:**
- Complex nested structures
- Many hierarchical properties
- Better readability needed
- Multiple profiles in one file

### Conversion Example

**application.properties:**
```properties
server.port=8080
spring.datasource.url=jdbc:mysql://localhost:3306/db
spring.datasource.username=root
spring.datasource.password=secret
spring.jpa.hibernate.ddl-auto=update
app.name=MyApp
app.features[0]=feature1
app.features[1]=feature2
```

**application.yml:**
```yaml
server:
  port: 8080

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/db
    username: root
    password: secret
  jpa:
    hibernate:
      ddl-auto: update

app:
  name: MyApp
  features:
    - feature1
    - feature2
```

**Recommendation:** Use YAML for most Spring Boot projects due to better readability and structure.

**Next:** Externalized Configuration ‚Üí

