# üîí @ConfigurationProperties - Complete Guide

## üìã Table of Contents
- [Introduction](#introduction)
- [Basic Usage](#basic-usage)
- [Enabling ConfigurationProperties](#enabling-configurationproperties)
- [Constructor Binding](#constructor-binding)
- [Nested Properties](#nested-properties)
- [Validation](#validation)
- [Relaxed Binding](#relaxed-binding)
- [Collection and Map Properties](#collection-and-map-properties)
- [Duration and DataSize](#duration-and-datasize)
- [Third-Party Configuration](#third-party-configuration)
- [vs @Value](#vs-value)
- [Best Practices](#best-practices)
- [Interview Questions](#interview-questions)

---

## üéØ Introduction

`@ConfigurationProperties` provides **type-safe configuration** by binding external properties to Java objects.

### Benefits

- ‚úÖ **Type-safe**: Compile-time type checking
- ‚úÖ **Validation**: Built-in validation support
- ‚úÖ **Relaxed binding**: Flexible property names
- ‚úÖ **Organized**: Group related properties
- ‚úÖ **IDE support**: Auto-completion and navigation
- ‚úÖ **Metadata**: Generate configuration metadata

---

## üéØ Basic Usage

### Simple Example

```yaml
# application.yml
app:
  name: MyApplication
  version: 1.0.0
  max-users: 100
  enabled: true
```

```java
@Component
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private String name;
    private String version;
    private int maxUsers;
    private boolean enabled;
    
    // Getters and setters
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public String getVersion() {
        return version;
    }
    
    public void setVersion(String version) {
        this.version = version;
    }
    
    public int getMaxUsers() {
        return maxUsers;
    }
    
    public void setMaxUsers(int maxUsers) {
        this.maxUsers = maxUsers;
    }
    
    public boolean isEnabled() {
        return enabled;
    }
    
    public void setEnabled(boolean enabled) {
        this.enabled = enabled;
    }
}
```

### Using Properties

```java
@Service
public class AppService {
    
    private final AppProperties properties;
    
    public AppService(AppProperties properties) {
        this.properties = properties;
    }
    
    public void printConfig() {
        System.out.println("App Name: " + properties.getName());
        System.out.println("Version: " + properties.getVersion());
        System.out.println("Max Users: " + properties.getMaxUsers());
        System.out.println("Enabled: " + properties.isEnabled());
    }
}
```

---

## ‚öôÔ∏è Enabling ConfigurationProperties

### Method 1: @EnableConfigurationProperties

```java
@Configuration
@EnableConfigurationProperties(AppProperties.class)
public class AppConfig {
    // Configuration class
}

@ConfigurationProperties(prefix = "app")
public class AppProperties {
    // No @Component needed
    private String name;
    // ...
}
```

### Method 2: @Component

```java
@Component
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private String name;
    // ...
}
```

### Method 3: @ConfigurationPropertiesScan

```java
@SpringBootApplication
@ConfigurationPropertiesScan("com.example.config")
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}

// In com.example.config package
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    // No @Component needed
    private String name;
    // ...
}
```

### Method 4: @Bean Method

```java
@Configuration
public class AppConfig {
    
    @Bean
    @ConfigurationProperties(prefix = "app")
    public AppProperties appProperties() {
        return new AppProperties();
    }
}
```

---

## üèóÔ∏è Constructor Binding

Constructor binding creates **immutable** configuration classes.

### Basic Constructor Binding

```yaml
app:
  name: MyApp
  version: 1.0.0
  max-users: 100
```

```java
@ConfigurationProperties(prefix = "app")
@ConstructorBinding
public class AppProperties {
    
    private final String name;
    private final String version;
    private final int maxUsers;
    
    public AppProperties(String name, String version, int maxUsers) {
        this.name = name;
        this.version = version;
        this.maxUsers = maxUsers;
    }
    
    // Only getters, no setters (immutable)
    public String getName() {
        return name;
    }
    
    public String getVersion() {
        return version;
    }
    
    public int getMaxUsers() {
        return maxUsers;
    }
}
```

### With Default Values

```java
@ConfigurationProperties(prefix = "app")
@ConstructorBinding
public class AppProperties {
    
    private final String name;
    private final int maxUsers;
    
    public AppProperties(
            String name,
            @DefaultValue("100") int maxUsers) {
        this.name = name;
        this.maxUsers = maxUsers;
    }
    
    // Getters
}
```

### With Records (Java 16+)

```java
@ConfigurationProperties(prefix = "app")
public record AppProperties(
    String name,
    String version,
    @DefaultValue("100") int maxUsers,
    boolean enabled
) {
    // Immutable by default, no getters/setters needed
}
```

### Enabling Constructor Binding

```java
@Configuration
@EnableConfigurationProperties(AppProperties.class)
public class AppConfig {
}
```

---

## ü™∫ Nested Properties

### Single Level Nesting

```yaml
app:
  database:
    url: jdbc:mysql://localhost:3306/mydb
    username: admin
    password: secret
    max-connections: 20
```

```java
@Component
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private Database database;
    
    public Database getDatabase() {
        return database;
    }
    
    public void setDatabase(Database database) {
        this.database = database;
    }
    
    public static class Database {
        private String url;
        private String username;
        private String password;
        private int maxConnections;
        
        // Getters and setters
        public String getUrl() {
            return url;
        }
        
        public void setUrl(String url) {
            this.url = url;
        }
        
        public String getUsername() {
            return username;
        }
        
        public void setUsername(String username) {
            this.username = username;
        }
        
        public String getPassword() {
            return password;
        }
        
        public void setPassword(String password) {
            this.password = password;
        }
        
        public int getMaxConnections() {
            return maxConnections;
        }
        
        public void setMaxConnections(int maxConnections) {
            this.maxConnections = maxConnections;
        }
    }
}
```

### Multi-Level Nesting

```yaml
app:
  server:
    http:
      port: 8080
      timeout: 30s
    https:
      port: 8443
      enabled: true
      keystore:
        path: /etc/keystore.jks
        password: changeit
```

```java
@Component
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private Server server;
    
    public Server getServer() {
        return server;
    }
    
    public void setServer(Server server) {
        this.server = server;
    }
    
    public static class Server {
        private Http http;
        private Https https;
        
        // Getters and setters
        public Http getHttp() {
            return http;
        }
        
        public void setHttp(Http http) {
            this.http = http;
        }
        
        public Https getHttps() {
            return https;
        }
        
        public void setHttps(Https https) {
            this.https = https;
        }
        
        public static class Http {
            private int port;
            private Duration timeout;
            
            // Getters and setters
            public int getPort() {
                return port;
            }
            
            public void setPort(int port) {
                this.port = port;
            }
            
            public Duration getTimeout() {
                return timeout;
            }
            
            public void setTimeout(Duration timeout) {
                this.timeout = timeout;
            }
        }
        
        public static class Https {
            private int port;
            private boolean enabled;
            private Keystore keystore;
            
            // Getters and setters
            public int getPort() {
                return port;
            }
            
            public void setPort(int port) {
                this.port = port;
            }
            
            public boolean isEnabled() {
                return enabled;
            }
            
            public void setEnabled(boolean enabled) {
                this.enabled = enabled;
            }
            
            public Keystore getKeystore() {
                return keystore;
            }
            
            public void setKeystore(Keystore keystore) {
                this.keystore = keystore;
            }
            
            public static class Keystore {
                private String path;
                private String password;
                
                // Getters and setters
                public String getPath() {
                    return path;
                }
                
                public void setPath(String path) {
                    this.path = path;
                }
                
                public String getPassword() {
                    return password;
                }
                
                public void setPassword(String password) {
                    this.password = password;
                }
            }
        }
    }
}
```

---

## ‚úÖ Validation

### Bean Validation

```yaml
app:
  name: MyApp
  email: admin@example.com
  max-users: 100
  min-users: 1
  port: 8080
```

```java
@Component
@ConfigurationProperties(prefix = "app")
@Validated
public class AppProperties {
    
    @NotBlank(message = "App name is required")
    private String name;
    
    @Email(message = "Invalid email format")
    private String email;
    
    @Min(value = 1, message = "Max users must be at least 1")
    @Max(value = 1000, message = "Max users cannot exceed 1000")
    private int maxUsers;
    
    @Positive(message = "Min users must be positive")
    private int minUsers;
    
    @Min(1024)
    @Max(65535)
    private int port;
    
    // Getters and setters
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public String getEmail() {
        return email;
    }
    
    public void setEmail(String email) {
        this.email = email;
    }
    
    public int getMaxUsers() {
        return maxUsers;
    }
    
    public void setMaxUsers(int maxUsers) {
        this.maxUsers = maxUsers;
    }
    
    public int getMinUsers() {
        return minUsers;
    }
    
    public void setMinUsers(int minUsers) {
        this.minUsers = minUsers;
    }
    
    public int getPort() {
        return port;
    }
    
    public void setPort(int port) {
        this.port = port;
    }
}
```

### Nested Validation

```yaml
app:
  database:
    url: jdbc:mysql://localhost:3306/db
    username: admin
    password: secret123
```

```java
@Component
@ConfigurationProperties(prefix = "app")
@Validated
public class AppProperties {
    
    @Valid
    @NotNull
    private Database database;
    
    public Database getDatabase() {
        return database;
    }
    
    public void setDatabase(Database database) {
        this.database = database;
    }
    
    public static class Database {
        
        @NotBlank(message = "Database URL is required")
        @Pattern(regexp = "jdbc:.*", message = "Invalid JDBC URL")
        private String url;
        
        @NotBlank(message = "Username is required")
        @Size(min = 3, max = 50)
        private String username;
        
        @NotBlank(message = "Password is required")
        @Size(min = 8, message = "Password must be at least 8 characters")
        private String password;
        
        // Getters and setters
        public String getUrl() {
            return url;
        }
        
        public void setUrl(String url) {
            this.url = url;
        }
        
        public String getUsername() {
            return username;
        }
        
        public void setUsername(String username) {
            this.username = username;
        }
        
        public String getPassword() {
            return password;
        }
        
        public void setPassword(String password) {
            this.password = password;
        }
    }
}
```

### Custom Validation

```java
@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = PortRangeValidator.class)
public @interface ValidPortRange {
    String message() default "Invalid port range";
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
}

public class PortRangeValidator implements ConstraintValidator<ValidPortRange, AppProperties> {
    
    @Override
    public boolean isValid(AppProperties properties, ConstraintValidatorContext context) {
        if (properties.getMinPort() >= properties.getMaxPort()) {
            context.disableDefaultConstraintViolation();
            context.buildConstraintViolationWithTemplate(
                "Min port must be less than max port"
            ).addConstraintViolation();
            return false;
        }
        return true;
    }
}

@Component
@ConfigurationProperties(prefix = "app")
@Validated
@ValidPortRange
public class AppProperties {
    private int minPort;
    private int maxPort;
    
    // Getters and setters
}
```

---

## üîÄ Relaxed Binding

Spring Boot supports multiple naming conventions.

### Supported Formats

```yaml
# All these bind to the same property
app:
  max-users: 100        # Kebab case (recommended for YAML)
  maxUsers: 100         # Camel case
  max_users: 100        # Underscore notation
  MAX_USERS: 100        # Upper case
```

```properties
# Properties file
app.max-users=100
app.maxUsers=100
app.max_users=100
```

```bash
# Environment variable
export APP_MAX_USERS=100
export APP_MAXUSERS=100
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private int maxUsers;  // All formats above bind to this
    
    // Getter and setter
}
```

### List Property Formats

```yaml
# YAML array
app:
  servers:
    - server1
    - server2
    - server3
```

```properties
# Properties indexed
app.servers[0]=server1
app.servers[1]=server2
app.servers[2]=server3

# Properties comma-separated
app.servers=server1,server2,server3
```

```bash
# Environment variable
export APP_SERVERS=server1,server2,server3
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private List<String> servers;  // All formats work
    
    // Getter and setter
}
```

### Map Property Formats

```yaml
# YAML
app:
  settings:
    key1: value1
    key2: value2
```

```properties
# Properties
app.settings.key1=value1
app.settings.key2=value2
```

```bash
# Environment variable (limited support)
export APP_SETTINGS_KEY1=value1
export APP_SETTINGS_KEY2=value2
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private Map<String, String> settings;
    
    // Getter and setter
}
```

---

## üì¶ Collection and Map Properties

### Lists

```yaml
app:
  servers:
    - name: server1
      host: localhost
      port: 8080
    - name: server2
      host: 192.168.1.100
      port: 8081
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private List<Server> servers;
    
    public List<Server> getServers() {
        return servers;
    }
    
    public void setServers(List<Server> servers) {
        this.servers = servers;
    }
    
    public static class Server {
        private String name;
        private String host;
        private int port;
        
        // Getters and setters
        public String getName() {
            return name;
        }
        
        public void setName(String name) {
            this.name = name;
        }
        
        public String getHost() {
            return host;
        }
        
        public void setHost(String host) {
            this.host = host;
        }
        
        public int getPort() {
            return port;
        }
        
        public void setPort(int port) {
            this.port = port;
        }
    }
}
```

### Maps

```yaml
app:
  connections:
    primary:
      url: jdbc:mysql://localhost:3306/primary
      username: primary_user
    secondary:
      url: jdbc:mysql://localhost:3306/secondary
      username: secondary_user
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private Map<String, Connection> connections;
    
    public Map<String, Connection> getConnections() {
        return connections;
    }
    
    public void setConnections(Map<String, Connection> connections) {
        this.connections = connections;
    }
    
    public static class Connection {
        private String url;
        private String username;
        
        // Getters and setters
        public String getUrl() {
            return url;
        }
        
        public void setUrl(String url) {
            this.url = url;
        }
        
        public String getUsername() {
            return username;
        }
        
        public void setUsername(String username) {
            this.username = username;
        }
    }
}
```

### Sets

```yaml
app:
  allowed-origins:
    - http://localhost:3000
    - http://localhost:4200
    - https://app.example.com
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private Set<String> allowedOrigins;
    
    public Set<String> getAllowedOrigins() {
        return allowedOrigins;
    }
    
    public void setAllowedOrigins(Set<String> allowedOrigins) {
        this.allowedOrigins = allowedOrigins;
    }
}
```

---

## ‚è±Ô∏è Duration and DataSize

### Duration Properties

```yaml
app:
  cache-ttl: 5m              # 5 minutes
  session-timeout: 30m       # 30 minutes
  connection-timeout: 10s    # 10 seconds
  retry-delay: 500ms         # 500 milliseconds
  backup-interval: 24h       # 24 hours
  retention-period: 7d       # 7 days
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private Duration cacheTtl;
    private Duration sessionTimeout;
    private Duration connectionTimeout;
    private Duration retryDelay;
    private Duration backupInterval;
    private Duration retentionPeriod;
    
    // Getters and setters
    public Duration getCacheTtl() {
        return cacheTtl;
    }
    
    public void setCacheTtl(Duration cacheTtl) {
        this.cacheTtl = cacheTtl;
    }
    
    // Other getters/setters...
    
    // Usage
    public long getCacheTtlInSeconds() {
        return cacheTtl.toSeconds();
    }
}
```

### Supported Duration Units

| Unit | Example | Description |
|------|---------|-------------|
| `ns` | `500ns` | Nanoseconds |
| `us` | `500us` | Microseconds |
| `ms` | `500ms` | Milliseconds |
| `s` | `30s` | Seconds |
| `m` | `5m` | Minutes |
| `h` | `2h` | Hours |
| `d` | `7d` | Days |

### DataSize Properties

```yaml
app:
  max-file-size: 10MB        # 10 megabytes
  buffer-size: 512KB         # 512 kilobytes
  cache-size: 2GB            # 2 gigabytes
  min-free-space: 1TB        # 1 terabyte
```

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private DataSize maxFileSize;
    private DataSize bufferSize;
    private DataSize cacheSize;
    private DataSize minFreeSpace;
    
    // Getters and setters
    public DataSize getMaxFileSize() {
        return maxFileSize;
    }
    
    public void setMaxFileSize(DataSize maxFileSize) {
        this.maxFileSize = maxFileSize;
    }
    
    // Usage
    public long getMaxFileSizeInBytes() {
        return maxFileSize.toBytes();
    }
    
    public long getMaxFileSizeInMB() {
        return maxFileSize.toMegabytes();
    }
}
```

### Supported DataSize Units

| Unit | Example | Description |
|------|---------|-------------|
| `B` | `1024B` | Bytes |
| `KB` | `512KB` | Kilobytes |
| `MB` | `10MB` | Megabytes |
| `GB` | `2GB` | Gigabytes |
| `TB` | `1TB` | Terabytes |

---

## üîå Third-Party Configuration

Bind properties to third-party classes that you cannot annotate.

### Using @Bean

```java
@Configuration
public class CacheConfig {
    
    @Bean
    @ConfigurationProperties(prefix = "cache")
    public CacheProperties cacheProperties() {
        return new CacheProperties();  // Third-party class
    }
}
```

```yaml
cache:
  ttl: 300
  max-size: 1000
  provider: redis
```

### Complete Example

```java
// Third-party library class (cannot modify)
package com.thirdparty;

public class ThirdPartyConfig {
    private String apiKey;
    private String endpoint;
    private int timeout;
    
    // Getters and setters
}
```

```java
// Your configuration
@Configuration
public class AppConfig {
    
    @Bean
    @ConfigurationProperties(prefix = "third-party")
    public ThirdPartyConfig thirdPartyConfig() {
        return new ThirdPartyConfig();
    }
}
```

```yaml
# application.yml
third-party:
  api-key: ${THIRD_PARTY_API_KEY}
  endpoint: https://api.thirdparty.com
  timeout: 30
```

---

## üÜö vs @Value

### Comparison Table

| Feature | @ConfigurationProperties | @Value |
|---------|-------------------------|---------|
| **Type Safety** | ‚úÖ Compile-time checking | ‚ùå Runtime only |
| **Validation** | ‚úÖ Built-in support | ‚ùå Manual validation |
| **Relaxed Binding** | ‚úÖ Yes | ‚ùå No |
| **SpEL Support** | ‚ùå No | ‚úÖ Yes |
| **Metadata** | ‚úÖ Auto-generated | ‚ùå No |
| **IDE Support** | ‚úÖ Auto-completion | ‚ö†Ô∏è Limited |
| **Complex Types** | ‚úÖ Easy | ‚ö†Ô∏è Difficult |
| **Multiple Properties** | ‚úÖ Grouped | ‚ùå Individual |
| **Immutability** | ‚úÖ Constructor binding | ‚ùå No |
| **Best For** | Complex configurations | Simple values |

### @ConfigurationProperties Example

```java
@ConfigurationProperties(prefix = "app")
@Validated
public class AppProperties {
    
    @NotNull
    private String name;
    
    @Min(1)
    private int maxUsers;
    
    @Valid
    private Database database;
    
    // Getters and setters
    
    public static class Database {
        @NotBlank
        private String url;
        
        // Getters and setters
    }
}
```

### @Value Example

```java
@Component
public class AppComponent {
    
    @Value("${app.name}")
    private String name;
    
    @Value("${app.max-users}")
    private int maxUsers;
    
    @Value("${app.database.url}")
    private String databaseUrl;
}
```

### When to Use What

**Use @ConfigurationProperties when:**
- Multiple related properties
- Complex nested structures
- Need validation
- Want type safety
- Need IDE support

**Use @Value when:**
- Single property
- Simple value injection
- Need SpEL expressions
- Default values with expressions

---

## üìå Best Practices

### 1. Use Prefix for Grouping

```java
// ‚úÖ Good - grouped with prefix
@ConfigurationProperties(prefix = "app.security")
public class SecurityProperties {
    private String secretKey;
    private int tokenExpiry;
}

// ‚ùå Bad - no grouping
@ConfigurationProperties
public class Properties {
    private String appSecuritySecretKey;
    private int appSecurityTokenExpiry;
}
```

### 2. Enable Validation

```java
// ‚úÖ Always validate
@ConfigurationProperties(prefix = "app")
@Validated
public class AppProperties {
    
    @NotBlank
    private String name;
    
    @Min(1)
    @Max(1000)
    private int maxUsers;
}
```

### 3. Use Constructor Binding for Immutability

```java
// ‚úÖ Immutable
@ConfigurationProperties(prefix = "app")
@ConstructorBinding
public class AppProperties {
    
    private final String name;
    private final int maxUsers;
    
    public AppProperties(String name, int maxUsers) {
        this.name = name;
        this.maxUsers = maxUsers;
    }
    
    // Only getters
}
```

### 4. Provide Defaults

```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private String name = "MyApp";           // Default
    private int maxUsers = 100;              // Default
    private Duration timeout = Duration.ofMinutes(5);  // Default
}
```

### 5. Use Duration and DataSize Types

```java
// ‚úÖ Type-safe
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private Duration timeout;      // Supports 30s, 5m, etc.
    private DataSize maxSize;      // Supports 10MB, 2GB, etc.
}

// ‚ùå Manual parsing needed
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private String timeout;        // "30s" as string
    private String maxSize;        // "10MB" as string
}
```

### 6. Document Properties

```java
/**
 * Application configuration properties.
 */
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    /**
     * Application name.
     * Default: MyApp
     */
    private String name = "MyApp";
    
    /**
     * Maximum concurrent users.
     * Must be between 1 and 1000.
     */
    @Min(1)
    @Max(1000)
    private int maxUsers = 100;
}
```

### 7. Generate Configuration Metadata

Add dependency:

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-configuration-processor</artifactId>
    <optional>true</optional>
</dependency>
```

Generates `META-INF/spring-configuration-metadata.json` for IDE auto-completion.

---

## üé§ Interview Questions

### Q1: What is @ConfigurationProperties?
**Answer:** Annotation for type-safe configuration binding that maps external properties to Java objects with validation and relaxed binding support.

### Q2: Difference between @ConfigurationProperties and @Value?
**Answer:**
- **@ConfigurationProperties**: Type-safe, validation, relaxed binding, grouped properties, no SpEL
- **@Value**: Simple injection, SpEL support, no validation, individual properties

### Q3: How to enable @ConfigurationProperties?
**Answer:**
1. `@EnableConfigurationProperties(AppProperties.class)`
2. `@Component` on properties class
3. `@ConfigurationPropertiesScan`
4. `@Bean` method with annotation

### Q4: What is constructor binding?
**Answer:** Creating immutable configuration classes by binding properties through constructor instead of setters. Requires `@ConstructorBinding` annotation.

### Q5: How to validate @ConfigurationProperties?
**Answer:** Add `@Validated` and use Bean Validation annotations (`@NotNull`, `@Min`, `@Max`, `@Email`, etc.).

### Q6: What is relaxed binding?
**Answer:** Ability to bind different property name formats (`max-users`, `maxUsers`, `MAX_USERS`) to the same field.

### Q7: How to handle nested properties?
**Answer:** Use nested static classes:
```java
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    private Database database;
    
    public static class Database {
        private String url;
    }
}
```

### Q8: How to bind Duration and DataSize?
**Answer:**
```java
private Duration timeout;  // Binds "30s", "5m"
private DataSize maxSize;  // Binds "10MB", "2GB"
```

### Q9: Can you bind properties to third-party classes?
**Answer:** Yes, using `@Bean` method:
```java
@Bean
@ConfigurationProperties(prefix = "cache")
public CacheConfig cacheConfig() {
    return new CacheConfig();
}
```

### Q10: How to generate configuration metadata?
**Answer:** Add `spring-boot-configuration-processor` dependency. It generates metadata for IDE auto-completion.

---

## üìö Summary

### Key Features

- **Type-safe**: Compile-time checking
- **Validation**: Built-in validation support
- **Relaxed binding**: Flexible property names
- **Nested properties**: Support for complex structures
- **Collections**: Lists, Sets, Maps
- **Duration/DataSize**: Special type support
- **Immutability**: Constructor binding
- **Metadata**: IDE auto-completion

### Complete Example

```yaml
# application.yml
app:
  name: MyApplication
  max-users: 100
  session-timeout: 30m
  max-file-size: 10MB
  
  database:
    url: jdbc:mysql://localhost:3306/db
    username: admin
    password: secret
    pool:
      min-size: 5
      max-size: 20
  
  servers:
    - name: server1
      host: localhost
      port: 8080
    - name: server2
      host: 192.168.1.100
      port: 8081
```

```java
@Configuration
@EnableConfigurationProperties(AppProperties.class)
public class AppConfig {
}

@ConfigurationProperties(prefix = "app")
@Validated
public class AppProperties {
    
    @NotBlank
    private String name;
    
    @Min(1)
    @Max(1000)
    private int maxUsers;
    
    private Duration sessionTimeout;
    private DataSize maxFileSize;
    
    @Valid
    @NotNull
    private Database database;
    
    @NotEmpty
    private List<Server> servers;
    
    // Getters and setters
    
    public static class Database {
        @NotBlank
        private String url;
        
        @NotBlank
        private String username;
        
        @NotBlank
        private String password;
        
        @Valid
        private Pool pool;
        
        // Getters and setters
        
        public static class Pool {
            @Min(1)
            private int minSize;
            
            @Min(1)
            private int maxSize;
            
            // Getters and setters
        }
    }
    
    public static class Server {
        @NotBlank
        private String name;
        
        @NotBlank
        private String host;
        
        @Min(1024)
        @Max(65535)
        private int port;
        
        // Getters and setters
    }
}
```

**Next:** @Value Annotation ‚Üí

