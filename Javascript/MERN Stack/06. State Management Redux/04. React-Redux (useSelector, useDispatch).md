# React-Redux (useSelector, useDispatch)

## What is React-Redux?

**React-Redux** is the official React binding for Redux. It lets React components interact with the Redux store.

### Installation

```bash
npm install react-redux
```

---

## Provider Component

The `<Provider>` makes the Redux store available to all components.

### Setup

```jsx
import { createStore } from 'redux';
import { Provider } from 'react-redux';
import rootReducer from './reducers';
import App from './App';

const store = createStore(rootReducer);

function Root() {
  return (
    <Provider store={store}>
      <App />
    </Provider>
  );
}
```

---

## useSelector Hook

`useSelector` extracts data from the Redux store state.

### Basic Usage

```jsx
import { useSelector } from 'react-redux';

function Counter() {
  const count = useSelector(state => state.count);
  
  return <div>Count: {count}</div>;
}
```

### Selecting Multiple Values

```jsx
function UserProfile() {
  // Select entire user object
  const user = useSelector(state => state.user);
  
  return (
    <div>
      <p>{user.name}</p>
      <p>{user.email}</p>
      <p>{user.age}</p>
    </div>
  );
}
```

### Selector Functions

```jsx
// Define selectors
const selectUser = state => state.user;
const selectActiveTodos = state => state.todos.filter(t => !t.completed);

// Use in components
function TodoList() {
  const activeTodos = useSelector(selectActiveTodos);
  
  return (
    <ul>
      {activeTodos.map(todo => (
        <li key={todo.id}>{todo.text}</li>
      ))}
    </ul>
  );
}
```

---

## useDispatch Hook

`useDispatch` returns the dispatch function to dispatch actions.

### Basic Usage

```jsx
import { useDispatch } from 'react-redux';

function Counter() {
  const dispatch = useDispatch();
  
  const increment = () => {
    dispatch({ type: 'INCREMENT' });
  };
  
  return <button onClick={increment}>+</button>;
}
```

### With Action Creators

```jsx
import { useDispatch } from 'react-redux';
import { increment, decrement } from './actions';

function Counter() {
  const dispatch = useDispatch();
  
  return (
    <div>
      <button onClick={() => dispatch(increment())}>+</button>
      <button onClick={() => dispatch(decrement())}>-</button>
    </div>
  );
}
```

---

## Complete Example: Todo App

```jsx
import { Provider, useSelector, useDispatch } from 'react-redux';
import { createStore } from 'redux';

// Actions
const addTodo = (text) => ({
  type: 'ADD_TODO',
  payload: { id: Date.now(), text, completed: false }
});

// Reducer
function todoReducer(state = { todos: [] }, action) {
  switch (action.type) {
    case 'ADD_TODO':
      return {
        ...state,
        todos: [...state.todos, action.payload]
      };
    case 'TOGGLE_TODO':
      return {
        ...state,
        todos: state.todos.map(todo =>
          todo.id === action.payload
            ? { ...todo, completed: !todo.completed }
            : todo
        )
      };
    default:
      return state;
  }
}

// Store
const store = createStore(todoReducer);

// Components
function TodoInput() {
  const [text, setText] = useState('');
  const dispatch = useDispatch();

  const handleSubmit = (e) => {
    e.preventDefault();
    if (text.trim()) {
      dispatch(addTodo(text));
      setText('');
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        value={text}
        onChange={(e) => setText(e.target.value)}
      />
      <button type=\"submit\">Add</button>
    </form>
  );
}

function TodoList() {
  const todos = useSelector(state => state.todos);
  const dispatch = useDispatch();

  return (
    <ul>
      {todos.map(todo => (
        <li key={todo.id}>
          <input
            type=\"checkbox\"
            checked={todo.completed}
            onChange={() => dispatch({ type: 'TOGGLE_TODO', payload: todo.id })}
          />
          <span>{todo.text}</span>
        </li>
      ))}
    </ul>
  );
}

function App() {
  return (
    <Provider store={store}>
      <div>
        <h1>Todo App</h1>
        <TodoInput />
        <TodoList />
      </div>
    </Provider>
  );
}
```

---

## Interview Questions

### Q1: What is React-Redux?
**Answer**: React-Redux is the official React binding for Redux. It provides hooks (useSelector, useDispatch) and components (Provider) that connect React components to the Redux store.

### Q2: What does the Provider component do?
**Answer**: Provider makes the Redux store available to all nested components using React Context.

### Q3: What is useSelector?
**Answer**: useSelector extracts data from the Redux store. It takes a selector function and returns the selected value, re-rendering when it changes.

### Q4: What is useDispatch?
**Answer**: useDispatch returns the store's dispatch function for dispatching actions.

---

## Best Practices

1. **Use Provider at root** - Wrap entire app
2. **Extract selectors** - Reusable selector functions
3. **Keep components small** - Single responsibility
4. **Use useCallback** for dispatch callbacks
5. **Type with TypeScript** - Better DX

---

## Summary

- **React-Redux** connects React to Redux
- **Provider** makes store available
- **useSelector** extracts data from store
- **useDispatch** gets dispatch function
- Create **custom hooks** for reusability

