# Template Literals

Template literals provide an easier way to create strings with embedded expressions and multi-line content.

---

## Basic Syntax

Use backticks `` ` `` instead of quotes.

```javascript
// Old way
const message = "Hello, World!";

// Template literal
const message = `Hello, World!`;
```

---

## String Interpolation

Embed expressions using `${expression}`.

```javascript
const name = "John";
const age = 30;

// Old way
const message = "My name is " + name + " and I'm " + age + " years old.";

// Template literal
const message = `My name is ${name} and I'm ${age} years old.`;
```

### Expression Evaluation
```javascript
const a = 10;
const b = 20;

console.log(`Sum: ${a + b}`);           // "Sum: 30"
console.log(`Product: ${a * b}`);       // "Product: 200"
console.log(`Uppercase: ${name.toUpperCase()}`);  // "Uppercase: JOHN"
```

### Function Calls
```javascript
function getGreeting(name) {
  return `Hello, ${name}!`;
}

console.log(`${getGreeting("Alice")}`);  // "Hello, Alice!"
```

### Complex Expressions
```javascript
const user = { name: "John", premium: true };

console.log(`Status: ${user.premium ? "Premium" : "Free"}`);
console.log(`Items: ${items.length > 0 ? items.join(", ") : "None"}`);
```

---

## Multi-line Strings

Template literals preserve line breaks.

```javascript
// Old way
const html = "<div>\n" +
             "  <h1>Title</h1>\n" +
             "  <p>Content</p>\n" +
             "</div>";

// Template literal
const html = `
  <div>
    <h1>Title</h1>
    <p>Content</p>
  </div>
`;

// SQL query
const query = `
  SELECT *
  FROM users
  WHERE age > 18
  ORDER BY name
`;

// Email template
const email = `
  Hi ${name},
  
  Thanks for signing up!
  
  Best regards,
  Team
`;
```

---

## Nesting Templates

```javascript
const user = { name: "John", skills: ["JS", "React", "Node"] };

const profile = `
  User: ${user.name}
  Skills: ${user.skills.map(skill => `<li>${skill}</li>`).join('')}
`;
```

---

## Tagged Templates

Advanced feature - process template literals with a function.

```javascript
function highlight(strings, ...values) {
  return strings.reduce((result, str, i) => {
    return result + str + (values[i] ? `<mark>${values[i]}</mark>` : '');
  }, '');
}

const name = "John";
const age = 30;
const result = highlight`User ${name} is ${age} years old`;
// "User <mark>John</mark> is <mark>30</mark> years old"
```

### Practical Example: SQL Escaping
```javascript
function sql(strings, ...values) {
  return strings.reduce((query, str, i) => {
    const value = values[i];
    const escaped = typeof value === 'string' 
      ? value.replace(/'/g, "''") 
      : value;
    return query + str + (escaped !== undefined ? escaped : '');
  }, '');
}

const user = "O'Brien";
const query = sql`SELECT * FROM users WHERE name = '${user}'`;
// Safely escapes quotes
```

---

## Common Use Cases

### HTML Generation
```javascript
const user = { name: "John", age: 30 };

const card = `
  <div class="user-card">
    <h2>${user.name}</h2>
    <p>Age: ${user.age}</p>
  </div>
`;
```

### Dynamic URLs
```javascript
const userId = 123;
const endpoint = `https://api.example.com/users/${userId}`;

const url = `${baseUrl}/api/v${version}/users/${id}?format=json`;
```

### Error Messages
```javascript
const fileName = "data.json";
const lineNumber = 42;

throw new Error(`Parse error in ${fileName} at line ${lineNumber}`);
```

### Logging
```javascript
console.log(`[${new Date().toISOString()}] User ${userId} logged in`);
console.log(`Processing ${items.length} items...`);
```

### Conditional Content
```javascript
const isAdmin = true;
const menu = `
  <nav>
    <a href="/">Home</a>
    <a href="/profile">Profile</a>
    ${isAdmin ? '<a href="/admin">Admin</a>' : ''}
  </nav>
`;
```

---

## Escaping Backticks

```javascript
const message = `This is a backtick: \``;
const code = `Use \`const\` instead of \`var\``;
```

---

## Best Practices

1. **Use for string interpolation**
   ```javascript
   // ✓ Clear and readable
   `Hello, ${name}!`
   
   // ✗ Harder to read
   "Hello, " + name + "!"
   ```

2. **Multi-line strings**
   ```javascript
   // ✓ Maintains formatting
   const html = `
     <div>
       <p>Content</p>
     </div>
   `;
   ```

3. **Avoid for simple strings**
   ```javascript
   // ✗ Unnecessary
   const msg = `Hello`;
   
   // ✓ Use regular string
   const msg = "Hello";
   ```

4. **Watch indentation in multi-line**
   ```javascript
   // Includes leading spaces
   const text = `
       This has spaces
   `;
   
   // Better
   const text = `
   This is flush left
   `.trim();
   ```

---

## Template Literals vs String Concatenation

```javascript
// String concatenation
const old = "Hello " + name + ", you have " + count + " messages.";

// Template literal
const new = `Hello ${name}, you have ${count} messages.`;

// Complex example
const profile = 
  "Name: " + user.name + "\n" +
  "Age: " + user.age + "\n" +
  "Email: " + user.email;

const profile = `
  Name: ${user.name}
  Age: ${user.age}
  Email: ${user.email}
`;
```

---

## Key Takeaways

- Use **backticks** `` ` `` instead of quotes
- **Interpolate** with `${expression}`
- **Multi-line** strings preserve formatting
- **Tagged templates** for custom processing
- More **readable** than concatenation
- Perfect for **HTML, URLs, messages**
- Watch **indentation** in multi-line strings