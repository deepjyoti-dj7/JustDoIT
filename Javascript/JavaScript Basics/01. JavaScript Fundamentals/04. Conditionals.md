# Conditionals

Conditionals allow you to execute different code based on whether a condition is true or false. They control the flow of your program.

---

## if Statement

Executes code only if condition is true.

```javascript
if (condition) {
  // code runs if condition is true
}

// Examples
if (age >= 18) {
  console.log("You can vote");
}

if (temperature > 30) {
  console.log("It's hot outside");
}

if (isLoggedIn) {
  showDashboard();
}
```

---

## if-else Statement

Provides alternative code when condition is false.

```javascript
if (condition) {
  // runs if true
} else {
  // runs if false
}

// Examples
if (score >= 50) {
  console.log("Pass");
} else {
  console.log("Fail");
}

if (hour < 12) {
  console.log("Good morning");
} else {
  console.log("Good afternoon");
}
```

---

## if-else if-else Chain

Test multiple conditions in sequence.

```javascript
if (condition1) {
  // runs if condition1 is true
} else if (condition2) {
  // runs if condition2 is true
} else if (condition3) {
  // runs if condition3 is true
} else {
  // runs if all conditions are false
}

// Grading system
if (score >= 90) {
  console.log("Grade: A");
} else if (score >= 80) {
  console.log("Grade: B");
} else if (score >= 70) {
  console.log("Grade: C");
} else if (score >= 60) {
  console.log("Grade: D");
} else {
  console.log("Grade: F");
}

// Time-based greeting
let hour = new Date().getHours();
if (hour < 12) {
  console.log("Good morning");
} else if (hour < 18) {
  console.log("Good afternoon");
} else {
  console.log("Good evening");
}
```

---

## Ternary Operator

Inline if-else for simple conditions.

```javascript
condition ? valueIfTrue : valueIfFalse

// Basic usage
let status = age >= 18 ? "adult" : "minor";
let message = isLoggedIn ? "Welcome back" : "Please log in";

// In variable assignment
let max = a > b ? a : b;
let min = a < b ? a : b;
let access = hasPermission ? "granted" : "denied";

// In console/return
console.log(score >= 50 ? "Pass" : "Fail");
return count > 0 ? count : 0;

// Nested ternary (use sparingly - can be hard to read)
let grade = score >= 90 ? "A" : 
            score >= 80 ? "B" : 
            score >= 70 ? "C" : "F";

// Practical example
let plural = count === 1 ? "" : "s";
console.log(`${count} item${plural}`);
```

**When to use:**
- ✓ Simple true/false assignments
- ✓ Inline conditions in JSX/templates
- ✗ Complex logic (use if-else instead)
- ✗ Multiple statements (use if-else instead)

---

## switch Statement

Better than long if-else chains for multiple specific values.

```javascript
switch (expression) {
  case value1:
    // code for value1
    break;
  case value2:
    // code for value2
    break;
  case value3:
    // code for value3
    break;
  default:
    // code if no match
}

// Day of week example
switch (day) {
  case "Monday":
    console.log("Start of work week");
    break;
  case "Tuesday":
  case "Wednesday":
  case "Thursday":
    console.log("Midweek");
    break;
  case "Friday":
    console.log("Almost weekend!");
    break;
  case "Saturday":
  case "Sunday":
    console.log("Weekend!");
    break;
  default:
    console.log("Invalid day");
}

// HTTP status codes
switch (statusCode) {
  case 200:
    console.log("Success");
    break;
  case 404:
    console.log("Not found");
    break;
  case 500:
    console.log("Server error");
    break;
  default:
    console.log("Unknown status");
}

// Fall-through behavior (intentional - no break)
switch (month) {
  case 1:
  case 3:
  case 5:
  case 7:
  case 8:
  case 10:
  case 12:
    days = 31;
    break;
  case 4:
  case 6:
  case 9:
  case 11:
    days = 30;
    break;
  case 2:
    days = 28;
    break;
}
```

**Important:**
- Always use `break` (unless intentional fall-through)
- `default` is optional but recommended
- Cases use strict equality (`===`)

---

## Truthy and Falsy

Values can be used directly as conditions.

### Falsy Values (only 6)
```javascript
if (false) { }      // false
if (0) { }          // 0
if ("") { }         // empty string
if (null) { }       // null
if (undefined) { }  // undefined
if (NaN) { }        // NaN

// None of these blocks run
```

### Truthy Values (everything else)
```javascript
if (true) { }       // true
if (1) { }          // any non-zero number
if ("hello") { }    // non-empty string
if ([]) { }         // arrays (even empty!)
if ({}) { }         // objects (even empty!)
if (function(){}) { } // functions

// All these blocks run
```

### Practical Usage
```javascript
// Check if variable exists/has value
if (userName) {
  console.log("Welcome " + userName);
} else {
  console.log("Welcome Guest");
}

// Check array has items
if (items.length) {
  displayItems(items);
} else {
  showEmptyMessage();
}

// Check object property exists
if (user.email) {
  sendEmail(user.email);
}

// Negate to check for absence
if (!user) {
  redirectToLogin();
}

if (!errors.length) {
  console.log("No errors found");
}
```

---

## Short-circuit Evaluation

Logical operators can control execution.

### AND (&&) - Guard Pattern
```javascript
// Only executes right side if left is truthy
user && user.login();  // Calls login only if user exists
isAdmin && deleteRecord();  // Deletes only if admin

// Chain multiple conditions
user && user.isActive && user.hasPermission && performAction();

// Common pattern
let street = user && user.address && user.address.street;
// Modern alternative: optional chaining
let street = user?.address?.street;
```

### OR (||) - Default Values
```javascript
// Uses first truthy value or last value
let name = userName || "Guest";
let theme = userTheme || defaultTheme;
let port = process.env.PORT || 3000;

// Function default parameters (old way)
function greet(name) {
  name = name || "Friend";
  console.log("Hello, " + name);
}
```

### Nullish Coalescing (??) - Strict Defaults
```javascript
// Only replaces null or undefined
let count = value ?? 0;

// Difference from ||
let a = 0 || 10;        // 10 (0 is falsy)
let b = 0 ?? 10;        // 0 (0 is not null/undefined)

let c = "" || "text";   // "text" (empty string is falsy)
let d = "" ?? "text";   // "" (empty string is not null/undefined)

// Practical use
function setConfig(options) {
  this.timeout = options.timeout ?? 5000;  // 0 is valid
  this.retries = options.retries ?? 3;     // 0 is valid
}
```

---

## Early Returns

Exit function early to avoid nesting.

```javascript
// ✗ Avoid deep nesting
function processUser(user) {
  if (user) {
    if (user.isActive) {
      if (user.hasPermission) {
        // do something
      }
    }
  }
}

// ✓ Use early returns
function processUser(user) {
  if (!user) return;
  if (!user.isActive) return;
  if (!user.hasPermission) return;
  
  // do something - less nested, easier to read
}

// ✓ With error messages
function withdraw(amount) {
  if (amount <= 0) {
    return "Invalid amount";
  }
  if (amount > balance) {
    return "Insufficient funds";
  }
  
  balance -= amount;
  return "Success";
}
```

---

## Best Practices

1. **Use strict equality**
   ```javascript
   if (x === 5) { }     // ✓ Good
   if (x == 5) { }      // ✗ Avoid
   ```

2. **Keep conditions simple**
   ```javascript
   // ✓ Clear
   let isEligible = age >= 18 && hasLicense;
   if (isEligible) { }
   
   // ✗ Hard to read
   if (age >= 18 && hasLicense && !suspended && verified) { }
   ```

3. **Avoid deep nesting**
   ```javascript
   // ✓ Use early returns
   if (!condition1) return;
   if (!condition2) return;
   // main logic
   
   // ✗ Deep nesting
   if (condition1) {
     if (condition2) {
       if (condition3) {
         // deeply nested
       }
     }
   }
   ```

4. **Choose right conditional**
   - `if-else`: 2 outcomes
   - `if-else if-else`: Multiple conditions to test
   - `switch`: Many specific values
   - Ternary: Simple inline condition

---

## Key Takeaways

- **if-else** for two branches
- **if-else if-else** for multiple conditions
- **switch** for many specific values
- **Ternary** for simple inline conditions
- Only **6 falsy values** - everything else is truthy
- **&&** guards execution (left must be truthy)
- **||** provides fallback (first truthy wins)
- **??** only checks null/undefined
- **Early returns** reduce nesting
