# Default vs Named Exports

Understanding the difference between default and named exports in ES6 modules.

---

## Named Exports

Export multiple values from a module.

### Syntax

```javascript
// math.js
export const PI = 3.14159;
export const E = 2.71828;

export function add(a, b) {
  return a + b;
}

export function subtract(a, b) {
  return a - b;
}

export class Calculator {
  multiply(a, b) {
    return a * b;
  }
}
```

### Importing Named Exports

```javascript
// Must use exact names
import { PI, add, Calculator } from './math.js';

console.log(PI);           // 3.14159
console.log(add(5, 3));    // 8

const calc = new Calculator();
```

### Import All Named Exports

```javascript
import * as math from './math.js';

console.log(math.PI);
console.log(math.add(5, 3));
const calc = new math.Calculator();
```

---

## Default Exports

One default export per module (recommended for main functionality).

### Syntax

```javascript
// logger.js
export default function log(message) {
  console.log(`[LOG] ${message}`);
}

// User.js
export default class User {
  constructor(name) {
    this.name = name;
  }
}

// config.js
export default {
  api: 'https://api.example.com',
  timeout: 5000
};
```

### Importing Default Exports

```javascript
// Can use any name
import log from './logger.js';
import Logger from './logger.js';  // Same thing
import anyName from './logger.js'; // Also same

import User from './User.js';
import config from './config.js';
```

---

## Key Differences

### Named Exports

```javascript
// ✓ Multiple exports
export const a = 1;
export const b = 2;
export const c = 3;

// ✓ Must use exact name
import { a, b } from './module.js';

// ✓ Can rename with 'as'
import { a as alpha } from './module.js';
```

### Default Exports

```javascript
// ✓ One per module
export default class MyClass {}

// ✓ Can use any name when importing
import MyClass from './module.js';
import AnyName from './module.js';

// ✗ Can't have multiple defaults
export default const a = 1;  // Error
export default const b = 2;  // Error
```

---

## Comparison Table

| Feature | Named Export | Default Export |
|---------|--------------|----------------|
| **Number** | Multiple per module | One per module |
| **Import name** | Must match export name | Any name allowed |
| **Syntax** | `export const x` | `export default x` |
| **Import** | `import { x }` | `import x` |
| **Rename** | `import { x as y }` | Not needed (any name) |
| **Use case** | Utilities, constants | Main class/function |

---

## Combining Both

You can have both named and default exports.

```javascript
// utils.js
export const VERSION = '1.0.0';
export const API_URL = 'https://api.example.com';

export function helper() {
  return "Helper function";
}

export default class Utils {
  static main() {
    return "Main utility";
  }
}

// app.js
import Utils, { VERSION, API_URL, helper } from './utils.js';

console.log(Utils.main());
console.log(VERSION);
console.log(helper());
```

---

## When to Use Each

### Use Named Exports When:

**1. Multiple related exports**
```javascript
// math.js
export const PI = 3.14;
export const E = 2.71;
export function sin(x) { }
export function cos(x) { }
```

**2. Utility functions**
```javascript
// stringUtils.js
export function capitalize(str) { }
export function reverse(str) { }
export function truncate(str, len) { }
```

**3. Constants**
```javascript
// constants.js
export const MAX_SIZE = 1000;
export const MIN_SIZE = 10;
export const DEFAULT_COLOR = 'blue';
```

**4. Re-exports (barrel pattern)**
```javascript
// components/index.js
export { Button } from './Button.js';
export { Input } from './Input.js';
export { Modal } from './Modal.js';
```

---

### Use Default Export When:

**1. Single main class**
```javascript
// User.js
export default class User {
  constructor(name) {
    this.name = name;
  }
}
```

**2. Single main function**
```javascript
// createApp.js
export default function createApp(config) {
  return new App(config);
}
```

**3. Configuration object**
```javascript
// config.js
export default {
  api: 'https://api.example.com',
  timeout: 5000
};
```

**4. React components (common pattern)**
```javascript
// MyComponent.jsx
export default function MyComponent() {
  return <div>Component</div>;
}
```

---

## Import Patterns

### Named Exports Only

```javascript
// module.js
export const a = 1;
export const b = 2;

// app.js
import { a, b } from './module.js';
import { a as alpha, b as beta } from './module.js';
import * as module from './module.js';
```

### Default Export Only

```javascript
// module.js
export default class MyClass {}

// app.js
import MyClass from './module.js';
import SomeName from './module.js';  // Any name works
```

### Both Together

```javascript
// module.js
export const helper = () => {};
export default class Main {}

// app.js
import Main, { helper } from './module.js';

// Or
import { default as Main, helper } from './module.js';
```

---

## Renaming

### Named Exports

```javascript
// Rename on export
const a = 1;
const b = 2;
export { a as alpha, b as beta };

// Rename on import
import { alpha as a, beta as b } from './module.js';
```

### Default Exports

```javascript
// No need to rename (use any name)
export default class User {}

import User from './module.js';
import Person from './module.js';  // Different name, same thing
```

---

## Re-exporting

### Re-export Named

```javascript
// Re-export specific
export { funcA, funcB } from './module.js';

// Re-export with rename
export { funcA as functionA } from './module.js';

// Re-export all
export * from './module.js';
```

### Re-export Default

```javascript
// Re-export default as named
export { default as MyClass } from './module.js';

// Re-export default as default
export { default } from './module.js';
```

### Complex Re-exports

```javascript
// users/index.js
export { createUser, deleteUser } from './userService.js';
export { UserModel } from './userModel.js';
export { default as UserValidator } from './userValidator.js';

// Now import from barrel
import { createUser, UserModel, UserValidator } from './users/index.js';
```

---

## Practical Examples

### Utility Module (Named)

```javascript
// arrayUtils.js
export function unique(arr) {
  return [...new Set(arr)];
}

export function flatten(arr) {
  return arr.flat(Infinity);
}

export function chunk(arr, size) {
  const chunks = [];
  for (let i = 0; i < arr.length; i += size) {
    chunks.push(arr.slice(i, i + size));
  }
  return chunks;
}

// app.js
import { unique, chunk } from './arrayUtils.js';

console.log(unique([1, 2, 2, 3]));
console.log(chunk([1, 2, 3, 4, 5], 2));
```

### Service Module (Default + Named)

```javascript
// userService.js
const BASE_URL = 'https://api.example.com';

export async function fetchUser(id) {
  const response = await fetch(`${BASE_URL}/users/${id}`);
  return await response.json();
}

export async function createUser(data) {
  const response = await fetch(`${BASE_URL}/users`, {
    method: 'POST',
    body: JSON.stringify(data)
  });
  return await response.json();
}

export default class UserService {
  static async getAll() {
    const response = await fetch(`${BASE_URL}/users`);
    return await response.json();
  }
}

// app.js
import UserService, { fetchUser, createUser } from './userService.js';

// Use default
const users = await UserService.getAll();

// Use named
const user = await fetchUser(123);
```

### Component Library (Named)

```javascript
// components/index.js
export { Button } from './Button.js';
export { Input } from './Input.js';
export { Modal } from './Modal.js';
export { Card } from './Card.js';
export { Spinner } from './Spinner.js';

// app.js
import { Button, Input, Modal } from './components/index.js';
```

---

## Best Practices

### 1. Be Consistent

```javascript
// ✓ Pick a pattern and stick with it
// Option A: Default for main export
export default class User {}
export const helper = () => {};

// Option B: All named
export class User {}
export const helper = () => {};
```

### 2. Use Named for Utilities

```javascript
// ✓ Named exports for utility collections
export function capitalize(str) {}
export function reverse(str) {}
export function truncate(str, len) {}
```

### 3. Use Default for Main Class/Function

```javascript
// ✓ Default for primary export
export default class Database {
  connect() {}
}
```

### 4. Explicit is Better

```javascript
// ✓ Clear what you're importing
import { fetchUser, createUser } from './api.js';

// ✗ Less clear
import * as api from './api.js';
api.fetchUser();
```

### 5. Avoid Default Objects for Multiple Items

```javascript
// ✗ Makes tree-shaking harder
export default {
  funcA: () => {},
  funcB: () => {},
  funcC: () => {}
};

// ✓ Use named exports
export const funcA = () => {};
export const funcB = () => {};
export const funcC = () => {};
```

---

## Common Mistakes

### Mixing Syntaxes

```javascript
// ✗ Can't do this
export default const myFunc = () => {};

// ✓ Two separate statements
const myFunc = () => {};
export default myFunc;

// Or inline
export default function myFunc() {}
```

### Wrong Import Syntax

```javascript
// If module uses named export
export const func = () => {};

// ✗ Wrong
import func from './module.js';  // Gets undefined

// ✓ Correct
import { func } from './module.js';
```

### Multiple Defaults

```javascript
// ✗ Can't have multiple defaults
export default const a = 1;
export default const b = 2;  // Error

// ✓ Use named exports
export const a = 1;
export const b = 2;
```

---

## Migration Tips

### From CommonJS

```javascript
// Before (CommonJS)
module.exports = MyClass;
module.exports.helper = helperFunc;

// After (ES6 - Option 1: Default + Named)
export default MyClass;
export const helper = helperFunc;

// After (ES6 - Option 2: All Named)
export { MyClass, helper };
```

---

## Key Takeaways

- **Named exports**: Multiple exports, exact names required
- **Default export**: One per module, any import name
- **Named syntax**: `export const x` → `import { x }`
- **Default syntax**: `export default x` → `import x`
- **Can combine** both in same module
- **Use named** for utilities, constants, multiple items
- **Use default** for main class, function, component
- **Named enables** better tree-shaking
- **Default allows** flexible import naming
- **Be consistent** within your codebase
- **Prefer named** for better refactoring support
- **Include both** when appropriate (main + helpers)
