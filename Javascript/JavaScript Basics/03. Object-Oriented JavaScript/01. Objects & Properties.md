# Objects & Properties

Objects are the fundamental building blocks of JavaScript. They store collections of key-value pairs and are the basis of object-oriented programming in JavaScript.

---

## Creating Objects

### Object Literal (Most Common)
```javascript
const person = {
  name: "John",
  age: 30,
  city: "New York"
};
```

### Object Constructor
```javascript
const person = new Object();
person.name = "John";
person.age = 30;
person.city = "New York";
```

### Object.create()
```javascript
const personPrototype = {
  greet() {
    return `Hello, I'm ${this.name}`;
  }
};

const person = Object.create(personPrototype);
person.name = "John";
person.age = 30;
```

### Constructor Function
```javascript
function Person(name, age) {
  this.name = name;
  this.age = age;
}

const person = new Person("John", 30);
```

---

## Accessing Properties

### Dot Notation
```javascript
const user = {
  name: "John",
  age: 30
};

console.log(user.name);  // "John"
console.log(user.age);   // 30
```

### Bracket Notation
```javascript
const user = {
  name: "John",
  age: 30,
  "favorite color": "blue"
};

console.log(user["name"]);           // "John"
console.log(user["favorite color"]); // "blue" (spaces require brackets)

// Dynamic property access
const prop = "age";
console.log(user[prop]);  // 30
```

---

## Adding & Modifying Properties

```javascript
const user = {
  name: "John"
};

// Add new property
user.age = 30;
user["city"] = "New York";

// Modify existing property
user.name = "Jane";

// Add property with expression
const key = "role";
user[key] = "admin";

console.log(user);
// { name: "Jane", age: 30, city: "New York", role: "admin" }
```

---

## Deleting Properties

```javascript
const user = {
  name: "John",
  age: 30,
  temp: "delete me"
};

delete user.temp;
console.log(user.temp);  // undefined

// Check if property exists
console.log("temp" in user);  // false
console.log("name" in user);  // true
```

---

## Property Attributes

Every property has attributes that control its behavior.

### Property Descriptors
```javascript
const user = {
  name: "John"
};

// Get property descriptor
const descriptor = Object.getOwnPropertyDescriptor(user, "name");
console.log(descriptor);
// {
//   value: "John",
//   writable: true,      // Can be changed
//   enumerable: true,    // Shows in loops
//   configurable: true   // Can be deleted/reconfigured
// }
```

### Defining Properties
```javascript
const user = {};

Object.defineProperty(user, "name", {
  value: "John",
  writable: false,      // Read-only
  enumerable: true,
  configurable: false
});

user.name = "Jane";     // Fails silently (or throws in strict mode)
console.log(user.name); // "John"

delete user.name;       // Fails (configurable: false)
console.log(user.name); // "John"
```

### Multiple Properties
```javascript
const user = {};

Object.defineProperties(user, {
  name: {
    value: "John",
    writable: true,
    enumerable: true
  },
  age: {
    value: 30,
    writable: false,
    enumerable: true
  },
  id: {
    value: 12345,
    enumerable: false  // Won't show in loops
  }
});

console.log(user.name);  // "John"
console.log(user.age);   // 30
console.log(user.id);    // 12345

for (let key in user) {
  console.log(key);  // Only "name" and "age" (id is non-enumerable)
}
```

---

## Checking Properties

### in Operator
```javascript
const user = {
  name: "John",
  age: 30
};

console.log("name" in user);    // true
console.log("email" in user);   // false
console.log("toString" in user); // true (inherited from prototype)
```

### hasOwnProperty()
```javascript
const user = {
  name: "John"
};

console.log(user.hasOwnProperty("name"));     // true
console.log(user.hasOwnProperty("toString")); // false (inherited)
```

### undefined Check
```javascript
const user = {
  name: "John",
  age: undefined
};

console.log(user.age);           // undefined
console.log(user.email);         // undefined
console.log("age" in user);      // true (property exists)
console.log("email" in user);    // false (property doesn't exist)
```

---

## Iterating Over Properties

### for...in Loop
```javascript
const user = {
  name: "John",
  age: 30,
  city: "New York"
};

for (let key in user) {
  console.log(`${key}: ${user[key]}`);
}
// name: John
// age: 30
// city: New York
```

### Object.keys()
```javascript
const keys = Object.keys(user);
console.log(keys);  // ["name", "age", "city"]

keys.forEach(key => {
  console.log(`${key}: ${user[key]}`);
});
```

### Object.values()
```javascript
const values = Object.values(user);
console.log(values);  // ["John", 30, "New York"]
```

### Object.entries()
```javascript
const entries = Object.entries(user);
console.log(entries);
// [["name", "John"], ["age", 30], ["city", "New York"]]

entries.forEach(([key, value]) => {
  console.log(`${key}: ${value}`);
});
```

---

## Property Shorthands (ES6+)

### Property Shorthand
```javascript
const name = "John";
const age = 30;

// Old way
const user1 = {
  name: name,
  age: age
};

// ES6 shorthand
const user2 = {
  name,
  age
};
```

### Method Shorthand
```javascript
// Old way
const user = {
  name: "John",
  greet: function() {
    return `Hello, ${this.name}`;
  }
};

// ES6 shorthand
const user = {
  name: "John",
  greet() {
    return `Hello, ${this.name}`;
  }
};
```

### Computed Property Names
```javascript
const prop = "name";
const value = "John";

const user = {
  [prop]: value,
  [`get${prop.charAt(0).toUpperCase() + prop.slice(1)}`]() {
    return this[prop];
  }
};

console.log(user.name);      // "John"
console.log(user.getName()); // "John"
```

---

## Nested Objects

```javascript
const user = {
  name: "John",
  address: {
    street: "123 Main St",
    city: "New York",
    coordinates: {
      lat: 40.7128,
      lng: -74.0060
    }
  },
  contacts: {
    email: "john@example.com",
    phone: "555-1234"
  }
};

// Accessing nested properties
console.log(user.address.city);              // "New York"
console.log(user.address.coordinates.lat);   // 40.7128
console.log(user.contacts.email);            // "john@example.com"

// Optional chaining for safe access
console.log(user?.address?.zipCode);  // undefined (no error)
```

---

## Copying Objects

### Shallow Copy
```javascript
const original = {
  name: "John",
  age: 30,
  address: { city: "New York" }
};

// Spread operator
const copy1 = { ...original };

// Object.assign()
const copy2 = Object.assign({}, original);

// Modifying nested objects affects both
copy1.address.city = "Boston";
console.log(original.address.city);  // "Boston" ⚠️ (shared reference)
```

### Deep Copy
```javascript
// Using JSON (limitations: loses functions, dates, undefined)
const deepCopy1 = JSON.parse(JSON.stringify(original));

// Manual deep copy for simple objects
function deepCopy(obj) {
  if (obj === null || typeof obj !== "object") return obj;
  
  const copy = Array.isArray(obj) ? [] : {};
  
  for (let key in obj) {
    if (obj.hasOwnProperty(key)) {
      copy[key] = deepCopy(obj[key]);
    }
  }
  
  return copy;
}

const deepCopy2 = deepCopy(original);
```

---

## Object Methods

### Object.freeze()
```javascript
const user = {
  name: "John",
  age: 30
};

Object.freeze(user);

user.age = 31;           // Fails silently
user.city = "New York";  // Fails silently
delete user.name;        // Fails silently

console.log(user);  // { name: "John", age: 30 } (unchanged)
console.log(Object.isFrozen(user));  // true
```

### Object.seal()
```javascript
const user = {
  name: "John",
  age: 30
};

Object.seal(user);

user.age = 31;           // ✓ Works (can modify)
user.city = "New York";  // ✗ Fails (can't add)
delete user.name;        // ✗ Fails (can't delete)

console.log(user);  // { name: "John", age: 31 }
console.log(Object.isSealed(user));  // true
```

### Object.preventExtensions()
```javascript
const user = {
  name: "John",
  age: 30
};

Object.preventExtensions(user);

user.age = 31;           // ✓ Works (can modify)
user.city = "New York";  // ✗ Fails (can't add)
delete user.name;        // ✓ Works (can delete)

console.log(Object.isExtensible(user));  // false
```

---

## Practical Use Cases

### 1. Configuration Objects
```javascript
const config = {
  api: {
    baseURL: "https://api.example.com",
    timeout: 5000,
    headers: {
      "Content-Type": "application/json"
    }
  },
  features: {
    darkMode: true,
    notifications: false
  }
};
```

### 2. Data Modeling
```javascript
const product = {
  id: 1,
  name: "Laptop",
  price: 999.99,
  specs: {
    cpu: "Intel i7",
    ram: "16GB",
    storage: "512GB SSD"
  },
  tags: ["electronics", "computers"],
  inStock: true
};
```

### 3. State Management
```javascript
const appState = {
  user: null,
  isAuthenticated: false,
  theme: "light",
  notifications: [],
  
  login(userData) {
    this.user = userData;
    this.isAuthenticated = true;
  },
  
  logout() {
    this.user = null;
    this.isAuthenticated = false;
  }
};
```

---

## Best Practices

1. **Use const for objects you won't reassign**
   ```javascript
   const user = { name: "John" };
   user.age = 30;  // ✓ Can modify properties
   ```

2. **Prefer dot notation for known properties**
   ```javascript
   user.name      // ✓ Clear and concise
   user["name"]   // Use only when necessary
   ```

3. **Use hasOwnProperty to check own properties**
   ```javascript
   if (user.hasOwnProperty("name")) { }
   ```

4. **Freeze objects that shouldn't change**
   ```javascript
   const CONSTANTS = Object.freeze({ MAX_SIZE: 100 });
   ```

5. **Use descriptive property names**
   ```javascript
   // ✓ Good
   const user = { firstName: "John", lastName: "Doe" };
   
   // ✗ Avoid
   const user = { fn: "John", ln: "Doe" };
   ```

---

## Key Takeaways

- Objects store collections of key-value pairs (properties)
- Properties can be accessed with dot or bracket notation
- Property attributes control writable, enumerable, and configurable behavior
- Use Object.keys(), Object.values(), Object.entries() to iterate
- Spread operator creates shallow copies
- Object.freeze() makes objects immutable
- Objects are passed by reference, not by value
- Properties can be dynamically added, modified, or deleted
