# Regex Syntax

Regular expressions (regex) are patterns used to match character combinations in strings.

---

## Creating Regular Expressions

### Literal Notation

```javascript
const regex = /pattern/;
const regexWithFlags = /pattern/gi;
```

### Constructor

```javascript
const regex = new RegExp('pattern');
const regexWithFlags = new RegExp('pattern', 'gi');

// Useful for dynamic patterns
const searchTerm = 'hello';
const regex = new RegExp(searchTerm, 'i');
```

---

## Basic Patterns

### Literal Characters

```javascript
const regex = /hello/;

console.log(regex.test('hello world'));  // true
console.log(regex.test('Hello world'));  // false (case-sensitive)
```

### Metacharacters (Special Meaning)

```
. ^ $ * + ? { } [ ] \ | ( )
```

Must be escaped with `\` to match literally:

```javascript
const regex = /\./;     // Matches literal dot
const regex2 = /\*/;    // Matches literal asterisk
const regex3 = /\\/;    // Matches literal backslash
```

---

## Character Classes

### Dot (.) - Any Character

```javascript
const regex = /h.t/;

console.log(regex.test('hat'));    // true
console.log(regex.test('hot'));    // true
console.log(regex.test('h t'));    // true
console.log(regex.test('ht'));     // false (needs one character)
```

### Character Set [...]

```javascript
const regex = /[aeiou]/;  // Matches any vowel

console.log(regex.test('apple'));   // true
console.log(regex.test('sky'));     // false

const digits = /[0-9]/;   // Matches any digit
const letters = /[a-z]/;  // Matches lowercase letters
const mixed = /[a-zA-Z0-9]/;  // Matches alphanumeric
```

### Negated Character Set [^...]

```javascript
const notVowel = /[^aeiou]/;  // Matches anything except vowels

console.log(notVowel.test('a'));    // false
console.log(notVowel.test('b'));    // true
```

### Ranges

```javascript
const lowercase = /[a-z]/;
const uppercase = /[A-Z]/;
const digits = /[0-9]/;
const alphanumeric = /[a-zA-Z0-9]/;
const hexDigit = /[0-9a-fA-F]/;
```

---

## Shorthand Character Classes

### Digit \d

```javascript
const regex = /\d/;  // Equivalent to [0-9]

console.log(regex.test('5'));      // true
console.log(regex.test('a'));      // false
console.log('abc123'.match(/\d+/));  // ['123']
```

### Non-digit \D

```javascript
const regex = /\D/;  // Equivalent to [^0-9]

console.log(regex.test('a'));      // true
console.log(regex.test('5'));      // false
```

### Word Character \w

```javascript
const regex = /\w/;  // Equivalent to [a-zA-Z0-9_]

console.log(regex.test('a'));      // true
console.log(regex.test('_'));      // true
console.log(regex.test('@'));      // false
```

### Non-word Character \W

```javascript
const regex = /\W/;  // Equivalent to [^a-zA-Z0-9_]

console.log(regex.test('@'));      // true
console.log(regex.test('a'));      // false
```

### Whitespace \s

```javascript
const regex = /\s/;  // Space, tab, newline, etc.

console.log(regex.test(' '));      // true
console.log(regex.test('\t'));     // true
console.log(regex.test('\n'));     // true
console.log(regex.test('a'));      // false
```

### Non-whitespace \S

```javascript
const regex = /\S/;  // Not whitespace

console.log(regex.test('a'));      // true
console.log(regex.test(' '));      // false
```

---

## Anchors

### Start ^

```javascript
const regex = /^hello/;

console.log(regex.test('hello world'));    // true
console.log(regex.test('say hello'));      // false
```

### End $

```javascript
const regex = /world$/;

console.log(regex.test('hello world'));    // true
console.log(regex.test('world hello'));    // false
```

### Word Boundary \b

```javascript
const regex = /\bcat\b/;

console.log(regex.test('cat'));           // true
console.log(regex.test('the cat sat'));   // true
console.log(regex.test('concatenate'));   // false
```

### Non-word Boundary \B

```javascript
const regex = /\Bcat/;

console.log(regex.test('concatenate'));   // true
console.log(regex.test('cat'));           // false
```

---

## Alternation

### OR Operator |

```javascript
const regex = /cat|dog/;

console.log(regex.test('cat'));    // true
console.log(regex.test('dog'));    // true
console.log(regex.test('bird'));   // false

const color = /red|green|blue/;
console.log('The sky is blue'.match(color));  // ['blue']
```

---

## Grouping and Capturing

### Parentheses ()

```javascript
const regex = /(cat|dog) food/;

console.log(regex.test('cat food'));   // true
console.log(regex.test('dog food'));   // true

// Capturing
const match = 'cat food'.match(/(cat) (food)/);
console.log(match[0]);  // 'cat food' (full match)
console.log(match[1]);  // 'cat' (first group)
console.log(match[2]);  // 'food' (second group)
```

### Non-capturing Group (?:...)

```javascript
const regex = /(?:cat|dog) food/;

const match = 'cat food'.match(regex);
console.log(match[0]);  // 'cat food'
console.log(match[1]);  // undefined (not captured)
```

---

## Backreferences

Reference previously captured groups.

```javascript
// Match repeated words
const regex = /\b(\w+)\s+\1\b/;

console.log(regex.test('hello hello'));    // true
console.log(regex.test('hello world'));    // false

// Match HTML tags
const tag = /<(\w+)>.*<\/\1>/;
console.log(tag.test('<div>content</div>'));   // true
console.log(tag.test('<div>content</span>'));  // false
```

---

## Lookahead and Lookbehind

### Positive Lookahead (?=...)

```javascript
// Match 'foo' only if followed by 'bar'
const regex = /foo(?=bar)/;

console.log(regex.test('foobar'));    // true
console.log(regex.test('foobaz'));    // false

// Password: must contain digit
const password = /^(?=.*\d).{8,}$/;
console.log(password.test('abc12345'));   // true
console.log(password.test('abcdefgh'));   // false
```

### Negative Lookahead (?!...)

```javascript
// Match 'foo' only if NOT followed by 'bar'
const regex = /foo(?!bar)/;

console.log(regex.test('foobaz'));    // true
console.log(regex.test('foobar'));    // false
```

### Positive Lookbehind (?<=...)

```javascript
// Match digit only if preceded by $
const regex = /(?<=\$)\d+/;

console.log('$100'.match(regex));     // ['100']
console.log('100'.match(regex));      // null
```

### Negative Lookbehind (?<!...)

```javascript
// Match digit only if NOT preceded by $
const regex = /(?<!\$)\d+/;

console.log('100'.match(regex));      // ['100']
console.log('$100'.match(regex));     // null
```

---

## Special Characters

### Escape Sequences

```javascript
\n  // Newline
\r  // Carriage return
\t  // Tab
\0  // Null character
\v  // Vertical tab
\f  // Form feed
```

### Unicode

```javascript
// Match specific Unicode character
const regex = /\u0041/;  // Matches 'A'

// Match Unicode category
const emoji = /\p{Emoji}/u;
console.log(emoji.test('ðŸ˜€'));  // true
```

---

## Practical Examples

### Email Validation (Simple)

```javascript
const email = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

console.log(email.test('user@example.com'));    // true
console.log(email.test('invalid.email'));       // false
```

### Phone Number

```javascript
const phone = /^\d{3}-\d{3}-\d{4}$/;

console.log(phone.test('123-456-7890'));  // true
console.log(phone.test('1234567890'));    // false
```

### URL

```javascript
const url = /^https?:\/\/.+/;

console.log(url.test('https://example.com'));  // true
console.log(url.test('ftp://example.com'));    // false
```

### HTML Tag

```javascript
const tag = /<([a-z]+)([^>]*)>/i;

const match = '<div class="container">'.match(tag);
console.log(match[1]);  // 'div'
console.log(match[2]);  // ' class="container"'
```

### Extract Numbers

```javascript
const text = 'Price: $19.99, Quantity: 5';
const numbers = text.match(/\d+\.?\d*/g);

console.log(numbers);  // ['19.99', '5']
```

---

## Testing and Execution

### test() Method

```javascript
const regex = /hello/;
console.log(regex.test('hello world'));  // true
```

### exec() Method

```javascript
const regex = /(\d+)/;
const match = regex.exec('abc123def');

console.log(match[0]);     // '123' (full match)
console.log(match[1]);     // '123' (captured group)
console.log(match.index);  // 3 (start position)
```

### String Methods

```javascript
const text = 'hello world';

// match()
console.log(text.match(/\w+/g));  // ['hello', 'world']

// replace()
console.log(text.replace(/world/, 'there'));  // 'hello there'

// search()
console.log(text.search(/world/));  // 6 (index)

// split()
console.log(text.split(/\s/));  // ['hello', 'world']
```

---

## Common Patterns Cheat Sheet

```javascript
// Email (simple)
/^[^\s@]+@[^\s@]+\.[^\s@]+$/

// URL
/^https?:\/\/.+/

// Phone (US)
/^\d{3}-\d{3}-\d{4}$/

// Zip code (US)
/^\d{5}(-\d{4})?$/

// Credit card (basic)
/^\d{4}-?\d{4}-?\d{4}-?\d{4}$/

// Date (YYYY-MM-DD)
/^\d{4}-\d{2}-\d{2}$/

// Time (HH:MM)
/^([01]\d|2[0-3]):([0-5]\d)$/

// Hex color
/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/

// Username (alphanumeric + underscore)
/^[a-zA-Z0-9_]{3,16}$/

// Strong password
/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/
```

---

## Best Practices

1. **Keep it simple** - complex regex is hard to maintain
2. **Test thoroughly** - use tools like regex101.com
3. **Comment complex patterns** - explain what it does
4. **Use raw strings** when possible
5. **Validate input** - regex isn't perfect for all validation
6. **Consider performance** - complex patterns can be slow

---

## Key Takeaways

- **Literal**: `/pattern/` or `new RegExp('pattern')`
- **.** matches any character
- **[...]** character set
- **\d, \w, \s** shorthand character classes
- **^, $** start and end anchors
- **+, *, ?** quantifiers
- **|** alternation (OR)
- **()** grouping and capturing
- **(?=...)** lookahead
- **\1, \2** backreferences
- **Flags**: g, i, m, s, u, y
- **Test** patterns before using in production
