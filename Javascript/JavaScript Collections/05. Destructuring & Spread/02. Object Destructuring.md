# Object Destructuring

## Basic Destructuring

### Extract Properties
```javascript
const person = {name: 'John', age: 30, city: 'NYC'};

const {name, age} = person;
console.log(name, age);  // 'John' 30

// Order doesn't matter
const {city, name: personName} = person;
console.log(city, personName);  // 'NYC' 'John'
```

### Single Property
```javascript
const user = {id: 1, username: 'john_doe', email: 'john@example.com'};

const {username} = user;
console.log(username);  // 'john_doe'
```

## Renaming Variables

### Alias Properties
```javascript
const person = {name: 'John', age: 30};

const {name: personName, age: personAge} = person;
console.log(personName, personAge);  // 'John' 30

// Original property names unchanged
console.log(person.name);  // 'John'
```

### Avoid Name Conflicts
```javascript
const user = {id: 1, name: 'John'};
const product = {id: 2, name: 'Laptop'};

const {id: userId, name: userName} = user;
const {id: productId, name: productName} = product;

console.log(userId, productId);  // 1 2
```

## Default Values

### Provide Defaults
```javascript
const person = {name: 'John'};

const {name, age = 25, city = 'Unknown'} = person;
console.log(name, age, city);  // 'John' 25 'Unknown'
```

### With Renaming
```javascript
const user = {username: 'john'};

const {username: name, role = 'guest'} = user;
console.log(name, role);  // 'john' 'guest'
```

### Undefined vs Null
```javascript
const obj = {a: undefined, b: null};

const {a = 1, b = 2} = obj;
console.log(a, b);  // 1 null (only undefined triggers default)
```

## Nested Destructuring

### Nested Objects
```javascript
const user = {
  name: 'John',
  address: {
    city: 'NYC',
    zip: '10001'
  }
};

const {name, address: {city, zip}} = user;
console.log(name, city, zip);  // 'John' 'NYC' '10001'

// Note: address variable doesn't exist
// console.log(address);  // ReferenceError
```

### Deep Nesting
```javascript
const data = {
  user: {
    profile: {
      name: 'John',
      contact: {
        email: 'john@example.com'
      }
    }
  }
};

const {user: {profile: {name, contact: {email}}}} = data;
console.log(name, email);  // 'John' 'john@example.com'
```

### With Defaults
```javascript
const user = {
  name: 'John',
  address: {}
};

const {
  name,
  address: {city = 'Unknown', zip = '00000'} = {}
} = user;

console.log(name, city, zip);  // 'John' 'Unknown' '00000'
```

## Rest in Objects

### Collect Remaining Properties
```javascript
const person = {name: 'John', age: 30, city: 'NYC', country: 'USA'};

const {name, ...rest} = person;
console.log(name);  // 'John'
console.log(rest);  // {age: 30, city: 'NYC', country: 'USA'}
```

### Extract Specific, Keep Rest
```javascript
const config = {
  host: 'localhost',
  port: 8080,
  ssl: true,
  cache: true,
  timeout: 5000
};

const {host, port, ...options} = config;
console.log(host, port);    // 'localhost' 8080
console.log(options);       // {ssl: true, cache: true, timeout: 5000}
```

### Remove Properties
```javascript
const user = {id: 1, name: 'John', password: 'secret', email: 'john@example.com'};

// Remove password
const {password, ...safeUser} = user;
console.log(safeUser);  // {id: 1, name: 'John', email: 'john@example.com'}
```

## Function Parameters

### Destructure Arguments
```javascript
function greet({name, age}) {
  console.log(`Hello ${name}, age ${age}`);
}

greet({name: 'John', age: 30});  // Hello John, age 30
```

### With Defaults
```javascript
function configure({
  host = 'localhost',
  port = 8080,
  ssl = false
} = {}) {
  console.log({host, port, ssl});
}

configure({host: 'example.com', port: 443, ssl: true});
configure({port: 3000});  // host and ssl use defaults
configure();  // All use defaults
```

### Named Parameters Pattern
```javascript
function createUser({
  name,
  email,
  role = 'user',
  active = true
}) {
  return {name, email, role, active, createdAt: new Date()};
}

const user = createUser({
  name: 'John',
  email: 'john@example.com'
});
```

### Extract Specific Props
```javascript
function updateUser(userId, {name, email, ...otherFields}) {
  console.log('Updating:', userId);
  console.log('Name:', name);
  console.log('Email:', email);
  console.log('Other:', otherFields);
}

updateUser(1, {
  name: 'John',
  email: 'john@example.com',
  age: 30,
  city: 'NYC'
});
```

## Practical Examples

### API Response Handling
```javascript
const response = {
  status: 200,
  data: {
    user: {id: 1, name: 'John'},
    token: 'abc123'
  },
  meta: {timestamp: Date.now()}
};

const {
  status,
  data: {user, token},
  meta: {timestamp}
} = response;

console.log(status, user, token, timestamp);
```

### React Props
```javascript
function UserCard({user: {name, email, avatar}, onDelete}) {
  return `
    <div>
      <img src="${avatar}" />
      <h2>${name}</h2>
      <p>${email}</p>
      <button onclick="${onDelete}">Delete</button>
    </div>
  `;
}
```

### Configuration Objects
```javascript
function init({
  apiUrl = '/api',
  timeout = 5000,
  retries = 3,
  auth: {token, type = 'Bearer'} = {}
} = {}) {
  console.log({apiUrl, timeout, retries, token, type});
}

init({
  apiUrl: '/v1/api',
  auth: {token: 'abc123'}
});
```

### Combining with Arrays
```javascript
const data = {
  user: 'John',
  scores: [85, 90, 78, 92]
};

const {user, scores: [first, second, ...rest]} = data;
console.log(user, first, second, rest);
// 'John' 85 90 [78, 92]
```

### Loop Through Objects
```javascript
const users = [
  {id: 1, name: 'John', age: 30},
  {id: 2, name: 'Jane', age: 25},
  {id: 3, name: 'Bob', age: 35}
];

users.forEach(({name, age}) => {
  console.log(`${name} is ${age} years old`);
});

const names = users.map(({name}) => name);
console.log(names);  // ['John', 'Jane', 'Bob']
```

### Module Imports
```javascript
// import {useState, useEffect, useMemo} from 'react';
// const {Router, Route, Link} = require('react-router');
```

## Key Takeaways

- **Object destructuring** extracts properties into variables
- Use **colons** for renaming: `{name: newName}`
- Provide **defaults** with `=` (triggers on undefined)
- **Rest pattern** `...rest` collects remaining properties
- **Nested destructuring** works with nested objects
- Perfect for **function parameters** (named parameters pattern)
- Order doesn't matter (uses property names)
- Can combine with **array destructuring**
- Common in React, APIs, configuration
- More readable than `obj.prop1`, `obj.prop2` repeatedly