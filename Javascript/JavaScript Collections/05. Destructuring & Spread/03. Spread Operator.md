# Spread Operator

## Array Spread

### Copying Arrays
```javascript
const original = [1, 2, 3];
const copy = [...original];
copy.push(4);
console.log(original);  // [1, 2, 3]
console.log(copy);      // [1, 2, 3, 4]
```

### Merging Arrays
```javascript
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];
const merged = [...arr1, ...arr2];
console.log(merged);  // [1, 2, 3, 4, 5, 6]

// Insert in middle
const combined = [...arr1, 3.5, ...arr2];
```

### Converting Iterables
```javascript
const str = 'hello';
const chars = [...str];  // ['h', 'e', 'l', 'l', 'o']

const set = new Set([1, 2, 3]);
const arr = [...set];  // [1, 2, 3]

const map = new Map([['a', 1], ['b', 2]]);
const entries = [...map];  // [['a', 1], ['b', 2]]
```

## Object Spread

### Copying Objects
```javascript
const original = {a: 1, b: 2};
const copy = {...original};
copy.c = 3;
console.log(original);  // {a: 1, b: 2}
console.log(copy);      // {a: 1, b: 2, c: 3}
```

### Merging Objects
```javascript
const obj1 = {a: 1, b: 2};
const obj2 = {c: 3, d: 4};
const merged = {...obj1, ...obj2};
console.log(merged);  // {a: 1, b: 2, c: 3, d: 4}

// Later properties override
const obj3 = {a: 1, b: 2};
const obj4 = {b: 3, c: 4};
const result = {...obj3, ...obj4};
console.log(result);  // {a: 1, b: 3, c: 4}
```

### Adding/Overriding Properties
```javascript
const user = {name: 'John', age: 30};
const updated = {...user, age: 31, city: 'NYC'};
console.log(updated);
// {name: 'John', age: 31, city: 'NYC'}
```

## Function Arguments

### Spread in Function Calls
```javascript
const numbers = [1, 5, 3, 9, 2];
console.log(Math.max(...numbers));  // 9
console.log(Math.min(...numbers));  // 1

function sum(a, b, c) {
  return a + b + c;
}
console.log(sum(...[10, 20, 30]));  // 60
```

### Combining with Regular Arguments
```javascript
function greet(greeting, ...names) {
  return `${greeting} ${names.join(', ')}`;
}

const people = ['John', 'Jane', 'Bob'];
console.log(greet('Hello', ...people));
// 'Hello John, Jane, Bob'
```

## Cloning

### Shallow Clone
```javascript
const arr = [1, 2, 3];
const clone1 = [...arr];
const clone2 = arr.slice();
const clone3 = Array.from(arr);

const obj = {a: 1, b: 2};
const clone4 = {...obj};
const clone5 = Object.assign({}, obj);
```

### Shallow Copy Limitation
```javascript
const original = {a: 1, b: {c: 2}};
const copy = {...original};

copy.a = 10;      // Independent
copy.b.c = 20;    // Affects original!

console.log(original.b.c);  // 20 (shared reference)
```

## Merging

### Merging with Precedence
```javascript
const defaults = {theme: 'light', lang: 'en', fontSize: 14};
const userPrefs = {theme: 'dark', fontSize: 16};

const config = {...defaults, ...userPrefs};
console.log(config);
// {theme: 'dark', lang: 'en', fontSize: 16}
```

### Conditional Merging
```javascript
const base = {a: 1, b: 2};
const condition = true;

const result = {
  ...base,
  ...(condition && {c: 3}),
  ...(false && {d: 4})  // Not included
};
console.log(result);  // {a: 1, b: 2, c: 3}
```

## Common Patterns

### Remove Property
```javascript
const user = {id: 1, name: 'John', password: 'secret'};
const {password, ...safeUser} = user;
console.log(safeUser);  // {id: 1, name: 'John'}
```

### Update Nested Property
```javascript
const state = {
  user: {name: 'John', age: 30},
  settings: {theme: 'dark'}
};

const updated = {
  ...state,
  user: {...state.user, age: 31}
};
```

### Array Deduplication
```javascript
const arr = [1, 2, 2, 3, 4, 4, 5];
const unique = [...new Set(arr)];
console.log(unique);  // [1, 2, 3, 4, 5]
```

### Prepend/Append Items
```javascript
const arr = [2, 3, 4];
const withFirst = [1, ...arr];        // [1, 2, 3, 4]
const withLast = [...arr, 5];          // [2, 3, 4, 5]
const withBoth = [0, ...arr, 5, 6];   // [0, 2, 3, 4, 5, 6]
```

### String to Array
```javascript
const str = 'hello';
const chars = [...str];
const reversed = [...str].reverse().join('');  // 'olleh'
```

## Key Takeaways

- **Spread** `...` expands iterables into individual elements
- **Shallow copy** for arrays and objects
- Merges arrays/objects (later values override)
- Works with iterables (arrays, strings, Sets, Maps)
- Cannot spread into object literals from non-objects
- More concise than `concat()` or `Object.assign()`
- Common in React for immutable state updates
