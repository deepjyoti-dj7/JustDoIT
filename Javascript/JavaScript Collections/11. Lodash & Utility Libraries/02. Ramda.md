# Ramda

## Installation

```bash
npm install ramda
```

### Import
```javascript
// Full library
import * as R from 'ramda';

// Specific functions
import {map, filter, pipe, compose} from 'ramda';
```

## Functional Programming

### Pure Functions
```javascript
import {add, multiply} from 'ramda';

// Pure functions - no side effects
const result1 = add(2, 3);        // 5
const result2 = multiply(4, 5);   // 20

// Always same input → same output
```

### Immutability
```javascript
import {append, update, remove} from 'ramda';

const arr = [1, 2, 3];

// All return new arrays
const arr2 = append(4, arr);     // [1, 2, 3, 4]
const arr3 = update(1, 20, arr); // [1, 20, 3]
const arr4 = remove(1, 1, arr);  // [1, 3]

console.log(arr);  // [1, 2, 3] (unchanged)
```

## Currying

### Auto-Curried Functions
```javascript
import {add, multiply, map} from 'ramda';

// All Ramda functions are curried
const add5 = add(5);         // Partially applied
const result = add5(10);     // 15

// Multiple parameters
const double = multiply(2);
const doubled = map(double, [1, 2, 3]);  // [2, 4, 6]

// Or
const doubleAll = map(multiply(2));
const result2 = doubleAll([1, 2, 3]);  // [2, 4, 6]
```

### Custom Currying
```javascript
import {curry} from 'ramda';

// Manually curry a function
const greet = curry((greeting, name) => `${greeting}, ${name}!`);

const sayHello = greet('Hello');
console.log(sayHello('John'));   // 'Hello, John!'
console.log(sayHello('Jane'));   // 'Hello, Jane!'

// Or call with all args
console.log(greet('Hi', 'Bob')); // 'Hi, Bob!'
```

## Composition

### pipe()
```javascript
import {pipe, map, filter, take} from 'ramda';

// Left to right
const processNumbers = pipe(
  filter(n => n % 2 === 0),  // Keep evens
  map(n => n * 2),           // Double
  take(3)                    // Take first 3
);

const result = processNumbers([1, 2, 3, 4, 5, 6, 7, 8]);
console.log(result);  // [4, 8, 12]
```

### compose()
```javascript
import {compose, map, filter, take} from 'ramda';

// Right to left (mathematical composition)
const processNumbers = compose(
  take(3),                   // Applied last
  map(n => n * 2),
  filter(n => n % 2 === 0)   // Applied first
);

const result = processNumbers([1, 2, 3, 4, 5, 6, 7, 8]);
console.log(result);  // [4, 8, 12]
```

### Point-Free Style
```javascript
import {pipe, map, filter, sum} from 'ramda';

// ❌ With explicit parameter
const sumEvenDoubled = (arr) => {
  return pipe(
    filter(n => n % 2 === 0),
    map(n => n * 2),
    sum
  )(arr);
};

// ✅ Point-free (no explicit parameter)
const sumEvenDoubled = pipe(
  filter(n => n % 2 === 0),
  map(n => n * 2),
  sum
);

console.log(sumEvenDoubled([1, 2, 3, 4, 5, 6]));  // 24
```

## Common Functions

### map, filter, reduce
```javascript
import {map, filter, reduce} from 'ramda';

const numbers = [1, 2, 3, 4, 5];

// Data last (opposite of native)
const doubled = map(n => n * 2, numbers);
const evens = filter(n => n % 2 === 0, numbers);
const sum = reduce((acc, n) => acc + n, 0, numbers);

// Curried
const double = map(n => n * 2);
const result = double([1, 2, 3]);  // [2, 4, 6]
```

### prop, path, pluck
```javascript
import {prop, path, pluck, map} from 'ramda';

const user = {id: 1, name: 'John', address: {city: 'NYC'}};

// Get property
const getName = prop('name');
console.log(getName(user));  // 'John'

// Get nested property
const getCity = path(['address', 'city']);
console.log(getCity(user));  // 'NYC'

// Extract property from array
const users = [{name: 'A'}, {name: 'B'}, {name: 'C'}];
const names = pluck('name', users);  // ['A', 'B', 'C']

// Or with map
const names2 = map(prop('name'), users);
```

### groupBy, sortBy
```javascript
import {groupBy, sortBy, prop} from 'ramda';

const people = [
  {name: 'Alice', age: 30},
  {name: 'Bob', age: 25},
  {name: 'Charlie', age: 30}
];

// Group by property
const byAge = groupBy(prop('age'), people);
console.log(byAge);
// {25: [{name: 'Bob', ...}], 30: [{name: 'Alice', ...}, ...]}

// Sort by property
const sorted = sortBy(prop('age'), people);
```

## Immutability Helpers

### assoc, dissoc
```javascript
import {assoc, dissoc} from 'ramda';

const user = {id: 1, name: 'John', age: 30};

// Add/update property
const updated = assoc('age', 31, user);
console.log(updated);  // {id: 1, name: 'John', age: 31}
console.log(user);     // {id: 1, name: 'John', age: 30} (unchanged)

// Remove property
const removed = dissoc('age', user);
console.log(removed);  // {id: 1, name: 'John'}
```

### assocPath, dissocPath
```javascript
import {assocPath, dissocPath} from 'ramda';

const user = {id: 1, profile: {address: {city: 'NYC'}}};

// Update nested property
const updated = assocPath(['profile', 'address', 'city'], 'LA', user);
console.log(updated.profile.address.city);  // 'LA'

// Remove nested property
const removed = dissocPath(['profile', 'address', 'city'], user);
```

### append, prepend, insert
```javascript
import {append, prepend, insert} from 'ramda';

const arr = [1, 2, 3];

const arr2 = append(4, arr);     // [1, 2, 3, 4]
const arr3 = prepend(0, arr);    // [0, 1, 2, 3]
const arr4 = insert(2, 2.5, arr); // [1, 2, 2.5, 3]

console.log(arr);  // [1, 2, 3] (unchanged)
```

## Practical Example

### Data Pipeline
```javascript
import {pipe, filter, map, sortBy, prop, take} from 'ramda';

const users = [
  {name: 'Alice', age: 30, active: true},
  {name: 'Bob', age: 25, active: false},
  {name: 'Charlie', age: 35, active: true},
  {name: 'David', age: 28, active: true}
];

// Get top 2 active users by age
const getTopActiveUsers = pipe(
  filter(prop('active')),
  sortBy(prop('age')),
  take(2),
  map(prop('name'))
);

const result = getTopActiveUsers(users);
console.log(result);  // ['David', 'Alice']
```

### Reusable Transformations
```javascript
import {pipe, map, filter, pluck} from 'ramda';

// Reusable predicates
const isEven = n => n % 2 === 0;
const greaterThan = x => y => y > x;
const double = x => x * 2;

// Compose transformations
const processEvenNumbers = pipe(
  filter(isEven),
  filter(greaterThan(2)),
  map(double)
);

const result = processEvenNumbers([1, 2, 3, 4, 5, 6]);
console.log(result);  // [8, 12]
```

## Key Takeaways

- **Ramda** is purely functional library
- **All functions curried** by default
- **Data last** parameter order (opposite of native)
- **Immutable** operations (no mutations)
- **pipe()** for left-to-right composition
- **compose()** for right-to-left composition
- **Point-free style** for clean code
- Great for **functional pipelines**
- Steeper learning curve than Lodash
- Use when embracing functional programming
